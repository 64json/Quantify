{"version":3,"sources":["quantify.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","DerivedUnit","_$","$","extend","_this","this","unitClasses","addUnitClass","Unit","type","TYPE","symbol","SYMBOL","hasOwnProperty","getUnitClass","getDerivedQuantities","quantities","quantityName","unitClass","Object","keys","BASE","name","types","UNITLESS","getUnitClasses","q","quantity","getStandardUnitClass","QUANTITY","PARENT","../unit/derived_unit","2","3","setupMain","./setup_main","4","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","err","Array","isArray","TypeError","Server","app","PER_PAGE","scrollHandler","$input","config","handlers","edit","removeClass","mathField","MQ","MathField","$equal","click","unitless","evalLaTeX","latex","combinations","search","remove","window","off","$lastContainer","last","scrollBottom","scrollTop","height","offset","top","outerHeight","console","log","combination","shift","renderCombination","each","addClass","scroll","animate","error","keyup","event","keyCode","$templateUnitWrapper","$unitWrapper","clone","find","text","append","NAME","insertBefore","factor","powers","derivedQuantities","baseQuantities","Math","pow","getLaTeX","$templateResultContainer","$resultContainer","$answer","staticMath","StaticMath","$templateSelectorWrapper","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","_step$value","$selectorWrapper","$selected","$ul","$li","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","power","_unitClass","return","_iterator","mulSymbols","divSymbols","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","abs","toExponential","toPrecision","join","../../app","../../server","5","RSVP","DOM","App","on","reason","assert","register","main","./app","./app/constructor","./dom","./server","./unit","rsvp","6","replace","replaced","infiniteReplace","match","JSON","stringify","isNaN","toLowerCase","Number","content","unitless1","unitless2","powerUnitlesses","parse","sign","multiplyDivideUnitlesses","plusUnitlesses","substring","split","str","src","dst","../app/index","7","mulPairs","divPairs","mulClasses","divClasses","queue","forEach","mulPair","cls","inverse","divPair","MULS","mulClass","DIVS","divClass","8","refinedTypes","9","unitSymbol","10","getMulAndDivClasses","identifyUnit","getUnitless","./eval_latex","./get_mul_and_div_classes","./get_unitless","./identify_unit","./search","11","_classCallCheck","instance","Constructor","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","protoProps","staticProps","prototype","Combination","lastQuantity","countCalculation","arguments","calculateCount","count","_type","new_","_type2","MAX_COMBINATION","countDerivedUnits","start","create","plain","cs","c","../app","12","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","BaseUnit","base","parentSymbol","ParentUnit","_ParentUnit","getPrototypeOf","13","muls","divs","_Server$getMulAndDivC","concat","../server","14","./base_unit","./derived_unit","./register","15","../base_unit","16","../derived_unit","17","18","19","20","21","22","23","24","mass","time","angle","current","temp","matter","intensity","storage","energy","pressure","force","hertz","watt","coulomb","volt","farad","ohm","siemens","weber","tesla","henry","lux","volume","area","./angle","./area","./coulomb","./current","./energy","./farad","./force","./henry","./hertz","./intensity","./length","./lux","./mass","./matter","./ohm","./pressure","./siemens","./storage","./temp","./tesla","./time","./volt","./volume","./watt","./weber","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","timeout","len","run","Item","array","noop","process","nextTick","args","apply","title","browser","env","argv","version","versions","addListener","once","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask","42","global","factory","define","amd","indexOf","callbacks","callback","callbacksFor","object","_promiseCallbacks","configure","objectOrFunction","x","isFunction","isMaybeThenable","F","scheduleFlush","entry","payload","guid","id","childGuid","childId","stack","instrument","eventName","promise","child","_guidKey","_id","detail","_result","label","_label","timeStamp","now","resolve$1","resolve","withOwnPromise","getThen","then","GET_THEN_ERROR","tryThen","fulfillmentHandler","rejectionHandler","handleForeignThenable","thenable","async","sealed","fulfill","reject","handleOwnThenable","_state","FULFILLED","REJECTED","_onError","subscribe","handleMaybeThenable","maybeThenable","then$$","publishRejection","publish","PENDING","_subscribers","parent","onFulfillment","onRejection","subscribers","settled","invokeCallback","ErrorObject","tryCatch","TRY_CATCH_ERROR","hasCallback","succeeded","failed","initializePromise","resolver","resolved","_arguments","state","result","makeSettledResult","position","Enumerator","input","abortOnReject","_instanceConstructor","_abortOnReject","_validateInput","_input","_remaining","_init","_enumerate","_validationError","all","entries","race","reject$1","needsResolver","needsNew","Promise","counter","Result","getThen$1","obj","ERROR","tryApply","makeObject","_","argumentNames","_name","arrayResult","wrapThenable","_then","onFulFillment","denodeify","nodeFunc","options","fn","promiseInput","arg","needsPromiseInput","GET_THEN_ERROR$1","p","val","handlePromiseInput","handleValueInput","all$1","AllSettled","_superConstructor","allSettled","race$1","PromiseHash","hash","HashSettled","hashSettled","rethrow","defer","deferred","map","promises","mapFn","values","results","resolve$2","reject$2","resolveAll","resolveSingle","filter","filterFn","filtered","newLength","asap","queue$1","scheduleFlush$1","useNextTick","node","setImmediate","flush","useVertxTimer","vertxNext","useSetTimeout","useMutationObserver","iterations","observer","BrowserMutationObserver","document","createTextNode","observe","characterData","data","useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","attemptVertex","vertx","runOnLoop","runOnContext","_defineProperty","EventTarget","mixin","allCallbacks","index","splice","trigger","_isArray","toString","Date","getTime","o_create","_eachEntry","_settleMaybeThenable","_settledAt","_makeResult","_willSettleAt","enumerator","guidKey","cast","after","catch","finally","browserWindow","browserGlobal","MutationObserver","WebKitMutationObserver","isNode","isWorker","Uint8ClampedArray","importScripts","platform","_async$filter","cb","_process"],"mappings":"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","file":"quantify.js","sourcesContent":["/**\n * Quantify - Unit Simplifier\n * @version v0.0.1\n * @author Jason Park and Rounak Bastola\n * @link https://github.com/parkjs814/Quantify\n * @license MIT\n */\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../unit/derived_unit');\n\nvar _$ = $,\n    extend = _$.extend;\n\n\nmodule.exports = function () {\n  var _this = this;\n\n  this.unitClasses = {};\n\n  this.addUnitClass = function (Unit) {\n    var type = Unit.TYPE;\n    var symbol = Unit.SYMBOL;\n    if (!_this.unitClasses.hasOwnProperty(type)) {\n      _this.unitClasses[type] = {};\n    }\n    _this.unitClasses[type][symbol] = Unit;\n  };\n\n  this.getUnitClass = function (type, symbol) {\n    return _this.unitClasses[type][symbol];\n  };\n\n  this.getDerivedQuantities = function () {\n    var quantities = {};\n    for (var quantityName in _this.unitClasses) {\n      var unitClasses = _this.unitClasses[quantityName];\n      var unitClass = unitClasses[Object.keys(unitClasses)[0]];\n      if (unitClass.BASE) continue;\n      quantities[quantityName] = {\n        name: quantityName,\n        types: unitClass.UNITLESS.types\n      };\n    }\n    return quantities;\n  };\n\n  this.getUnitClasses = function (q) {\n    if (q == true) return _this.unitClasses;\n    if (q) return _this.unitClasses[q];\n    var unitClasses = {};\n    for (var quantity in _this.unitClasses) {\n      extend(true, unitClasses, _this.unitClasses[quantity]);\n    }\n    return unitClasses;\n  };\n\n  this.getStandardUnitClass = function (quantity) {\n    var unitClasses = _this.unitClasses[quantity];\n    for (var symbol in unitClasses) {\n      var unitClass = unitClasses[symbol];\n      if (unitClass.QUANTITY == 1) {\n        if (!unitClass.BASE) {\n          while (unitClass.PARENT !== DerivedUnit) {\n            unitClass = unitClass.PARENT;\n          }\n        }\n        return unitClass;\n      }\n    }\n    return unitClasses[Object.keys(unitClasses)[0]];\n  };\n};\n\n},{\"../unit/derived_unit\":13}],2:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = {};\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar setupMain = require('./setup_main');\n\nmodule.exports = {\n  setupMain: setupMain\n};\n\n},{\"./setup_main\":4}],4:[function(require,module,exports){\n'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar Server = require('../../server');\nvar app = require('../../app');\n\nvar PER_PAGE = 10;\nvar scrollHandler = null;\n\nmodule.exports = function () {\n  var $input = $('#input');\n  var config = {\n    handlers: {\n      edit: function edit() {\n        $input.removeClass('active error');\n      }\n    }\n  };\n  var mathField = MQ.MathField($input[0], config);\n  var $equal = $('#equal');\n  $equal.click(function () {\n    try {\n      (function () {\n        var unitless = Server.evalLaTeX(mathField.latex());\n        var combinations = Server.search(unitless);\n        $('.result-container:not(.template)').remove();\n\n        if (scrollHandler) $(window).off('scroll', scrollHandler);\n        scrollHandler = function scrollHandler() {\n          var $lastContainer = $('.container:not(.template)').last();\n          var scrollBottom = $(window).scrollTop() + $(window).height();\n          if ($lastContainer.offset().top + $lastContainer.outerHeight() < scrollBottom) {\n            console.log('a');\n            var i = 0;\n            while (combinations.length) {\n              var combination = combinations.shift();\n              renderCombination(unitless, combination);\n              if (i++ >= PER_PAGE) break;\n            }\n          }\n          $('.result-container:not(.appear):not(.template)').each(function () {\n            if ($(this).offset().top < scrollBottom) {\n              $(this).addClass('appear');\n            }\n          });\n        };\n        scrollHandler();\n        $(window).scroll(scrollHandler);\n\n        $('html, body').animate({\n          scrollTop: $('.search-container').offset().top\n        }, 300);\n        $input.addClass('active');\n      })();\n    } catch (err) {\n      console.error(err);\n      $input.addClass('error');\n    }\n  });\n  $input.keyup(function (event) {\n    if (event.keyCode == 13) {\n      $equal.click();\n    }\n  });\n\n  var $templateUnitWrapper = $('.unit-wrapper.template');\n  var unitClasses = app.getUnitClasses(true);\n  for (var quantity in unitClasses) {\n    var $unitWrapper = $templateUnitWrapper.clone();\n    $unitWrapper.removeClass('template');\n    $unitWrapper.find('.quantity').text(quantity);\n    for (var symbol in unitClasses[quantity]) {\n      $unitWrapper.find('ul').append('<li>' + symbol + ' (' + unitClasses[quantity][symbol].NAME + ')</li>');\n    }\n    $unitWrapper.insertBefore($templateUnitWrapper);\n  }\n};\n\nvar renderCombination = function renderCombination(unitless, combination) {\n  var factor = 1;\n  var powers = [];\n\n  var _arr = [combination.derivedQuantities, combination.baseQuantities];\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var quantities = _arr[_i];\n    for (var quantity in quantities) {\n      var unitClass = app.getStandardUnitClass(quantity);\n      factor *= Math.pow(unitClass.QUANTITY, quantities[quantity]);\n      powers.push([unitClass, quantities[quantity]]);\n    }\n  }\n\n  var latex = getLaTeX(unitless, factor, powers);\n\n  var $templateResultContainer = $('.result-container.template');\n  var $resultContainer = $templateResultContainer.clone();\n  var $answer = $resultContainer.find('.answer');\n  $resultContainer.removeClass('template');\n  $answer.text(latex);\n  var staticMath = MQ.StaticMath($answer[0]);\n  $resultContainer.insertBefore($templateResultContainer);\n  var $templateSelectorWrapper = $resultContainer.find('.selector-wrapper.template');\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop = function _loop() {\n      var _step$value = _slicedToArray(_step.value, 1),\n          unitClass = _step$value[0];\n\n      var quantity = unitClass.TYPE;\n      var $selectorWrapper = $templateSelectorWrapper.clone();\n      $selectorWrapper.removeClass('template');\n      $selectorWrapper.find('.quantity').text(quantity);\n      var $selected = $selectorWrapper.find('.selected');\n      $selected.text(unitClass.SYMBOL);\n      var $ul = $selectorWrapper.find('ul');\n      var unitClasses = app.getUnitClasses(quantity);\n      for (var symbol in unitClasses) {\n        var $li = $('<li>' + symbol + '</li>');\n        $li.click(function () {\n          var symbol = $(this).text();\n          $selected.text(symbol);\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = powers[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var power = _step2.value;\n\n              var _unitClass = unitClasses[symbol];\n              if (power[0].TYPE == quantity) {\n                factor /= Math.pow(power[0].QUANTITY, power[1]);\n                power[0] = _unitClass;\n                factor *= Math.pow(power[0].QUANTITY, power[1]);\n              }\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n\n          var latex = getLaTeX(unitless, factor, powers);\n          staticMath.latex(latex);\n        });\n        $ul.append($li);\n      }\n      $selectorWrapper.insertBefore($templateSelectorWrapper);\n    };\n\n    for (var _iterator = powers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop();\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nvar getLaTeX = function getLaTeX(unitless, factor, powers) {\n  var mulSymbols = [],\n      divSymbols = [];\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = powers[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var power = _step3.value;\n\n      if (power[1] > 0) {\n        if (power[1] > 1) {\n          mulSymbols.push(power[0].SYMBOL + '^' + power[1]);\n        } else {\n          mulSymbols.push(power[0].SYMBOL);\n        }\n      } else {\n        if (power[1] < -1) {\n          divSymbols.push(power[0].SYMBOL + '^' + -power[1]);\n        } else {\n          divSymbols.push(power[0].SYMBOL);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  var value = unitless.quantity / factor;\n  if (Math.abs(value) > 1e5 || Math.abs(value) < 1e-5) {\n    value = value.toExponential(5);\n  } else {\n    value = value.toPrecision(5);\n  }\n  var latex = value + '\\\\ ' + mulSymbols.join('\\\\cdot ');\n  if (divSymbols.length) {\n    if (divSymbols.length > 1) {\n      latex += ' / (' + divSymbols.join('\\\\cdot ') + ')';\n    } else {\n      latex += ' / ' + divSymbols[0];\n    }\n  }\n  return latex;\n};\n\n},{\"../../app\":2,\"../../server\":10}],5:[function(require,module,exports){\n'use strict';\n\nvar RSVP = require('rsvp');\nvar DOM = require('./dom');\nvar Server = require('./server');\nvar app = require('./app');\nvar App = require('./app/constructor');\nvar Unit = require('./unit');\nvar _$ = $,\n    extend = _$.extend;\n\n// set global promise error handler\n\nRSVP.on('error', function (reason) {\n  console.assert(false, reason);\n});\n\nextend(true, app, new App());\n\nUnit.register();\n\nextend(true, window, {\n  main: DOM.setupMain\n});\n\n},{\"./app\":2,\"./app/constructor\":1,\"./dom\":3,\"./server\":10,\"./unit\":14,\"rsvp\":42}],6:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app/index');\n\nmodule.exports = function (latex) {\n  var unitClasses = app.getUnitClasses();\n  latex = latex.replace(/\\\\ /g, '');\n  latex = latex.replace(/\\\\left\\(/g, '(');\n  latex = latex.replace(/\\\\right\\)/g, ')');\n  var replaced = null;\n  while (replaced != latex) {\n    latex = replaced || latex;\n    replaced = latex;\n    replaced = infiniteReplace(replaced, /\\^{([^{}]+)}/g, '^($1)');\n    replaced = infiniteReplace(replaced, /\\\\frac{([^{}]+)}{([^{}]+)}/g, '($1)/($2)');\n  }\n  latex = latex.replace(/\\\\cdot/g, '*');\n  latex = latex.replace(/(\\\\| )/g, '');\n  latex = latex.replace(/(-|(?!a-zA-Z)((?:[a-zA-Z]|||)+)(?!a-zA-Z)|([0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?))/g, function (match, value) {\n    if (value == '-') {\n      return '+$$' + JSON.stringify({ types: {}, quantity: -1 }) + '$$*';\n    } else if (isNaN(value)) {\n      if (value.toLowerCase() == 'e') return value;\n      return '$$' + JSON.stringify(unitClasses[value].UNITLESS) + '$$';\n    } else {\n      return '$$' + JSON.stringify({ types: {}, quantity: Number(value) }) + '$$';\n    }\n  });\n  latex = infiniteReplace(latex, /(?:\\(|^)([^()]+)(?:\\)|$)/g, function (match, content) {\n    content = infiniteReplace(content, /\\$\\$([^($$)]+)\\$\\$\\^\\$\\$([^($$)]+)\\$\\$/g, function (match, unitless1, unitless2) {\n      return powerUnitlesses(JSON.parse(unitless1), JSON.parse(unitless2));\n    });\n\n    content = infiniteReplace(content, /\\$\\$([^($$)]+)\\$\\$(\\*|\\/|)\\$\\$([^($$)]+)\\$\\$/, function (match, unitless1, sign, unitless2) {\n      return multiplyDivideUnitlesses(JSON.parse(unitless1), sign, JSON.parse(unitless2));\n    });\n\n    content = infiniteReplace(content, /\\+?\\$\\$([^($$)]+)\\$\\$\\+\\$\\$([^($$)]+)\\$\\$/g, function (match, unitless1, unitless2) {\n      return plusUnitlesses(JSON.parse(unitless1), JSON.parse(unitless2));\n    });\n\n    if (content[0] == '+') content = content.substring(1);\n    return content;\n  });\n\n  return JSON.parse(latex.split('$$')[1]);\n};\n\nvar powerUnitlesses = function powerUnitlesses(unitless1, unitless2) {\n  if (Object.keys(unitless2.types).length) return null;\n  var power = unitless2.quantity;\n  unitless1.quantity = Math.pow(unitless1.quantity, power);\n  for (var type in unitless1.types) {\n    unitless1.types[type] *= power;\n    if (unitless1.types[type] == 0) {\n      delete unitless1.types[type];\n    }\n  }\n  return '$$' + JSON.stringify(unitless1) + '$$';\n};\n\nvar multiplyDivideUnitlesses = function multiplyDivideUnitlesses(unitless1, sign, unitless2) {\n  if (sign == '/') {\n    unitless1.quantity /= unitless2.quantity;\n  } else {\n    unitless1.quantity *= unitless2.quantity;\n  }\n  for (var type in unitless2.types) {\n    if (!unitless1.types.hasOwnProperty(type)) {\n      unitless1.types[type] = (sign == '/' ? -1 : 1) * unitless2.types[type];\n    } else {\n      unitless1.types[type] += (sign == '/' ? -1 : 1) * unitless2.types[type];\n    }\n    if (unitless1.types[type] == 0) {\n      delete unitless1.types[type];\n    }\n  }\n  return '$$' + JSON.stringify(unitless1) + '$$';\n};\n\nvar plusUnitlesses = function plusUnitlesses(unitless1, unitless2) {\n  if (Object.keys(unitless1.types).length != Object.keys(unitless2.types).length) return null;\n  for (var type in unitless2.types) {\n    if (unitless2.types[type] != unitless1.types[type]) return null;\n  }\n  unitless1.quantity += unitless2.quantity;\n  return '+$$' + JSON.stringify(unitless1) + '$$';\n};\n\nvar infiniteReplace = function infiniteReplace(str, src, dst) {\n  var replaced = null;\n  while (replaced != str) {\n    str = replaced || str;\n    replaced = str.replace(src, dst);\n  }\n  return str;\n};\n\n},{\"../app/index\":2}],7:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app/index');\n\nmodule.exports = function (mulPairs, divPairs) {\n  var mulClasses = [];\n  var divClasses = [];\n\n  var queue = [];\n  mulPairs.forEach(function (mulPair) {\n    var type = mulPair[0];\n    var symbol = mulPair[1];\n    queue.push({\n      cls: app.getUnitClass(type, symbol),\n      inverse: false\n    });\n  });\n  divPairs.forEach(function (divPair) {\n    var type = divPair[0];\n    var symbol = divPair[1];\n    queue.push({\n      cls: app.getUnitClass(type, symbol),\n      inverse: true\n    });\n  });\n\n  var _loop = function _loop() {\n    var e = queue.shift();\n    if (e.cls.BASE) {\n      (e.inverse ? divClasses : mulClasses).push(e.cls);\n    } else {\n      e.cls.MULS.forEach(function (mulClass) {\n        queue.push({\n          cls: mulClass,\n          inverse: e.inverse\n        });\n      });\n      e.cls.DIVS.forEach(function (divClass) {\n        queue.push({\n          cls: divClass,\n          inverse: !e.inverse\n        });\n      });\n    }\n  };\n\n  while (queue.length > 0) {\n    _loop();\n  }\n\n  return { mulClasses: mulClasses, divClasses: divClasses };\n};\n\n},{\"../app/index\":2}],8:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (mulClasses, divClasses) {\n  var quantity = 1;\n  var types = {};\n  mulClasses.forEach(function (mulClass) {\n    quantity *= mulClass.QUANTITY;\n    if (types.hasOwnProperty(mulClass.TYPE)) {\n      types[mulClass.TYPE]++;\n    } else {\n      types[mulClass.TYPE] = 1;\n    }\n  });\n  divClasses.forEach(function (divClass) {\n    quantity /= divClass.QUANTITY;\n    if (types.hasOwnProperty(divClass.TYPE)) {\n      types[divClass.TYPE]--;\n    } else {\n      types[divClass.TYPE] = -1;\n    }\n  });\n  var refinedTypes = {};\n  for (var type in types) {\n    var n = types[type];\n    if (n != 0) refinedTypes[type] = n;\n  }\n\n  return { types: types, quantity: quantity };\n};\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app/index');\n\nmodule.exports = function (symbol) {\n  var unitClasses = app.getUnitClasses();\n  for (var unitSymbol in unitClasses) {\n    var unitClass = unitClasses[unitSymbol];\n    if (unitClass.SYMBOL == symbol) return unitClass;\n  }\n};\n\n},{\"../app/index\":2}],10:[function(require,module,exports){\n'use strict';\n\nvar getMulAndDivClasses = require('./get_mul_and_div_classes');\nvar identifyUnit = require('./identify_unit');\nvar getUnitless = require('./get_unitless');\nvar evalLaTeX = require('./eval_latex');\nvar search = require('./search');\n\nmodule.exports = {\n  getMulAndDivClasses: getMulAndDivClasses,\n  identifyUnit: identifyUnit,\n  getUnitless: getUnitless,\n  evalLaTeX: evalLaTeX,\n  search: search\n};\n\n},{\"./eval_latex\":6,\"./get_mul_and_div_classes\":7,\"./get_unitless\":8,\"./identify_unit\":9,\"./search\":11}],11:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar app = require('../app');\n\nvar _$ = $,\n    extend = _$.extend;\n\nvar Combination = function () {\n  function Combination(derivedQuantities, baseQuantities, lastQuantity) {\n    var countCalculation = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n    _classCallCheck(this, Combination);\n\n    this.derivedQuantities = derivedQuantities;\n    this.baseQuantities = baseQuantities;\n    this.lastQuantity = lastQuantity;\n    if (countCalculation) this.calculateCount();\n  }\n\n  _createClass(Combination, [{\n    key: 'calculateCount',\n    value: function calculateCount() {\n      var count = 0;\n      for (var type in this.derivedQuantities) {\n        count += Math.abs(this.derivedQuantities[type]);\n      }\n      for (var _type in this.baseQuantities) {\n        count += Math.abs(this.baseQuantities[_type]);\n      }\n      this.count = count;\n    }\n  }, {\n    key: 'countDerivedUnits',\n    value: function countDerivedUnits() {\n      var count = 0;\n      for (var type in this.derivedQuantities) {\n        count += Math.abs(this.derivedQuantities[type]);\n      }\n      return count;\n    }\n  }, {\n    key: 'create',\n    value: function create(quantity, inverse) {\n      var factor = inverse ? -1 : 1;\n      var new_ = new Combination(extend(true, {}, this.derivedQuantities), extend(true, {}, this.baseQuantities), quantity.name, false);\n\n      var type = quantity.name;\n      if (!new_.derivedQuantities.hasOwnProperty(type)) {\n        new_.derivedQuantities[type] = factor;\n      } else {\n        if (new_.derivedQuantities[type] / factor < 0) return null;\n        new_.derivedQuantities[type] += factor;\n      }\n\n      var types = quantity.types;\n      for (var _type2 in types) {\n        if (!new_.baseQuantities.hasOwnProperty(_type2)) {\n          new_.baseQuantities[_type2] = -factor * types[_type2];\n        } else {\n          new_.baseQuantities[_type2] -= factor * types[_type2];\n        }\n        if (new_.baseQuantities[_type2] == 0) {\n          delete new_.baseQuantities[_type2];\n        }\n      }\n\n      new_.calculateCount();\n      return new_;\n    }\n  }]);\n\n  return Combination;\n}();\n\nmodule.exports = function (unitless) {\n  var MAX_COMBINATION = 10;\n  var queue = [new Combination({}, unitless.types, null)];\n  var quantities = app.getDerivedQuantities();\n  var combinations = [];\n  for (var i = 0; i < MAX_COMBINATION; i++) {\n    combinations.push([]);\n  }\n  while (queue.length) {\n    var e = queue.shift();\n    if (e == null) continue;\n    if (e.count < MAX_COMBINATION) {\n      combinations[e.count].push(e);\n    }\n    if (e.countDerivedUnits() < 4) {\n      var start = e.lastQuantity == null;\n      for (var quantityName in quantities) {\n        if (quantityName == e.lastQuantity) start = true;\n        if (!start) continue;\n        var quantity = quantities[quantityName];\n        queue.push(e.create(quantity, false));\n        queue.push(e.create(quantity, true));\n      }\n    }\n  }\n  var plain = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = combinations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var cs = _step.value;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = cs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var c = _step2.value;\n\n          plain.push(c);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return plain;\n};\n\n},{\"../app\":2}],12:[function(require,module,exports){\n'use strict';\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar app = require('../app');\n\nvar BaseUnit = function BaseUnit(value) {\n  _classCallCheck(this, BaseUnit);\n\n  this.value = value;\n};\n\nBaseUnit.BASE = BaseUnit.prototype.base = true;\nBaseUnit.QUANTITY = BaseUnit.prototype.quantity = 1;\n\nBaseUnit.register = function (type, name, symbol) {\n  var quantity = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  var parentSymbol = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\n  var ParentUnit = parentSymbol ? app.getUnitClass(type, parentSymbol) : BaseUnit;\n  quantity *= ParentUnit.QUANTITY;\n\n  var Unit = function (_ParentUnit) {\n    _inherits(Unit, _ParentUnit);\n\n    function Unit(value) {\n      _classCallCheck(this, Unit);\n\n      return _possibleConstructorReturn(this, (Unit.__proto__ || Object.getPrototypeOf(Unit)).call(this, value));\n    }\n\n    return Unit;\n  }(ParentUnit);\n\n  Unit.TYPE = Unit.prototype.type = type;\n  Unit.NAME = Unit.prototype.name = name;\n  Unit.SYMBOL = Unit.prototype.symbol = symbol;\n  Unit.QUANTITY = Unit.prototype.quantity = quantity;\n  Unit.UNITLESS = { types: {}, quantity: quantity };\n  Unit.UNITLESS.types[type] = 1;\n\n  app.addUnitClass(Unit);\n};\n\nmodule.exports = BaseUnit;\n\n},{\"../app\":2}],13:[function(require,module,exports){\n'use strict';\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar app = require('../app');\nvar Server = require('../server');\n\nvar DerivedUnit = function DerivedUnit(value) {\n  _classCallCheck(this, DerivedUnit);\n\n  this.value = value;\n};\n\nDerivedUnit.BASE = DerivedUnit.prototype.base = false;\nDerivedUnit.QUANTITY = DerivedUnit.prototype.quantity = 1;\nDerivedUnit.MULS = DerivedUnit.prototype.muls = [];\nDerivedUnit.DIVS = DerivedUnit.prototype.divs = [];\n\nDerivedUnit.register = function (type, name, symbol, mulPairs, divPairs) {\n  var quantity = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n  var parentSymbol = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : null;\n\n  var _Server$getMulAndDivC = Server.getMulAndDivClasses(mulPairs, divPairs),\n      mulClasses = _Server$getMulAndDivC.mulClasses,\n      divClasses = _Server$getMulAndDivC.divClasses;\n\n  var ParentUnit = parentSymbol ? app.getUnitClass(type, parentSymbol) : DerivedUnit;\n  quantity *= ParentUnit.QUANTITY;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = mulClasses[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var mulClass = _step.value;\n      quantity *= mulClass.QUANTITY;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = divClasses[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var divClass = _step2.value;\n      quantity /= divClass.QUANTITY;\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  mulClasses = ParentUnit.MULS.concat(mulClasses);\n  divClasses = ParentUnit.DIVS.concat(divClasses);\n\n  var Unit = function (_ParentUnit) {\n    _inherits(Unit, _ParentUnit);\n\n    function Unit(value) {\n      _classCallCheck(this, Unit);\n\n      return _possibleConstructorReturn(this, (Unit.__proto__ || Object.getPrototypeOf(Unit)).call(this, value));\n    }\n\n    return Unit;\n  }(ParentUnit);\n\n  Unit.TYPE = Unit.prototype.type = type;\n  Unit.NAME = Unit.prototype.name = name;\n  Unit.SYMBOL = Unit.prototype.symbol = symbol;\n  Unit.MULS = Unit.prototype.muls = mulClasses;\n  Unit.DIVS = Unit.prototype.divs = divClasses;\n  Unit.QUANTITY = Unit.prototype.quantity = quantity;\n  Unit.UNITLESS = Server.getUnitless(mulClasses, divClasses);\n  Unit.UNITLESS.quantity = quantity;\n  Unit.PARENT = ParentUnit;\n\n  app.addUnitClass(Unit);\n};\n\nmodule.exports = DerivedUnit;\n\n},{\"../app\":2,\"../server\":10}],14:[function(require,module,exports){\n'use strict';\n\nvar BaseUnit = require('./base_unit');\nvar DerivedUnit = require('./derived_unit');\nvar register = require('./register');\n\nmodule.exports = {\n  BaseUnit: BaseUnit,\n  DerivedUnit: DerivedUnit,\n  register: register\n};\n\n},{\"./base_unit\":12,\"./derived_unit\":13,\"./register\":24}],15:[function(require,module,exports){\n'use strict';\n\nvar BaseUnit = require('../base_unit');\n\nvar type = 'angle';\n\nmodule.exports = function () {\n  BaseUnit.register(type, 'radian', '', 1);\n  BaseUnit.register(type, 'radian', 'rad', 1);\n  BaseUnit.register(type, 'degree', '', 57.2958, '');\n};\n\n},{\"../base_unit\":12}],16:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'area';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'acre', 'acre', [['length', 'm'], ['length', 'm']], [], 4046.86);\n  DerivedUnit.register(type, 'hectare', 'ha', [['length', 'm'], ['length', 'm']], [], 10000);\n};\n\n},{\"../derived_unit\":13}],17:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'coulomb';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'coulomb', 'C', [['current', 'A'], ['time', 's']], []);\n  DerivedUnit.register(type, 'kilo coulomb', 'KC', [], [], 1e3, 'C');\n  DerivedUnit.register(type, 'Mega coulomb', 'MC', [], [], 1e6, 'C');\n  DerivedUnit.register(type, 'Giga coulomb', 'GC', [], [], 1e9, 'C');\n  DerivedUnit.register(type, 'milli coulomb', 'mC', [], [], 1e-3, 'C');\n  DerivedUnit.register(type, 'micro coulomb', 'C', [], [], 1e-6, 'C');\n  DerivedUnit.register(type, 'nano coulomb', 'nC', [], [], 1e-9, 'C');\n};\n\n},{\"../derived_unit\":13}],18:[function(require,module,exports){\n'use strict';\n\nvar BaseUnit = require('../base_unit');\n\nvar type = 'current';\n\nmodule.exports = function () {\n  BaseUnit.register(type, 'Ampere', 'A', 1);\n  BaseUnit.register(type, 'centi Ampere', 'cA', 1e-2, 'A');\n  BaseUnit.register(type, 'Kilo Ampere', 'KA', 1e3, 'A');\n  BaseUnit.register(type, 'milli Ampere', 'mA', 1e-3, 'A');\n  BaseUnit.register(type, 'micro Ampere', 'A', 1e-6, 'A');\n  BaseUnit.register(type, 'nano Ampere', 'nA', 1e-9, 'A');\n  BaseUnit.register(type, 'pico Ampere', 'pA', 1e-12, 'A');\n};\n\n},{\"../base_unit\":12}],19:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'energy';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'joule', 'J', [['mass', 'Kg'], ['length', 'm'], ['length', 'm']], [['time', 's'], ['time', 's']]);\n  DerivedUnit.register(type, 'Kilo joule', 'KJ', [], [], 1e3, 'J');\n  DerivedUnit.register(type, 'Mega joule', 'MJ', [], [], 1e6, 'J');\n  DerivedUnit.register(type, 'Giga joule', 'GJ', [], [], 1e9, 'J');\n  DerivedUnit.register(type, 'milli joule', 'mJ', [], [], 1e-3, 'J');\n  DerivedUnit.register(type, 'micro joule', 'J', [], [], 1e-6, 'J');\n  DerivedUnit.register(type, 'nano joule', 'nJ', [], [], 1e-9, 'J');\n  DerivedUnit.register(type, 'foot pounds', 'ft-lb', [], [], 0.737562, 'J');\n  DerivedUnit.register(type, 'electron volt', 'eV', [], [], 8.462e+18, 'ft-lb');\n};\n\n},{\"../derived_unit\":13}],20:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'farad';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'farad', 'F', [['time', 's'], ['time', 's'], ['time', 's'], ['time', 's'], ['current', 'A'], ['current', 'A']], [['mass', 'Kg'], ['length', 'm'], ['length', 'm']]);\n  DerivedUnit.register(type, 'Kilo farad', 'KF', [], [], 1e3, 'F');\n  DerivedUnit.register(type, 'Mega farad', 'MF', [], [], 1e6, 'F');\n  DerivedUnit.register(type, 'Giga farad', 'GF', [], [], 1e9, 'F');\n  DerivedUnit.register(type, 'milli farad', 'mF', [], [], 1e-3, 'F');\n  DerivedUnit.register(type, 'micro farad', 'F', [], [], 1e-6, 'F');\n  DerivedUnit.register(type, 'nano farad', 'nF', [], [], 1e-9, 'F');\n};\n\n},{\"../derived_unit\":13}],21:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'force';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'Newtons', 'N', [['mass', 'Kg'], ['length', 'm']], [['time', 's'], ['time', 's']]);\n  DerivedUnit.register(type, 'Kilo Newtons', 'KN', [], [], 1e3, 'N');\n  DerivedUnit.register(type, 'Mega Newtons', 'MN', [], [], 1e6, 'N');\n  DerivedUnit.register(type, 'Giga Newtons', 'GN', [], [], 1e9, 'N');\n  DerivedUnit.register(type, 'milli Newtons', 'mN', [], [], 1e-3, 'N');\n  DerivedUnit.register(type, 'micro Newtons', 'N', [], [], 1e-6, 'N');\n  DerivedUnit.register(type, 'nano Newtons', 'nN', [], [], 1e-9, 'N');\n};\n\n},{\"../derived_unit\":13}],22:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'henry';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'henry', 'H', [['mass', 'Kg'], ['length', 'm'], ['length', 'm']], [['time', 's'], ['time', 's'], ['current', 'A'], ['current', 'A']]);\n  DerivedUnit.register(type, 'Kilo henry', 'KH', [], [], 1e3, 'H');\n  DerivedUnit.register(type, 'Mega henry', 'MH', [], [], 1e6, 'H');\n  DerivedUnit.register(type, 'Giga henry', 'GH', [], [], 1e9, 'H');\n  DerivedUnit.register(type, 'milli henry', 'mH', [], [], 1e-3, 'H');\n  DerivedUnit.register(type, 'micro henry', 'H', [], [], 1e-6, 'H');\n  DerivedUnit.register(type, 'nano henry', 'nH', [], [], 1e-9, 'H');\n};\n\n},{\"../derived_unit\":13}],23:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'hertz';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'hertz', 'Hz', [], [['time', 's']]);\n  DerivedUnit.register(type, 'Kilo hertz', 'KHz', [], [], 1e3, 'Hz');\n  DerivedUnit.register(type, 'Mega hertz', 'MHz', [], [], 1e6, 'Hz');\n  DerivedUnit.register(type, 'Giga hertz', 'GHz', [], [], 1e9, 'Hz');\n  DerivedUnit.register(type, 'milli hertz', 'mHz', [], [], 1e-3, 'Hz');\n  DerivedUnit.register(type, 'micro hertz', 'Hz', [], [], 1e-6, 'Hz');\n  DerivedUnit.register(type, 'nano hertz', 'nHz', [], [], 1e-9, 'Hz');\n};\n\n},{\"../derived_unit\":13}],24:[function(require,module,exports){\n'use strict';\n\nvar length = require('./length');\nvar mass = require('./mass');\nvar time = require('./time');\nvar angle = require('./angle');\nvar current = require('./current');\nvar temp = require('./temp');\nvar matter = require('./matter');\nvar intensity = require('./intensity');\nvar storage = require('./storage');\nvar energy = require('./energy');\nvar pressure = require('./pressure');\nvar force = require('./force');\nvar hertz = require('./hertz');\nvar watt = require('./watt');\nvar coulomb = require('./coulomb');\nvar volt = require('./volt');\nvar farad = require('./farad');\nvar ohm = require('./ohm');\nvar siemens = require('./siemens');\nvar weber = require('./weber');\nvar tesla = require('./tesla');\nvar henry = require('./henry');\nvar lux = require('./lux');\nvar volume = require('./volume');\nvar area = require('./area');\n\nmodule.exports = function () {\n  length();\n  mass();\n  time();\n  angle();\n  current();\n  temp();\n  matter();\n  intensity();\n  storage();\n  energy();\n  pressure();\n  force();\n  hertz();\n  watt();\n  coulomb();\n  volt();\n  farad();\n  ohm();\n  siemens();\n  weber();\n  tesla();\n  henry();\n  lux();\n  volume();\n  area();\n};\n\n},{\"./angle\":15,\"./area\":16,\"./coulomb\":17,\"./current\":18,\"./energy\":19,\"./farad\":20,\"./force\":21,\"./henry\":22,\"./hertz\":23,\"./intensity\":25,\"./length\":26,\"./lux\":27,\"./mass\":28,\"./matter\":29,\"./ohm\":30,\"./pressure\":31,\"./siemens\":32,\"./storage\":33,\"./temp\":34,\"./tesla\":35,\"./time\":36,\"./volt\":37,\"./volume\":38,\"./watt\":39,\"./weber\":40}],25:[function(require,module,exports){\n'use strict';\n\nvar BaseUnit = require('../base_unit');\n\nvar type = 'intensity';\n\nmodule.exports = function () {\n  BaseUnit.register(type, 'candela', 'cd', 1);\n};\n\n},{\"../base_unit\":12}],26:[function(require,module,exports){\n'use strict';\n\nvar BaseUnit = require('../base_unit');\n\nvar type = 'length';\n\nmodule.exports = function () {\n  BaseUnit.register(type, 'meter', 'm', 1);\n  BaseUnit.register(type, 'centi meter', 'cm', 1e-2, 'm');\n  BaseUnit.register(type, 'Kilo meter', 'Km', 1e3, 'm');\n  BaseUnit.register(type, 'milli meter', 'mm', 1e-3, 'm');\n  BaseUnit.register(type, 'micro meter', 'm', 1e-6, 'm');\n  BaseUnit.register(type, 'nano meter', 'nm', 1e-9, 'm');\n  BaseUnit.register(type, 'pico meter', 'pm', 1e-12, 'm');\n  BaseUnit.register(type, 'feet', 'ft', 0.3048, 'm');\n  BaseUnit.register(type, 'yard', 'yd', 3.000, 'ft');\n  BaseUnit.register(type, 'mile', 'mi', 1760, 'yd');\n  BaseUnit.register(type, 'inch', 'in', 1.5783e-5, 'mi');\n};\n\n},{\"../base_unit\":12}],27:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'lux';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'lux', 'lx', [['intensity', 'cd']], [['length', 'm'], ['length', 'm']]);\n  DerivedUnit.register(type, 'Kilo lux', 'Klx', [], [], 1e3, 'lx');\n  DerivedUnit.register(type, 'Mega lux', 'Mlx', [], [], 1e6, 'lx');\n  DerivedUnit.register(type, 'Giga lux', 'Glx', [], [], 1e9, 'lx');\n  DerivedUnit.register(type, 'milli lux', 'mlx', [], [], 1e-3, 'lx');\n  DerivedUnit.register(type, 'micro lux', 'lx', [], [], 1e-6, 'lx');\n  DerivedUnit.register(type, 'nano lux', 'nlx', [], [], 1e-9, 'lx');\n};\n\n},{\"../derived_unit\":13}],28:[function(require,module,exports){\n'use strict';\n\nvar BaseUnit = require('../base_unit');\n\nvar type = 'mass';\n\nmodule.exports = function () {\n  BaseUnit.register(type, 'grams', 'g', 1);\n  BaseUnit.register(type, 'deci grams', 'dg', 1e-1, 'g');\n  BaseUnit.register(type, 'centi grams', 'cg', 1e-2, 'g');\n  BaseUnit.register(type, 'kilo grams', 'Kg', 1e3, 'g');\n  BaseUnit.register(type, 'milli grams', 'mg', 1e-3, 'g');\n  BaseUnit.register(type, 'nano grams', 'ng', 1e-9, 'g');\n  BaseUnit.register(type, 'pico grams', 'pg', 1e-12, 'g');\n  BaseUnit.register(type, 'pounds', 'lb', 453.59237, 'g');\n  BaseUnit.register(type, 'ounces', 'oz', 0.0625, 'lb');\n};\n\n},{\"../base_unit\":12}],29:[function(require,module,exports){\n'use strict';\n\nvar BaseUnit = require('../base_unit');\n\nvar type = 'matter';\n\nmodule.exports = function () {\n  BaseUnit.register(type, 'atoms', 'atom', 1);\n  BaseUnit.register(type, 'moles', 'mol', 6.022140857e23, 'atom');\n};\n\n},{\"../base_unit\":12}],30:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'ohm';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'ohm', '', [['mass', 'Kg'], ['length', 'm'], ['length', 'm']], [['time', 's'], ['time', 's'], ['time', 's'], ['current', 'A'], ['current', 'A']]);\n  DerivedUnit.register(type, 'Kilo ohm', 'K', [], [], 1e3, '');\n  DerivedUnit.register(type, 'Mega ohm', 'M', [], [], 1e6, '');\n  DerivedUnit.register(type, 'Giga ohm', 'G', [], [], 1e9, '');\n  DerivedUnit.register(type, 'milli ohm', 'm', [], [], 1e-3, '');\n  DerivedUnit.register(type, 'micro ohm', '', [], [], 1e-6, '');\n  DerivedUnit.register(type, 'nano ohm', 'n', [], [], 1e-9, '');\n};\n\n},{\"../derived_unit\":13}],31:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'pressure';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'pascal', 'Pa', [['mass', 'Kg']], [['length', 'm'], ['time', 's'], ['time', 's']]);\n  DerivedUnit.register(type, 'Kilo pascal', 'KPa', [], [], 1e3, 'Pa');\n  DerivedUnit.register(type, 'bar', 'bar', [], [], 1e5, 'Pa');\n  DerivedUnit.register(type, 'Mega pascal', 'MPa', [], [], 1e6, 'Pa');\n  DerivedUnit.register(type, 'Giga pascal', 'GPa', [], [], 1e9, 'Pa');\n  DerivedUnit.register(type, 'milli pascal', 'mPa', [], [], 1e-3, 'Pa');\n  DerivedUnit.register(type, 'micro pascal', 'Pa', [], [], 1e-6, 'Pa');\n  DerivedUnit.register(type, 'nano pascal', 'nPa', [], [], 1e-9, 'Pa');\n  DerivedUnit.register(type, 'atmosphere', 'atm', [], [], 101325, 'Pa');\n};\n\n},{\"../derived_unit\":13}],32:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'siemens';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'siemens', 'S', [['time', 's'], ['time', 's'], ['time', 's'], ['current', 'A'], ['current', 'A']], [['mass', 'Kg'], ['length', 'm'], ['length', 'm']]);\n  DerivedUnit.register(type, 'Kilo siemens', 'KS', [], [], 1e3, 'S');\n  DerivedUnit.register(type, 'Mega siemens', 'MS', [], [], 1e6, 'S');\n  DerivedUnit.register(type, 'Giga siemens', 'GS', [], [], 1e9, 'S');\n  DerivedUnit.register(type, 'milli siemens', 'mS', [], [], 1e-3, 'S');\n  DerivedUnit.register(type, 'micro siemens', 'S', [], [], 1e-6, 'S');\n  DerivedUnit.register(type, 'nano siemens', 'nS', [], [], 1e-9, 'S');\n};\n\n},{\"../derived_unit\":13}],33:[function(require,module,exports){\n'use strict';\n\nvar BaseUnit = require('../base_unit');\n\nvar type = 'storage';\n\nmodule.exports = function () {\n  BaseUnit.register(type, 'bit', 'bit', 1);\n  BaseUnit.register(type, 'byte', 'byte', 0.125, 'bit');\n  BaseUnit.register(type, 'Kilo byte', 'Kbyte', 1e3, 'byte');\n  BaseUnit.register(type, 'Mega byte', 'Mbyte', 1e6, 'byte');\n  BaseUnit.register(type, 'Giga byte', 'Gbyte', 1e9, 'byte');\n  BaseUnit.register(type, 'Tera byte', 'Tbyte', 1e12, 'byte');\n  BaseUnit.register(type, 'Peta byte', 'Pm', 1e15, 'byte');\n  BaseUnit.register(type, 'Exa byte', 'Ebyte', 1e18, 'byte');\n  BaseUnit.register(type, 'Zetta byte', 'Zbyte', 1e21, 'byte');\n  BaseUnit.register(type, 'Yotta byte', 'Ybyte', 1e24, 'byte');\n};\n\n},{\"../base_unit\":12}],34:[function(require,module,exports){\n'use strict';\n\nvar BaseUnit = require('../base_unit');\n\nvar type = 'temp';\n\nmodule.exports = function () {\n  BaseUnit.register(type, 'Kelvin', 'K', 1);\n  BaseUnit.register(type, 'Celsius', 'C', 1, 'K'); // TODO\n  BaseUnit.register(type, 'Fahrenheit ', 'F', 9 / 5, 'C');\n};\n\n},{\"../base_unit\":12}],35:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'telsa';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'telsa', 'T', [['mass', 'Kg']], [['time', 's'], ['time', 's'], ['current', 'A']]);\n  DerivedUnit.register(type, 'Kilo telsa', 'KT', [], [], 1e3, 'T');\n  DerivedUnit.register(type, 'Mega telsa', 'MT', [], [], 1e6, 'T');\n  DerivedUnit.register(type, 'Giga telsa', 'GT', [], [], 1e9, 'T');\n  DerivedUnit.register(type, 'milli telsa', 'mT', [], [], 1e-3, 'T');\n  DerivedUnit.register(type, 'micro telsa', 'T', [], [], 1e-6, 'T');\n  DerivedUnit.register(type, 'nano telsa', 'nT', [], [], 1e-9, 'T');\n};\n\n},{\"../derived_unit\":13}],36:[function(require,module,exports){\n'use strict';\n\nvar BaseUnit = require('../base_unit');\n\nvar type = 'time';\n\nmodule.exports = function () {\n  BaseUnit.register(type, 'seconds', 's', 1);\n  BaseUnit.register(type, 'deci seconds', 'ds', 1e-1, 's');\n  BaseUnit.register(type, 'centi seconds', 'cs', 1e-2, 's');\n  BaseUnit.register(type, 'Kilo seconds', 'Ks', 1e3, 's');\n  BaseUnit.register(type, 'milli seconds', 'ms', 1e-3, 's');\n  BaseUnit.register(type, 'micro seconds', 's', 1e-6, 's');\n  BaseUnit.register(type, 'nano seconds', 'ns', 1e-9, 's');\n  BaseUnit.register(type, 'pico seconds', 'ps', 1e-12, 's');\n  BaseUnit.register(type, 'minutes', 'min', 60, 's');\n  BaseUnit.register(type, 'hours', 'hr', 60, 'min');\n  BaseUnit.register(type, 'days', 'd', 24, 'hr');\n  BaseUnit.register(type, 'weeks', 'w', 7, 'd');\n  BaseUnit.register(type, 'month', 'mon', 4, 'w');\n};\n\n},{\"../base_unit\":12}],37:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'volt';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'volt', 'V', [['mass', 'Kg'], ['length', 'm'], ['length', 'm']], [['time', 's'], ['time', 's'], ['time', 's'], ['current', 'A']]);\n  DerivedUnit.register(type, 'Kilo volt', 'KV', [], [], 1e3, 'V');\n  DerivedUnit.register(type, 'Mega volt', 'MV', [], [], 1e6, 'V');\n  DerivedUnit.register(type, 'Giga volt', 'GV', [], [], 1e9, 'V');\n  DerivedUnit.register(type, 'milli volt', 'mV', [], [], 1e-3, 'V');\n  DerivedUnit.register(type, 'micro volt', 'V', [], [], 1e-6, 'V');\n  DerivedUnit.register(type, 'nano volt', 'nV', [], [], 1e-9, 'V');\n};\n\n},{\"../derived_unit\":13}],38:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'volume';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'liters', 'L', [['length', 'm'], ['length', 'm'], ['length', 'm']], []);\n  DerivedUnit.register(type, 'Kilo liters', 'KL', [], [], 1e3, 'L');\n  DerivedUnit.register(type, 'Mega liters', 'ML', [], [], 1e6, 'L');\n  DerivedUnit.register(type, 'Giga liters', 'GL', [], [], 1e9, 'L');\n  DerivedUnit.register(type, 'milli liters', 'mL', [], [], 1e-3, 'L');\n  DerivedUnit.register(type, 'micro liters', 'L', [], [], 1e-6, 'L');\n  DerivedUnit.register(type, 'nano liters', 'nL', [], [], 1e-9, 'L');\n  DerivedUnit.register(type, 'US gallon', 'US gallon', [], [], 0.264172, 'L');\n};\n\n},{\"../derived_unit\":13}],39:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'watt';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'watt', 'W', [['mass', 'Kg'], ['length', 'm'], ['length', 'm']], [['time', 's'], ['time', 's'], ['time', 's']]);\n  DerivedUnit.register(type, 'Kilo watt', 'KW', [], [], 1e3, 'W');\n  DerivedUnit.register(type, 'Mega watt', 'MW', [], [], 1e6, 'W');\n  DerivedUnit.register(type, 'Giga watt', 'GW', [], [], 1e9, 'W');\n  DerivedUnit.register(type, 'milli watt', 'mW', [], [], 1e-3, 'W');\n  DerivedUnit.register(type, 'micro watt', 'W', [], [], 1e-6, 'W');\n  DerivedUnit.register(type, 'nano watt', 'nW', [], [], 1e-9, 'W');\n};\n\n},{\"../derived_unit\":13}],40:[function(require,module,exports){\n'use strict';\n\nvar DerivedUnit = require('../derived_unit');\n\nvar type = 'weber';\n\nmodule.exports = function () {\n  DerivedUnit.register(type, 'weber', 'Wb', [['mass', 'Kg'], ['length', 'm'], ['length', 'm']], [['time', 's'], ['time', 's'], ['current', 'A']]);\n  DerivedUnit.register(type, 'Kilo weber', 'KWb', [], [], 1e3, 'Wb');\n  DerivedUnit.register(type, 'Mega weber', 'MWb', [], [], 1e6, 'Wb');\n  DerivedUnit.register(type, 'Giga weber', 'GWb', [], [], 1e9, 'Wb');\n  DerivedUnit.register(type, 'milli weber', 'mWb', [], [], 1e-3, 'Wb');\n  DerivedUnit.register(type, 'micro weber', 'Wb', [], [], 1e-6, 'Wb');\n  DerivedUnit.register(type, 'nano weber', 'nWb', [], [], 1e-9, 'Wb');\n};\n\n},{\"../derived_unit\":13}],41:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],42:[function(require,module,exports){\n(function (process,global){\n/*!\n * @overview RSVP - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2016 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE\n * @version   3.3.3\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.RSVP = global.RSVP || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction indexOf(callbacks, callback) {\n  for (var i = 0, l = callbacks.length; i < l; i++) {\n    if (callbacks[i] === callback) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nfunction callbacksFor(object) {\n  var callbacks = object._promiseCallbacks;\n\n  if (!callbacks) {\n    callbacks = object._promiseCallbacks = {};\n  }\n\n  return callbacks;\n}\n\n/**\n  @class RSVP.EventTarget\n*/\nvar EventTarget = {\n\n  /**\n    `RSVP.EventTarget.mixin` extends an object with EventTarget methods. For\n    Example:\n     ```javascript\n    let object = {};\n     RSVP.EventTarget.mixin(object);\n     object.on('finished', function(event) {\n      // handle event\n    });\n     object.trigger('finished', { detail: value });\n    ```\n     `EventTarget.mixin` also works with prototypes:\n     ```javascript\n    let Person = function() {};\n    RSVP.EventTarget.mixin(Person.prototype);\n     let yehuda = new Person();\n    let tom = new Person();\n     yehuda.on('poke', function(event) {\n      console.log('Yehuda says OW');\n    });\n     tom.on('poke', function(event) {\n      console.log('Tom says OW');\n    });\n     yehuda.trigger('poke');\n    tom.trigger('poke');\n    ```\n     @method mixin\n    @for RSVP.EventTarget\n    @private\n    @param {Object} object object to extend with EventTarget methods\n  */\n  mixin: function mixin(object) {\n    object['on'] = this['on'];\n    object['off'] = this['off'];\n    object['trigger'] = this['trigger'];\n    object._promiseCallbacks = undefined;\n    return object;\n  },\n\n  /**\n    Registers a callback to be executed when `eventName` is triggered\n     ```javascript\n    object.on('event', function(eventInfo){\n      // handle the event\n    });\n     object.trigger('event');\n    ```\n     @method on\n    @for RSVP.EventTarget\n    @private\n    @param {String} eventName name of the event to listen for\n    @param {Function} callback function to be called when the event is triggered.\n  */\n  on: function on(eventName, callback) {\n    if (typeof callback !== 'function') {\n      throw new TypeError('Callback must be a function');\n    }\n\n    var allCallbacks = callbacksFor(this),\n        callbacks = undefined;\n\n    callbacks = allCallbacks[eventName];\n\n    if (!callbacks) {\n      callbacks = allCallbacks[eventName] = [];\n    }\n\n    if (indexOf(callbacks, callback) === -1) {\n      callbacks.push(callback);\n    }\n  },\n\n  /**\n    You can use `off` to stop firing a particular callback for an event:\n     ```javascript\n    function doStuff() { // do stuff! }\n    object.on('stuff', doStuff);\n     object.trigger('stuff'); // doStuff will be called\n     // Unregister ONLY the doStuff callback\n    object.off('stuff', doStuff);\n    object.trigger('stuff'); // doStuff will NOT be called\n    ```\n     If you don't pass a `callback` argument to `off`, ALL callbacks for the\n    event will not be executed when the event fires. For example:\n     ```javascript\n    let callback1 = function(){};\n    let callback2 = function(){};\n     object.on('stuff', callback1);\n    object.on('stuff', callback2);\n     object.trigger('stuff'); // callback1 and callback2 will be executed.\n     object.off('stuff');\n    object.trigger('stuff'); // callback1 and callback2 will not be executed!\n    ```\n     @method off\n    @for RSVP.EventTarget\n    @private\n    @param {String} eventName event to stop listening to\n    @param {Function} callback optional argument. If given, only the function\n    given will be removed from the event's callback queue. If no `callback`\n    argument is given, all callbacks will be removed from the event's callback\n    queue.\n  */\n  off: function off(eventName, callback) {\n    var allCallbacks = callbacksFor(this),\n        callbacks = undefined,\n        index = undefined;\n\n    if (!callback) {\n      allCallbacks[eventName] = [];\n      return;\n    }\n\n    callbacks = allCallbacks[eventName];\n\n    index = indexOf(callbacks, callback);\n\n    if (index !== -1) {\n      callbacks.splice(index, 1);\n    }\n  },\n\n  /**\n    Use `trigger` to fire custom events. For example:\n     ```javascript\n    object.on('foo', function(){\n      console.log('foo event happened!');\n    });\n    object.trigger('foo');\n    // 'foo event happened!' logged to the console\n    ```\n     You can also pass a value as a second argument to `trigger` that will be\n    passed as an argument to all event listeners for the event:\n     ```javascript\n    object.on('foo', function(value){\n      console.log(value.name);\n    });\n     object.trigger('foo', { name: 'bar' });\n    // 'bar' logged to the console\n    ```\n     @method trigger\n    @for RSVP.EventTarget\n    @private\n    @param {String} eventName name of the event to be triggered\n    @param {*} options optional value to be passed to any event handlers for\n    the given `eventName`\n  */\n  trigger: function trigger(eventName, options, label) {\n    var allCallbacks = callbacksFor(this),\n        callbacks = undefined,\n        callback = undefined;\n\n    if (callbacks = allCallbacks[eventName]) {\n      // Don't cache the callbacks.length since it may grow\n      for (var i = 0; i < callbacks.length; i++) {\n        callback = callbacks[i];\n\n        callback(options, label);\n      }\n    }\n  }\n};\n\nvar config = {\n  instrument: false\n};\n\nEventTarget['mixin'](config);\n\nfunction configure(name, value) {\n  if (name === 'onerror') {\n    // handle for legacy users that expect the actual\n    // error to be passed to their function added via\n    // `RSVP.configure('onerror', someFunctionHere);`\n    config['on']('error', value);\n    return;\n  }\n\n  if (arguments.length === 2) {\n    config[name] = value;\n  } else {\n    return config[name];\n  }\n}\n\nfunction objectOrFunction(x) {\n  return typeof x === 'function' || typeof x === 'object' && x !== null;\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nfunction isMaybeThenable(x) {\n  return typeof x === 'object' && x !== null;\n}\n\nvar _isArray = undefined;\nif (!Array.isArray) {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n} else {\n  _isArray = Array.isArray;\n}\n\nvar isArray = _isArray;\n\n// Date.now is not available in browsers < IE9\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now#Compatibility\nvar now = Date.now || function () {\n  return new Date().getTime();\n};\n\nfunction F() {}\n\nvar o_create = Object.create || function (o) {\n  if (arguments.length > 1) {\n    throw new Error('Second argument not supported');\n  }\n  if (typeof o !== 'object') {\n    throw new TypeError('Argument must be an object');\n  }\n  F.prototype = o;\n  return new F();\n};\n\nvar queue = [];\n\nfunction scheduleFlush() {\n  setTimeout(function () {\n    for (var i = 0; i < queue.length; i++) {\n      var entry = queue[i];\n\n      var payload = entry.payload;\n\n      payload.guid = payload.key + payload.id;\n      payload.childGuid = payload.key + payload.childId;\n      if (payload.error) {\n        payload.stack = payload.error.stack;\n      }\n\n      config['trigger'](entry.name, entry.payload);\n    }\n    queue.length = 0;\n  }, 50);\n}\nfunction instrument(eventName, promise, child) {\n  if (1 === queue.push({\n    name: eventName,\n    payload: {\n      key: promise._guidKey,\n      id: promise._id,\n      eventName: eventName,\n      detail: promise._result,\n      childId: child && child._id,\n      label: promise._label,\n      timeStamp: now(),\n      error: config[\"instrument-with-stack\"] ? new Error(promise._label) : null\n    } })) {\n    scheduleFlush();\n  }\n}\n\n/**\n  `RSVP.Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new RSVP.Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = RSVP.Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {*} object value that the returned promise will be resolved with\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object, label) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop, label);\n  resolve(promise, object);\n  return promise;\n}\n\nfunction withOwnPromise() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n  config.async(function (promise) {\n    var sealed = false;\n    var error = tryThen(then, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value, undefined);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    thenable._onError = null;\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      if (thenable !== value) {\n        resolve(promise, value, undefined);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$) {\n  if (maybeThenable.constructor === promise.constructor && then$$ === then && promise.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$ === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n    } else if (then$$ === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$)) {\n      handleForeignThenable(promise, maybeThenable, then$$);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    fulfill(promise, value);\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onError) {\n    promise._onError(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length === 0) {\n    if (config.instrument) {\n      instrument('fulfilled', promise);\n    }\n  } else {\n    config.async(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n  config.async(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var subscribers = parent._subscribers;\n  var length = subscribers.length;\n\n  parent._onError = null;\n\n  subscribers[length] = child;\n  subscribers[length + FULFILLED] = onFulfillment;\n  subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    config.async(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (config.instrument) {\n    instrument(settled === FULFILLED ? 'fulfilled' : 'rejected', promise);\n  }\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, withOwnPromise());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      resolve(promise, value);\n    } else if (failed) {\n      reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  var resolved = false;\n  try {\n    resolver(function (value) {\n      if (resolved) {\n        return;\n      }\n      resolved = true;\n      resolve(promise, value);\n    }, function (reason) {\n      if (resolved) {\n        return;\n      }\n      resolved = true;\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nfunction then(onFulfillment, onRejection, label) {\n  var _arguments = arguments;\n\n  var parent = this;\n  var state = parent._state;\n\n  if (state === FULFILLED && !onFulfillment || state === REJECTED && !onRejection) {\n    config.instrument && instrument('chained', parent, parent);\n    return parent;\n  }\n\n  parent._onError = null;\n\n  var child = new parent.constructor(noop, label);\n  var result = parent._result;\n\n  config.instrument && instrument('chained', parent, child);\n\n  if (state) {\n    (function () {\n      var callback = _arguments[state - 1];\n      config.async(function () {\n        return invokeCallback(state, child, callback, result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\nfunction makeSettledResult(state, position, value) {\n  if (state === FULFILLED) {\n    return {\n      state: 'fulfilled',\n      value: value\n    };\n  } else {\n    return {\n      state: 'rejected',\n      reason: value\n    };\n  }\n}\n\nfunction Enumerator(Constructor, input, abortOnReject, label) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop, label);\n  this._abortOnReject = abortOnReject;\n\n  if (this._validateInput(input)) {\n    this._input = input;\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._init();\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate();\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, this._validationError());\n  }\n}\n\nEnumerator.prototype._validateInput = function (input) {\n  return isArray(input);\n};\n\nEnumerator.prototype._validationError = function () {\n  return new Error('Array Methods must be provided an Array');\n};\n\nEnumerator.prototype._init = function () {\n  this._result = new Array(this.length);\n};\n\nEnumerator.prototype._enumerate = function () {\n  var length = this.length;\n  var promise = this.promise;\n  var input = this._input;\n\n  for (var i = 0; promise._state === PENDING && i < length; i++) {\n    this._eachEntry(input[i], i);\n  }\n};\n\nEnumerator.prototype._settleMaybeThenable = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve = c.resolve;\n\n  if (resolve === resolve$1) {\n    var then$$ = getThen(entry);\n\n    if (then$$ === then && entry._state !== PENDING) {\n      entry._onError = null;\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof then$$ !== 'function') {\n      this._remaining--;\n      this._result[i] = this._makeResult(FULFILLED, i, entry);\n    } else if (c === Promise) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, then$$);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve) {\n        return resolve(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve(entry), i);\n  }\n};\n\nEnumerator.prototype._eachEntry = function (entry, i) {\n  if (isMaybeThenable(entry)) {\n    this._settleMaybeThenable(entry, i);\n  } else {\n    this._remaining--;\n    this._result[i] = this._makeResult(FULFILLED, i, entry);\n  }\n};\n\nEnumerator.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (this._abortOnReject && state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = this._makeResult(state, i, value);\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator.prototype._makeResult = function (state, i, value) {\n  return value;\n};\n\nEnumerator.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `RSVP.Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.resolve(2);\n  let promise3 = RSVP.resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  RSVP.Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.reject(new Error(\"2\"));\n  let promise3 = RSVP.reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  RSVP.Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries, label) {\n  return new Enumerator(this, entries, true, /* abort on reject */label).promise;\n}\n\n/**\n  `RSVP.Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  RSVP.Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `RSVP.Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  RSVP.Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  RSVP.Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} entries array of promises to observe\n  @param {String} label optional string for describing the promise returned.\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries, label) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  var promise = new Constructor(noop, label);\n\n  if (!isArray(entries)) {\n    reject(promise, new TypeError('You must pass an array to race.'));\n    return promise;\n  }\n\n  for (var i = 0; promise._state === PENDING && i < entries.length; i++) {\n    subscribe(Constructor.resolve(entries[i]), undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n\n  return promise;\n}\n\n/**\n  `RSVP.Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new RSVP.Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = RSVP.Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {*} reason value that the returned promise will be rejected with.\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason, label) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop, label);\n  reject(promise, reason);\n  return promise;\n}\n\nvar guidKey = 'rsvp_' + now() + '-';\nvar counter = 0;\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promises eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class RSVP.Promise\n  @param {function} resolver\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise(resolver, label) {\n  this._id = counter++;\n  this._label = label;\n  this._state = undefined;\n  this._result = undefined;\n  this._subscribers = [];\n\n  config.instrument && instrument('created', this);\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise.cast = resolve$1; // deprecated\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = resolve$1;\nPromise.reject = reject$1;\n\nPromise.prototype = {\n  constructor: Promise,\n\n  _guidKey: guidKey,\n\n  _onError: function _onError(reason) {\n    var promise = this;\n    config.after(function () {\n      if (promise._onError) {\n        config['trigger']('error', reason, promise._label);\n      }\n    });\n  },\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we\\'re unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we\\'re unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfillment\n    @param {Function} onRejection\n    @param {String} label optional string for labeling the promise.\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn\\'t find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    @param {String} label optional string for labeling the promise.\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection, label) {\n    return this.then(undefined, onRejection, label);\n  },\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @param {String} label optional string for labeling the promise.\n    Useful for tooling.\n    @return {Promise}\n  */\n  'finally': function _finally(callback, label) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    return promise.then(function (value) {\n      return constructor.resolve(callback()).then(function () {\n        return value;\n      });\n    }, function (reason) {\n      return constructor.resolve(callback()).then(function () {\n        throw reason;\n      });\n    }, label);\n  }\n};\n\nfunction Result() {\n  this.value = undefined;\n}\n\nvar ERROR = new Result();\nvar GET_THEN_ERROR$1 = new Result();\n\nfunction getThen$1(obj) {\n  try {\n    return obj.then;\n  } catch (error) {\n    ERROR.value = error;\n    return ERROR;\n  }\n}\n\nfunction tryApply(f, s, a) {\n  try {\n    f.apply(s, a);\n  } catch (error) {\n    ERROR.value = error;\n    return ERROR;\n  }\n}\n\nfunction makeObject(_, argumentNames) {\n  var obj = {};\n  var length = _.length;\n  var args = new Array(length);\n\n  for (var x = 0; x < length; x++) {\n    args[x] = _[x];\n  }\n\n  for (var i = 0; i < argumentNames.length; i++) {\n    var _name = argumentNames[i];\n    obj[_name] = args[i + 1];\n  }\n\n  return obj;\n}\n\nfunction arrayResult(_) {\n  var length = _.length;\n  var args = new Array(length - 1);\n\n  for (var i = 1; i < length; i++) {\n    args[i - 1] = _[i];\n  }\n\n  return args;\n}\n\nfunction wrapThenable(_then, promise) {\n  return {\n    then: function then(onFulFillment, onRejection) {\n      return _then.call(promise, onFulFillment, onRejection);\n    }\n  };\n}\n\n/**\n  `RSVP.denodeify` takes a 'node-style' function and returns a function that\n  will return an `RSVP.Promise`. You can use `denodeify` in Node.js or the\n  browser when you'd prefer to use promises over using callbacks. For example,\n  `denodeify` transforms the following:\n\n  ```javascript\n  let fs = require('fs');\n\n  fs.readFile('myfile.txt', function(err, data){\n    if (err) return handleError(err);\n    handleData(data);\n  });\n  ```\n\n  into:\n\n  ```javascript\n  let fs = require('fs');\n  let readFile = RSVP.denodeify(fs.readFile);\n\n  readFile('myfile.txt').then(handleData, handleError);\n  ```\n\n  If the node function has multiple success parameters, then `denodeify`\n  just returns the first one:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request'));\n\n  request('http://example.com').then(function(res) {\n    // ...\n  });\n  ```\n\n  However, if you need all success parameters, setting `denodeify`'s\n  second parameter to `true` causes it to return all success parameters\n  as an array:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request'), true);\n\n  request('http://example.com').then(function(result) {\n    // result[0] -> res\n    // result[1] -> body\n  });\n  ```\n\n  Or if you pass it an array with names it returns the parameters as a hash:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request'), ['res', 'body']);\n\n  request('http://example.com').then(function(result) {\n    // result.res\n    // result.body\n  });\n  ```\n\n  Sometimes you need to retain the `this`:\n\n  ```javascript\n  let app = require('express')();\n  let render = RSVP.denodeify(app.render.bind(app));\n  ```\n\n  The denodified function inherits from the original function. It works in all\n  environments, except IE 10 and below. Consequently all properties of the original\n  function are available to you. However, any properties you change on the\n  denodeified function won't be changed on the original function. Example:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request')),\n      cookieJar = request.jar(); // <- Inheritance is used here\n\n  request('http://example.com', {jar: cookieJar}).then(function(res) {\n    // cookieJar.cookies holds now the cookies returned by example.com\n  });\n  ```\n\n  Using `denodeify` makes it easier to compose asynchronous operations instead\n  of using callbacks. For example, instead of:\n\n  ```javascript\n  let fs = require('fs');\n\n  fs.readFile('myfile.txt', function(err, data){\n    if (err) { ... } // Handle error\n    fs.writeFile('myfile2.txt', data, function(err){\n      if (err) { ... } // Handle error\n      console.log('done')\n    });\n  });\n  ```\n\n  you can chain the operations together using `then` from the returned promise:\n\n  ```javascript\n  let fs = require('fs');\n  let readFile = RSVP.denodeify(fs.readFile);\n  let writeFile = RSVP.denodeify(fs.writeFile);\n\n  readFile('myfile.txt').then(function(data){\n    return writeFile('myfile2.txt', data);\n  }).then(function(){\n    console.log('done')\n  }).catch(function(error){\n    // Handle error\n  });\n  ```\n\n  @method denodeify\n  @static\n  @for RSVP\n  @param {Function} nodeFunc a 'node-style' function that takes a callback as\n  its last argument. The callback expects an error to be passed as its first\n  argument (if an error occurred, otherwise null), and the value from the\n  operation as its second argument ('function(err, value){ }').\n  @param {Boolean|Array} [options] An optional paramter that if set\n  to `true` causes the promise to fulfill with the callback's success arguments\n  as an array. This is useful if the node function has multiple success\n  paramters. If you set this paramter to an array with names, the promise will\n  fulfill with a hash with these names as keys and the success parameters as\n  values.\n  @return {Function} a function that wraps `nodeFunc` to return an\n  `RSVP.Promise`\n  @static\n*/\nfunction denodeify(nodeFunc, options) {\n  var fn = function fn() {\n    var self = this;\n    var l = arguments.length;\n    var args = new Array(l + 1);\n    var promiseInput = false;\n\n    for (var i = 0; i < l; ++i) {\n      var arg = arguments[i];\n\n      if (!promiseInput) {\n        // TODO: clean this up\n        promiseInput = needsPromiseInput(arg);\n        if (promiseInput === GET_THEN_ERROR$1) {\n          var p = new Promise(noop);\n          reject(p, GET_THEN_ERROR$1.value);\n          return p;\n        } else if (promiseInput && promiseInput !== true) {\n          arg = wrapThenable(promiseInput, arg);\n        }\n      }\n      args[i] = arg;\n    }\n\n    var promise = new Promise(noop);\n\n    args[l] = function (err, val) {\n      if (err) reject(promise, err);else if (options === undefined) resolve(promise, val);else if (options === true) resolve(promise, arrayResult(arguments));else if (isArray(options)) resolve(promise, makeObject(arguments, options));else resolve(promise, val);\n    };\n\n    if (promiseInput) {\n      return handlePromiseInput(promise, args, nodeFunc, self);\n    } else {\n      return handleValueInput(promise, args, nodeFunc, self);\n    }\n  };\n\n  fn.__proto__ = nodeFunc;\n\n  return fn;\n}\n\nfunction handleValueInput(promise, args, nodeFunc, self) {\n  var result = tryApply(nodeFunc, self, args);\n  if (result === ERROR) {\n    reject(promise, result.value);\n  }\n  return promise;\n}\n\nfunction handlePromiseInput(promise, args, nodeFunc, self) {\n  return Promise.all(args).then(function (args) {\n    var result = tryApply(nodeFunc, self, args);\n    if (result === ERROR) {\n      reject(promise, result.value);\n    }\n    return promise;\n  });\n}\n\nfunction needsPromiseInput(arg) {\n  if (arg && typeof arg === 'object') {\n    if (arg.constructor === Promise) {\n      return true;\n    } else {\n      return getThen$1(arg);\n    }\n  } else {\n    return false;\n  }\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.all`.\n\n  @method all\n  @static\n  @for RSVP\n  @param {Array} array Array of promises.\n  @param {String} label An optional label. This is useful\n  for tooling.\n*/\nfunction all$1(array, label) {\n  return Promise.all(array, label);\n}\n\nfunction AllSettled(Constructor, entries, label) {\n  this._superConstructor(Constructor, entries, false, /* don't abort on reject */label);\n}\n\nAllSettled.prototype = o_create(Enumerator.prototype);\nAllSettled.prototype._superConstructor = Enumerator;\nAllSettled.prototype._makeResult = makeSettledResult;\nAllSettled.prototype._validationError = function () {\n  return new Error('allSettled must be called with an array');\n};\n\n/**\n  `RSVP.allSettled` is similar to `RSVP.all`, but instead of implementing\n  a fail-fast method, it waits until all the promises have returned and\n  shows you all the results. This is useful if you want to handle multiple\n  promises' failure states together as a set.\n\n  Returns a promise that is fulfilled when all the given promises have been\n  settled. The return promise is fulfilled with an array of the states of\n  the promises passed into the `promises` array argument.\n\n  Each state object will either indicate fulfillment or rejection, and\n  provide the corresponding value or reason. The states will take one of\n  the following formats:\n\n  ```javascript\n  { state: 'fulfilled', value: value }\n    or\n  { state: 'rejected', reason: reason }\n  ```\n\n  Example:\n\n  ```javascript\n  let promise1 = RSVP.Promise.resolve(1);\n  let promise2 = RSVP.Promise.reject(new Error('2'));\n  let promise3 = RSVP.Promise.reject(new Error('3'));\n  let promises = [ promise1, promise2, promise3 ];\n\n  RSVP.allSettled(promises).then(function(array){\n    // array == [\n    //   { state: 'fulfilled', value: 1 },\n    //   { state: 'rejected', reason: Error },\n    //   { state: 'rejected', reason: Error }\n    // ]\n    // Note that for the second item, reason.message will be '2', and for the\n    // third item, reason.message will be '3'.\n  }, function(error) {\n    // Not run. (This block would only be called if allSettled had failed,\n    // for instance if passed an incorrect argument type.)\n  });\n  ```\n\n  @method allSettled\n  @static\n  @for RSVP\n  @param {Array} entries\n  @param {String} label - optional string that describes the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled with an array of the settled\n  states of the constituent promises.\n*/\nfunction allSettled(entries, label) {\n  return new AllSettled(Promise, entries, label).promise;\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.race`.\n\n  @method race\n  @static\n  @for RSVP\n  @param {Array} array Array of promises.\n  @param {String} label An optional label. This is useful\n  for tooling.\n */\nfunction race$1(array, label) {\n  return Promise.race(array, label);\n}\n\nfunction PromiseHash(Constructor, object, label) {\n  this._superConstructor(Constructor, object, true, label);\n}\n\nPromiseHash.prototype = o_create(Enumerator.prototype);\nPromiseHash.prototype._superConstructor = Enumerator;\nPromiseHash.prototype._init = function () {\n  this._result = {};\n};\n\nPromiseHash.prototype._validateInput = function (input) {\n  return input && typeof input === 'object';\n};\n\nPromiseHash.prototype._validationError = function () {\n  return new Error('Promise.hash must be called with an object');\n};\n\nPromiseHash.prototype._enumerate = function () {\n  var enumerator = this;\n  var promise = enumerator.promise;\n  var input = enumerator._input;\n  var results = [];\n\n  for (var key in input) {\n    if (promise._state === PENDING && Object.prototype.hasOwnProperty.call(input, key)) {\n      results.push({\n        position: key,\n        entry: input[key]\n      });\n    }\n  }\n\n  var length = results.length;\n  enumerator._remaining = length;\n  var result = undefined;\n\n  for (var i = 0; promise._state === PENDING && i < length; i++) {\n    result = results[i];\n    enumerator._eachEntry(result.entry, result.position);\n  }\n};\n\n/**\n  `RSVP.hash` is similar to `RSVP.all`, but takes an object instead of an array\n  for its `promises` argument.\n\n  Returns a promise that is fulfilled when all the given promises have been\n  fulfilled, or rejected if any of them become rejected. The returned promise\n  is fulfilled with a hash that has the same key names as the `promises` object\n  argument. If any of the values in the object are not promises, they will\n  simply be copied over to the fulfilled object.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.resolve(1),\n    yourPromise: RSVP.resolve(2),\n    theirPromise: RSVP.resolve(3),\n    notAPromise: 4\n  };\n\n  RSVP.hash(promises).then(function(hash){\n    // hash here is an object that looks like:\n    // {\n    //   myPromise: 1,\n    //   yourPromise: 2,\n    //   theirPromise: 3,\n    //   notAPromise: 4\n    // }\n  });\n  ````\n\n  If any of the `promises` given to `RSVP.hash` are rejected, the first promise\n  that is rejected will be given as the reason to the rejection handler.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.resolve(1),\n    rejectedPromise: RSVP.reject(new Error('rejectedPromise')),\n    anotherRejectedPromise: RSVP.reject(new Error('anotherRejectedPromise')),\n  };\n\n  RSVP.hash(promises).then(function(hash){\n    // Code here never runs because there are rejected promises!\n  }, function(reason) {\n    // reason.message === 'rejectedPromise'\n  });\n  ```\n\n  An important note: `RSVP.hash` is intended for plain JavaScript objects that\n  are just a set of keys and values. `RSVP.hash` will NOT preserve prototype\n  chains.\n\n  Example:\n\n  ```javascript\n  function MyConstructor(){\n    this.example = RSVP.resolve('Example');\n  }\n\n  MyConstructor.prototype = {\n    protoProperty: RSVP.resolve('Proto Property')\n  };\n\n  let myObject = new MyConstructor();\n\n  RSVP.hash(myObject).then(function(hash){\n    // protoProperty will not be present, instead you will just have an\n    // object that looks like:\n    // {\n    //   example: 'Example'\n    // }\n    //\n    // hash.hasOwnProperty('protoProperty'); // false\n    // 'undefined' === typeof hash.protoProperty\n  });\n  ```\n\n  @method hash\n  @static\n  @for RSVP\n  @param {Object} object\n  @param {String} label optional string that describes the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all properties of `promises`\n  have been fulfilled, or rejected if any of them become rejected.\n*/\nfunction hash(object, label) {\n  return new PromiseHash(Promise, object, label).promise;\n}\n\nfunction HashSettled(Constructor, object, label) {\n  this._superConstructor(Constructor, object, false, label);\n}\n\nHashSettled.prototype = o_create(PromiseHash.prototype);\nHashSettled.prototype._superConstructor = Enumerator;\nHashSettled.prototype._makeResult = makeSettledResult;\n\nHashSettled.prototype._validationError = function () {\n  return new Error('hashSettled must be called with an object');\n};\n\n/**\n  `RSVP.hashSettled` is similar to `RSVP.allSettled`, but takes an object\n  instead of an array for its `promises` argument.\n\n  Unlike `RSVP.all` or `RSVP.hash`, which implement a fail-fast method,\n  but like `RSVP.allSettled`, `hashSettled` waits until all the\n  constituent promises have returned and then shows you all the results\n  with their states and values/reasons. This is useful if you want to\n  handle multiple promises' failure states together as a set.\n\n  Returns a promise that is fulfilled when all the given promises have been\n  settled, or rejected if the passed parameters are invalid.\n\n  The returned promise is fulfilled with a hash that has the same key names as\n  the `promises` object argument. If any of the values in the object are not\n  promises, they will be copied over to the fulfilled object and marked with state\n  'fulfilled'.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.Promise.resolve(1),\n    yourPromise: RSVP.Promise.resolve(2),\n    theirPromise: RSVP.Promise.resolve(3),\n    notAPromise: 4\n  };\n\n  RSVP.hashSettled(promises).then(function(hash){\n    // hash here is an object that looks like:\n    // {\n    //   myPromise: { state: 'fulfilled', value: 1 },\n    //   yourPromise: { state: 'fulfilled', value: 2 },\n    //   theirPromise: { state: 'fulfilled', value: 3 },\n    //   notAPromise: { state: 'fulfilled', value: 4 }\n    // }\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.hash` are rejected, the state will\n  be set to 'rejected' and the reason for rejection provided.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.Promise.resolve(1),\n    rejectedPromise: RSVP.Promise.reject(new Error('rejection')),\n    anotherRejectedPromise: RSVP.Promise.reject(new Error('more rejection')),\n  };\n\n  RSVP.hashSettled(promises).then(function(hash){\n    // hash here is an object that looks like:\n    // {\n    //   myPromise:              { state: 'fulfilled', value: 1 },\n    //   rejectedPromise:        { state: 'rejected', reason: Error },\n    //   anotherRejectedPromise: { state: 'rejected', reason: Error },\n    // }\n    // Note that for rejectedPromise, reason.message == 'rejection',\n    // and for anotherRejectedPromise, reason.message == 'more rejection'.\n  });\n  ```\n\n  An important note: `RSVP.hashSettled` is intended for plain JavaScript objects that\n  are just a set of keys and values. `RSVP.hashSettled` will NOT preserve prototype\n  chains.\n\n  Example:\n\n  ```javascript\n  function MyConstructor(){\n    this.example = RSVP.Promise.resolve('Example');\n  }\n\n  MyConstructor.prototype = {\n    protoProperty: RSVP.Promise.resolve('Proto Property')\n  };\n\n  let myObject = new MyConstructor();\n\n  RSVP.hashSettled(myObject).then(function(hash){\n    // protoProperty will not be present, instead you will just have an\n    // object that looks like:\n    // {\n    //   example: { state: 'fulfilled', value: 'Example' }\n    // }\n    //\n    // hash.hasOwnProperty('protoProperty'); // false\n    // 'undefined' === typeof hash.protoProperty\n  });\n  ```\n\n  @method hashSettled\n  @for RSVP\n  @param {Object} object\n  @param {String} label optional string that describes the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when when all properties of `promises`\n  have been settled.\n  @static\n*/\nfunction hashSettled(object, label) {\n  return new HashSettled(Promise, object, label).promise;\n}\n\nfunction rethrow(reason) {\n  setTimeout(function () {\n    throw reason;\n  });\n  throw reason;\n}\n\n/**\n  `RSVP.defer` returns an object similar to jQuery's `$.Deferred`.\n  `RSVP.defer` should be used when porting over code reliant on `$.Deferred`'s\n  interface. New code should use the `RSVP.Promise` constructor instead.\n\n  The object returned from `RSVP.defer` is a plain object with three properties:\n\n  * promise - an `RSVP.Promise`.\n  * reject - a function that causes the `promise` property on this object to\n    become rejected\n  * resolve - a function that causes the `promise` property on this object to\n    become fulfilled.\n\n  Example:\n\n   ```javascript\n   let deferred = RSVP.defer();\n\n   deferred.resolve(\"Success!\");\n\n   deferred.promise.then(function(value){\n     // value here is \"Success!\"\n   });\n   ```\n\n  @method defer\n  @static\n  @for RSVP\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Object}\n */\nfunction defer(label) {\n  var deferred = { resolve: undefined, reject: undefined };\n\n  deferred.promise = new Promise(function (resolve, reject) {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  }, label);\n\n  return deferred;\n}\n\n/**\n `RSVP.map` is similar to JavaScript's native `map` method, except that it\n  waits for all promises to become fulfilled before running the `mapFn` on\n  each item in given to `promises`. `RSVP.map` returns a promise that will\n  become fulfilled with the result of running `mapFn` on the values the promises\n  become fulfilled with.\n\n  For example:\n\n  ```javascript\n\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.resolve(2);\n  let promise3 = RSVP.resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  let mapFn = function(item){\n    return item + 1;\n  };\n\n  RSVP.map(promises, mapFn).then(function(result){\n    // result is [ 2, 3, 4 ]\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.map` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promise's\n  rejection handler. For example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.reject(new Error('2'));\n  let promise3 = RSVP.reject(new Error('3'));\n  let promises = [ promise1, promise2, promise3 ];\n\n  let mapFn = function(item){\n    return item + 1;\n  };\n\n  RSVP.map(promises, mapFn).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(reason) {\n    // reason.message === '2'\n  });\n  ```\n\n  `RSVP.map` will also wait if a promise is returned from `mapFn`. For example,\n  say you want to get all comments from a set of blog posts, but you need\n  the blog posts first because they contain a url to those comments.\n\n  ```javscript\n\n  let mapFn = function(blogPost){\n    // getComments does some ajax and returns an RSVP.Promise that is fulfilled\n    // with some comments data\n    return getComments(blogPost.comments_url);\n  };\n\n  // getBlogPosts does some ajax and returns an RSVP.Promise that is fulfilled\n  // with some blog post data\n  RSVP.map(getBlogPosts(), mapFn).then(function(comments){\n    // comments is the result of asking the server for the comments\n    // of all blog posts returned from getBlogPosts()\n  });\n  ```\n\n  @method map\n  @static\n  @for RSVP\n  @param {Array} promises\n  @param {Function} mapFn function to be called on each fulfilled promise.\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled with the result of calling\n  `mapFn` on each fulfilled promise or value when they become fulfilled.\n   The promise will be rejected if any of the given `promises` become rejected.\n  @static\n*/\nfunction map(promises, mapFn, label) {\n  return Promise.all(promises, label).then(function (values) {\n    if (!isFunction(mapFn)) {\n      throw new TypeError(\"You must pass a function as map's second argument.\");\n    }\n\n    var length = values.length;\n    var results = new Array(length);\n\n    for (var i = 0; i < length; i++) {\n      results[i] = mapFn(values[i]);\n    }\n\n    return Promise.all(results, label);\n  });\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.resolve`.\n\n  @method resolve\n  @static\n  @for RSVP\n  @param {*} value value that the returned promise will be resolved with\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$2(value, label) {\n  return Promise.resolve(value, label);\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.reject`.\n\n  @method reject\n  @static\n  @for RSVP\n  @param {*} reason value that the returned promise will be rejected with.\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$2(reason, label) {\n  return Promise.reject(reason, label);\n}\n\n/**\n `RSVP.filter` is similar to JavaScript's native `filter` method, except that it\n  waits for all promises to become fulfilled before running the `filterFn` on\n  each item in given to `promises`. `RSVP.filter` returns a promise that will\n  become fulfilled with the result of running `filterFn` on the values the\n  promises become fulfilled with.\n\n  For example:\n\n  ```javascript\n\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.resolve(2);\n  let promise3 = RSVP.resolve(3);\n\n  let promises = [promise1, promise2, promise3];\n\n  let filterFn = function(item){\n    return item > 1;\n  };\n\n  RSVP.filter(promises, filterFn).then(function(result){\n    // result is [ 2, 3 ]\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.filter` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promise's\n  rejection handler. For example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.reject(new Error('2'));\n  let promise3 = RSVP.reject(new Error('3'));\n  let promises = [ promise1, promise2, promise3 ];\n\n  let filterFn = function(item){\n    return item > 1;\n  };\n\n  RSVP.filter(promises, filterFn).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(reason) {\n    // reason.message === '2'\n  });\n  ```\n\n  `RSVP.filter` will also wait for any promises returned from `filterFn`.\n  For instance, you may want to fetch a list of users then return a subset\n  of those users based on some asynchronous operation:\n\n  ```javascript\n\n  let alice = { name: 'alice' };\n  let bob   = { name: 'bob' };\n  let users = [ alice, bob ];\n\n  let promises = users.map(function(user){\n    return RSVP.resolve(user);\n  });\n\n  let filterFn = function(user){\n    // Here, Alice has permissions to create a blog post, but Bob does not.\n    return getPrivilegesForUser(user).then(function(privs){\n      return privs.can_create_blog_post === true;\n    });\n  };\n  RSVP.filter(promises, filterFn).then(function(users){\n    // true, because the server told us only Alice can create a blog post.\n    users.length === 1;\n    // false, because Alice is the only user present in `users`\n    users[0] === bob;\n  });\n  ```\n\n  @method filter\n  @static\n  @for RSVP\n  @param {Array} promises\n  @param {Function} filterFn - function to be called on each resolved value to\n  filter the final results.\n  @param {String} label optional string describing the promise. Useful for\n  tooling.\n  @return {Promise}\n*/\n\nfunction resolveAll(promises, label) {\n  return Promise.all(promises, label);\n}\n\nfunction resolveSingle(promise, label) {\n  return Promise.resolve(promise, label).then(function (promises) {\n    return resolveAll(promises, label);\n  });\n}\nfunction filter(promises, filterFn, label) {\n  var promise = isArray(promises) ? resolveAll(promises, label) : resolveSingle(promises, label);\n  return promise.then(function (values) {\n    if (!isFunction(filterFn)) {\n      throw new TypeError(\"You must pass a function as filter's second argument.\");\n    }\n\n    var length = values.length;\n    var filtered = new Array(length);\n\n    for (var i = 0; i < length; i++) {\n      filtered[i] = filterFn(values[i]);\n    }\n\n    return resolveAll(filtered, label).then(function (filtered) {\n      var results = new Array(length);\n      var newLength = 0;\n\n      for (var i = 0; i < length; i++) {\n        if (filtered[i]) {\n          results[newLength] = values[i];\n          newLength++;\n        }\n      }\n\n      results.length = newLength;\n\n      return results;\n    });\n  });\n}\n\nvar len = 0;\nvar vertxNext = undefined;\nfunction asap(callback, arg) {\n  queue$1[len] = callback;\n  queue$1[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 1, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    scheduleFlush$1();\n  }\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  var nextTick = process.nextTick;\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // setImmediate should be used instead instead\n  var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n  if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n    nextTick = setImmediate;\n  }\n  return function () {\n    return nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    return node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  return function () {\n    return setTimeout(flush, 1);\n  };\n}\n\nvar queue$1 = new Array(1000);\n\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue$1[i];\n    var arg = queue$1[i + 1];\n\n    callback(arg);\n\n    queue$1[i] = undefined;\n    queue$1[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertex() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush$1 = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush$1 = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush$1 = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush$1 = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush$1 = attemptVertex();\n} else {\n  scheduleFlush$1 = useSetTimeout();\n}\n\nvar platform = undefined;\n\n/* global self */\nif (typeof self === 'object') {\n  platform = self;\n\n  /* global global */\n} else if (typeof global === 'object') {\n    platform = global;\n  } else {\n    throw new Error('no global: `self` or `global` found');\n  }\n\nvar _async$filter;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// defaults\n\n// the default export here is for backwards compat:\n//   https://github.com/tildeio/rsvp.js/issues/434\nconfig.async = asap;\nconfig.after = function (cb) {\n  return setTimeout(cb, 0);\n};\nvar cast = resolve$2;\n\nvar async = function async(callback, arg) {\n  return config.async(callback, arg);\n};\n\nfunction on() {\n  config['on'].apply(config, arguments);\n}\n\nfunction off() {\n  config['off'].apply(config, arguments);\n}\n\n// Set up instrumentation through `window.__PROMISE_INTRUMENTATION__`\nif (typeof window !== 'undefined' && typeof window['__PROMISE_INSTRUMENTATION__'] === 'object') {\n  var callbacks = window['__PROMISE_INSTRUMENTATION__'];\n  configure('instrument', true);\n  for (var eventName in callbacks) {\n    if (callbacks.hasOwnProperty(eventName)) {\n      on(eventName, callbacks[eventName]);\n    }\n  }\n}var rsvp = (_async$filter = {\n  cast: cast,\n  Promise: Promise,\n  EventTarget: EventTarget,\n  all: all$1,\n  allSettled: allSettled,\n  race: race$1,\n  hash: hash,\n  hashSettled: hashSettled,\n  rethrow: rethrow,\n  defer: defer,\n  denodeify: denodeify,\n  configure: configure,\n  on: on,\n  off: off,\n  resolve: resolve$2,\n  reject: reject$2,\n  map: map\n}, _defineProperty(_async$filter, 'async', async), _defineProperty(_async$filter, 'filter', // babel seems to error if async isn't a computed prop here...\nfilter), _async$filter);\n\nexports['default'] = rsvp;\nexports.cast = cast;\nexports.Promise = Promise;\nexports.EventTarget = EventTarget;\nexports.all = all$1;\nexports.allSettled = allSettled;\nexports.race = race$1;\nexports.hash = hash;\nexports.hashSettled = hashSettled;\nexports.rethrow = rethrow;\nexports.defer = defer;\nexports.denodeify = denodeify;\nexports.configure = configure;\nexports.on = on;\nexports.off = off;\nexports.resolve = resolve$2;\nexports.reject = reject$2;\nexports.map = map;\nexports.async = async;\nexports.filter = filter;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"_process\":41}]},{},[5])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9hcHAvY29uc3RydWN0b3IuanMiLCJqcy9hcHAvaW5kZXguanMiLCJqcy9kb20vaW5kZXguanMiLCJqcy9kb20vc2V0dXBfbWFpbi9pbmRleC5qcyIsImpzL2luZGV4LmpzIiwianMvc2VydmVyL2V2YWxfbGF0ZXguanMiLCJqcy9zZXJ2ZXIvZ2V0X211bF9hbmRfZGl2X2NsYXNzZXMuanMiLCJqcy9zZXJ2ZXIvZ2V0X3VuaXRsZXNzLmpzIiwianMvc2VydmVyL2lkZW50aWZ5X3VuaXQuanMiLCJqcy9zZXJ2ZXIvaW5kZXguanMiLCJqcy9zZXJ2ZXIvc2VhcmNoLmpzIiwianMvdW5pdC9iYXNlX3VuaXQuanMiLCJqcy91bml0L2Rlcml2ZWRfdW5pdC5qcyIsImpzL3VuaXQvaW5kZXguanMiLCJqcy91bml0L3JlZ2lzdGVyL2FuZ2xlLmpzIiwianMvdW5pdC9yZWdpc3Rlci9hcmVhLmpzIiwianMvdW5pdC9yZWdpc3Rlci9jb3Vsb21iLmpzIiwianMvdW5pdC9yZWdpc3Rlci9jdXJyZW50LmpzIiwianMvdW5pdC9yZWdpc3Rlci9lbmVyZ3kuanMiLCJqcy91bml0L3JlZ2lzdGVyL2ZhcmFkLmpzIiwianMvdW5pdC9yZWdpc3Rlci9mb3JjZS5qcyIsImpzL3VuaXQvcmVnaXN0ZXIvaGVucnkuanMiLCJqcy91bml0L3JlZ2lzdGVyL2hlcnR6LmpzIiwianMvdW5pdC9yZWdpc3Rlci9pbmRleC5qcyIsImpzL3VuaXQvcmVnaXN0ZXIvaW50ZW5zaXR5LmpzIiwianMvdW5pdC9yZWdpc3Rlci9sZW5ndGguanMiLCJqcy91bml0L3JlZ2lzdGVyL2x1eC5qcyIsImpzL3VuaXQvcmVnaXN0ZXIvbWFzcy5qcyIsImpzL3VuaXQvcmVnaXN0ZXIvbWF0dGVyLmpzIiwianMvdW5pdC9yZWdpc3Rlci9vaG0uanMiLCJqcy91bml0L3JlZ2lzdGVyL3ByZXNzdXJlLmpzIiwianMvdW5pdC9yZWdpc3Rlci9zaWVtZW5zLmpzIiwianMvdW5pdC9yZWdpc3Rlci9zdG9yYWdlLmpzIiwianMvdW5pdC9yZWdpc3Rlci90ZW1wLmpzIiwianMvdW5pdC9yZWdpc3Rlci90ZXNsYS5qcyIsImpzL3VuaXQvcmVnaXN0ZXIvdGltZS5qcyIsImpzL3VuaXQvcmVnaXN0ZXIvdm9sdC5qcyIsImpzL3VuaXQvcmVnaXN0ZXIvdm9sdW1lLmpzIiwianMvdW5pdC9yZWdpc3Rlci93YXR0LmpzIiwianMvdW5pdC9yZWdpc3Rlci93ZWJlci5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcnN2cC9kaXN0L3JzdnAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQU0sY0FBYyxRQUFRLHNCQUFSLENBQXBCOztTQUVpQixDO0lBQVYsTSxNQUFBLE07OztBQUVQLE9BQU8sT0FBUCxHQUFpQixZQUFZO0FBQUE7O0FBQzNCLE9BQUssV0FBTCxHQUFtQixFQUFuQjs7QUFFQSxPQUFLLFlBQUwsR0FBb0IsVUFBQyxJQUFELEVBQVU7QUFDNUIsUUFBTSxPQUFPLEtBQUssSUFBbEI7QUFDQSxRQUFNLFNBQVMsS0FBSyxNQUFwQjtBQUNBLFFBQUksQ0FBQyxNQUFLLFdBQUwsQ0FBaUIsY0FBakIsQ0FBZ0MsSUFBaEMsQ0FBTCxFQUE0QztBQUMxQyxZQUFLLFdBQUwsQ0FBaUIsSUFBakIsSUFBeUIsRUFBekI7QUFDRDtBQUNELFVBQUssV0FBTCxDQUFpQixJQUFqQixFQUF1QixNQUF2QixJQUFpQyxJQUFqQztBQUNELEdBUEQ7O0FBU0EsT0FBSyxZQUFMLEdBQW9CLFVBQUMsSUFBRCxFQUFPLE1BQVAsRUFBa0I7QUFDcEMsV0FBTyxNQUFLLFdBQUwsQ0FBaUIsSUFBakIsRUFBdUIsTUFBdkIsQ0FBUDtBQUNELEdBRkQ7O0FBSUEsT0FBSyxvQkFBTCxHQUE0QixZQUFNO0FBQ2hDLFFBQU0sYUFBYSxFQUFuQjtBQUNBLFNBQUssSUFBTSxZQUFYLElBQTJCLE1BQUssV0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjb25zdCBEZXJpdmVkVW5pdCA9IHJlcXVpcmUoJy4uL3VuaXQvZGVyaXZlZF91bml0Jyk7XG5cbmNvbnN0IHtleHRlbmR9ID0gJDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMudW5pdENsYXNzZXMgPSB7fTtcblxuICB0aGlzLmFkZFVuaXRDbGFzcyA9IChVbml0KSA9PiB7XG4gICAgY29uc3QgdHlwZSA9IFVuaXQuVFlQRTtcbiAgICBjb25zdCBzeW1ib2wgPSBVbml0LlNZTUJPTDtcbiAgICBpZiAoIXRoaXMudW5pdENsYXNzZXMuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgIHRoaXMudW5pdENsYXNzZXNbdHlwZV0gPSB7fTtcbiAgICB9XG4gICAgdGhpcy51bml0Q2xhc3Nlc1t0eXBlXVtzeW1ib2xdID0gVW5pdDtcbiAgfTtcblxuICB0aGlzLmdldFVuaXRDbGFzcyA9ICh0eXBlLCBzeW1ib2wpID0+IHtcbiAgICByZXR1cm4gdGhpcy51bml0Q2xhc3Nlc1t0eXBlXVtzeW1ib2xdO1xuICB9O1xuXG4gIHRoaXMuZ2V0RGVyaXZlZFF1YW50aXRpZXMgPSAoKSA9PiB7XG4gICAgY29uc3QgcXVhbnRpdGllcyA9IHt9O1xuICAgIGZvciAoY29uc3QgcXVhbnRpdHlOYW1lIGluIHRoaXMudW5pdENsYXNzZXMpIHtcbiAgICAgIGNvbnN0IHVuaXRDbGFzc2VzID0gdGhpcy51bml0Q2xhc3Nlc1txdWFudGl0eU5hbWVdO1xuICAgICAgY29uc3QgdW5pdENsYXNzID0gdW5pdENsYXNzZXNbT2JqZWN0LmtleXModW5pdENsYXNzZXMpWzBdXTtcbiAgICAgIGlmICh1bml0Q2xhc3MuQkFTRSkgY29udGludWU7XG4gICAgICBxdWFudGl0aWVzW3F1YW50aXR5TmFtZV0gPSB7XG4gICAgICAgIG5hbWU6IHF1YW50aXR5TmFtZSxcbiAgICAgICAgdHlwZXM6IHVuaXRDbGFzcy5VTklUTEVTUy50eXBlc1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcXVhbnRpdGllcztcbiAgfTtcblxuICB0aGlzLmdldFVuaXRDbGFzc2VzID0gKHEpID0+IHtcbiAgICBpZiAocSA9PSB0cnVlKSByZXR1cm4gdGhpcy51bml0Q2xhc3NlcztcbiAgICBpZiAocSkgcmV0dXJuIHRoaXMudW5pdENsYXNzZXNbcV07XG4gICAgY29uc3QgdW5pdENsYXNzZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHF1YW50aXR5IGluIHRoaXMudW5pdENsYXNzZXMpIHtcbiAgICAgIGV4dGVuZCh0cnVlLCB1bml0Q2xhc3NlcywgdGhpcy51bml0Q2xhc3Nlc1txdWFudGl0eV0pO1xuICAgIH1cbiAgICByZXR1cm4gdW5pdENsYXNzZXM7XG4gIH07XG5cbiAgdGhpcy5nZXRTdGFuZGFyZFVuaXRDbGFzcyA9IChxdWFudGl0eSkgPT4ge1xuICAgIGNvbnN0IHVuaXRDbGFzc2VzID0gdGhpcy51bml0Q2xhc3Nlc1txdWFudGl0eV07XG4gICAgZm9yIChjb25zdCBzeW1ib2wgaW4gdW5pdENsYXNzZXMpIHtcbiAgICAgIHZhciB1bml0Q2xhc3MgPSB1bml0Q2xhc3Nlc1tzeW1ib2xdO1xuICAgICAgaWYgKHVuaXRDbGFzcy5RVUFOVElUWSA9PSAxKSB7XG4gICAgICAgIGlmICghdW5pdENsYXNzLkJBU0UpIHtcbiAgICAgICAgICB3aGlsZSAodW5pdENsYXNzLlBBUkVOVCAhPT0gRGVyaXZlZFVuaXQpIHtcbiAgICAgICAgICAgIHVuaXRDbGFzcyA9IHVuaXRDbGFzcy5QQVJFTlQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bml0Q2xhc3M7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bml0Q2xhc3Nlc1tPYmplY3Qua2V5cyh1bml0Q2xhc3NlcylbMF1dO1xuICB9XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge307IiwiY29uc3Qgc2V0dXBNYWluID0gcmVxdWlyZSgnLi9zZXR1cF9tYWluJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXR1cE1haW5cbn07IiwiY29uc3QgU2VydmVyID0gcmVxdWlyZSgnLi4vLi4vc2VydmVyJyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi8uLi9hcHAnKTtcblxuY29uc3QgUEVSX1BBR0UgPSAxMDtcbnZhciBzY3JvbGxIYW5kbGVyID0gbnVsbDtcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIGNvbnN0ICRpbnB1dCA9ICQoJyNpbnB1dCcpO1xuICB2YXIgY29uZmlnID0ge1xuICAgIGhhbmRsZXJzOiB7XG4gICAgICBlZGl0OiAoKSA9PiB7XG4gICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcygnYWN0aXZlIGVycm9yJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgbWF0aEZpZWxkID0gTVEuTWF0aEZpZWxkKCRpbnB1dFswXSwgY29uZmlnKTtcbiAgY29uc3QgJGVxdWFsID0gJCgnI2VxdWFsJyk7XG4gICRlcXVhbC5jbGljaygoKT0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdW5pdGxlc3MgPSBTZXJ2ZXIuZXZhbExhVGVYKG1hdGhGaWVsZC5sYXRleCgpKTtcbiAgICAgIGNvbnN0IGNvbWJpbmF0aW9ucyA9IFNlcnZlci5zZWFyY2godW5pdGxlc3MpO1xuICAgICAgJCgnLnJlc3VsdC1jb250YWluZXI6bm90KC50ZW1wbGF0ZSknKS5yZW1vdmUoKTtcblxuICAgICAgaWYgKHNjcm9sbEhhbmRsZXIpICQod2luZG93KS5vZmYoJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIpO1xuICAgICAgc2Nyb2xsSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgJGxhc3RDb250YWluZXIgPSAkKCcuY29udGFpbmVyOm5vdCgudGVtcGxhdGUpJykubGFzdCgpO1xuICAgICAgICBjb25zdCBzY3JvbGxCb3R0b20gPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCk7XG4gICAgICAgIGlmICgkbGFzdENvbnRhaW5lci5vZmZzZXQoKS50b3AgKyAkbGFzdENvbnRhaW5lci5vdXRlckhlaWdodCgpIDwgc2Nyb2xsQm90dG9tKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2EnKTtcbiAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgd2hpbGUgKGNvbWJpbmF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uID0gY29tYmluYXRpb25zLnNoaWZ0KCk7XG4gICAgICAgICAgICByZW5kZXJDb21iaW5hdGlvbih1bml0bGVzcywgY29tYmluYXRpb24pO1xuICAgICAgICAgICAgaWYgKGkrKyA+PSBQRVJfUEFHRSkgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICQoJy5yZXN1bHQtY29udGFpbmVyOm5vdCguYXBwZWFyKTpub3QoLnRlbXBsYXRlKScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICgkKHRoaXMpLm9mZnNldCgpLnRvcCA8IHNjcm9sbEJvdHRvbSkge1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYXBwZWFyJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBzY3JvbGxIYW5kbGVyKCk7XG4gICAgICAkKHdpbmRvdykuc2Nyb2xsKHNjcm9sbEhhbmRsZXIpO1xuXG4gICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgIHNjcm9sbFRvcDogJCgnLnNlYXJjaC1jb250YWluZXInKS5vZmZzZXQoKS50b3BcbiAgICAgIH0sIDMwMCk7XG4gICAgICAkaW5wdXQuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgJGlucHV0LmFkZENsYXNzKCdlcnJvcicpO1xuICAgIH1cbiAgfSk7XG4gICRpbnB1dC5rZXl1cChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge1xuICAgICAgJGVxdWFsLmNsaWNrKCk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCAkdGVtcGxhdGVVbml0V3JhcHBlciA9ICQoJy51bml0LXdyYXBwZXIudGVtcGxhdGUnKTtcbiAgY29uc3QgdW5pdENsYXNzZXMgPSBhcHAuZ2V0VW5pdENsYXNzZXModHJ1ZSk7XG4gIGZvciAoY29uc3QgcXVhbnRpdHkgaW4gdW5pdENsYXNzZXMpIHtcbiAgICBjb25zdCAkdW5pdFdyYXBwZXIgPSAkdGVtcGxhdGVVbml0V3JhcHBlci5jbG9uZSgpO1xuICAgICR1bml0V3JhcHBlci5yZW1vdmVDbGFzcygndGVtcGxhdGUnKTtcbiAgICAkdW5pdFdyYXBwZXIuZmluZCgnLnF1YW50aXR5JykudGV4dChxdWFudGl0eSk7XG4gICAgZm9yIChjb25zdCBzeW1ib2wgaW4gdW5pdENsYXNzZXNbcXVhbnRpdHldKSB7XG4gICAgICAkdW5pdFdyYXBwZXIuZmluZCgndWwnKS5hcHBlbmQoYDxsaT4ke3N5bWJvbH0gKCR7dW5pdENsYXNzZXNbcXVhbnRpdHldW3N5bWJvbF0uTkFNRX0pPC9saT5gKTtcbiAgICB9XG4gICAgJHVuaXRXcmFwcGVyLmluc2VydEJlZm9yZSgkdGVtcGxhdGVVbml0V3JhcHBlcik7XG4gIH1cbn07XG5cbmNvbnN0IHJlbmRlckNvbWJpbmF0aW9uID0gKHVuaXRsZXNzLCBjb21iaW5hdGlvbikgPT4ge1xuICB2YXIgZmFjdG9yID0gMTtcbiAgY29uc3QgcG93ZXJzID0gW107XG5cbiAgZm9yIChjb25zdCBxdWFudGl0aWVzIG9mIFtjb21iaW5hdGlvbi5kZXJpdmVkUXVhbnRpdGllcywgY29tYmluYXRpb24uYmFzZVF1YW50aXRpZXNdKSB7XG4gICAgZm9yIChjb25zdCBxdWFudGl0eSBpbiBxdWFudGl0aWVzKSB7XG4gICAgICBjb25zdCB1bml0Q2xhc3MgPSBhcHAuZ2V0U3RhbmRhcmRVbml0Q2xhc3MocXVhbnRpdHkpO1xuICAgICAgZmFjdG9yICo9IE1hdGgucG93KHVuaXRDbGFzcy5RVUFOVElUWSwgcXVhbnRpdGllc1txdWFudGl0eV0pO1xuICAgICAgcG93ZXJzLnB1c2goW3VuaXRDbGFzcywgcXVhbnRpdGllc1txdWFudGl0eV1dKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBsYXRleCA9IGdldExhVGVYKHVuaXRsZXNzLCBmYWN0b3IsIHBvd2Vycyk7XG5cbiAgY29uc3QgJHRlbXBsYXRlUmVzdWx0Q29udGFpbmVyID0gJCgnLnJlc3VsdC1jb250YWluZXIudGVtcGxhdGUnKTtcbiAgY29uc3QgJHJlc3VsdENvbnRhaW5lciA9ICR0ZW1wbGF0ZVJlc3VsdENvbnRhaW5lci5jbG9uZSgpO1xuICBjb25zdCAkYW5zd2VyID0gJHJlc3VsdENvbnRhaW5lci5maW5kKCcuYW5zd2VyJyk7XG4gICRyZXN1bHRDb250YWluZXIucmVtb3ZlQ2xhc3MoJ3RlbXBsYXRlJyk7XG4gICRhbnN3ZXIudGV4dChsYXRleCk7XG4gIHZhciBzdGF0aWNNYXRoID0gTVEuU3RhdGljTWF0aCgkYW5zd2VyWzBdKTtcbiAgJHJlc3VsdENvbnRhaW5lci5pbnNlcnRCZWZvcmUoJHRlbXBsYXRlUmVzdWx0Q29udGFpbmVyKTtcbiAgY29uc3QgJHRlbXBsYXRlU2VsZWN0b3JXcmFwcGVyID0gJHJlc3VsdENvbnRhaW5lci5maW5kKCcuc2VsZWN0b3Itd3JhcHBlci50ZW1wbGF0ZScpO1xuICBmb3IgKGNvbnN0IFt1bml0Q2xhc3NdIG9mIHBvd2Vycykge1xuICAgIGNvbnN0IHF1YW50aXR5ID0gdW5pdENsYXNzLlRZUEU7XG4gICAgY29uc3QgJHNlbGVjdG9yV3JhcHBlciA9ICR0ZW1wbGF0ZVNlbGVjdG9yV3JhcHBlci5jbG9uZSgpO1xuICAgICRzZWxlY3RvcldyYXBwZXIucmVtb3ZlQ2xhc3MoJ3RlbXBsYXRlJyk7XG4gICAgJHNlbGVjdG9yV3JhcHBlci5maW5kKCcucXVhbnRpdHknKS50ZXh0KHF1YW50aXR5KTtcbiAgICBjb25zdCAkc2VsZWN0ZWQgPSAkc2VsZWN0b3JXcmFwcGVyLmZpbmQoJy5zZWxlY3RlZCcpO1xuICAgICRzZWxlY3RlZC50ZXh0KHVuaXRDbGFzcy5TWU1CT0wpO1xuICAgIGNvbnN0ICR1bCA9ICRzZWxlY3RvcldyYXBwZXIuZmluZCgndWwnKTtcbiAgICBjb25zdCB1bml0Q2xhc3NlcyA9IGFwcC5nZXRVbml0Q2xhc3NlcyhxdWFudGl0eSk7XG4gICAgZm9yIChjb25zdCBzeW1ib2wgaW4gdW5pdENsYXNzZXMpIHtcbiAgICAgIGNvbnN0ICRsaSA9ICQoYDxsaT4ke3N5bWJvbH08L2xpPmApO1xuICAgICAgJGxpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3Qgc3ltYm9sID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICRzZWxlY3RlZC50ZXh0KHN5bWJvbCk7XG4gICAgICAgIGZvciAoY29uc3QgcG93ZXIgb2YgcG93ZXJzKSB7XG4gICAgICAgICAgY29uc3QgdW5pdENsYXNzID0gdW5pdENsYXNzZXNbc3ltYm9sXTtcbiAgICAgICAgICBpZiAocG93ZXJbMF0uVFlQRSA9PSBxdWFudGl0eSkge1xuICAgICAgICAgICAgZmFjdG9yIC89IE1hdGgucG93KHBvd2VyWzBdLlFVQU5USVRZLCBwb3dlclsxXSk7XG4gICAgICAgICAgICBwb3dlclswXSA9IHVuaXRDbGFzcztcbiAgICAgICAgICAgIGZhY3RvciAqPSBNYXRoLnBvdyhwb3dlclswXS5RVUFOVElUWSwgcG93ZXJbMV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsYXRleCA9IGdldExhVGVYKHVuaXRsZXNzLCBmYWN0b3IsIHBvd2Vycyk7XG4gICAgICAgIHN0YXRpY01hdGgubGF0ZXgobGF0ZXgpO1xuICAgICAgfSk7XG4gICAgICAkdWwuYXBwZW5kKCRsaSk7XG4gICAgfVxuICAgICRzZWxlY3RvcldyYXBwZXIuaW5zZXJ0QmVmb3JlKCR0ZW1wbGF0ZVNlbGVjdG9yV3JhcHBlcik7XG4gIH1cbn07XG5cbmNvbnN0IGdldExhVGVYID0gKHVuaXRsZXNzLCBmYWN0b3IsIHBvd2VycykgPT4ge1xuICB2YXIgbXVsU3ltYm9scyA9IFtdLCBkaXZTeW1ib2xzID0gW107XG4gIGZvciAoY29uc3QgcG93ZXIgb2YgcG93ZXJzKSB7XG4gICAgaWYgKHBvd2VyWzFdID4gMCkge1xuICAgICAgaWYgKHBvd2VyWzFdID4gMSkge1xuICAgICAgICBtdWxTeW1ib2xzLnB1c2gocG93ZXJbMF0uU1lNQk9MICsgJ14nICsgcG93ZXJbMV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXVsU3ltYm9scy5wdXNoKHBvd2VyWzBdLlNZTUJPTCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwb3dlclsxXSA8IC0xKSB7XG4gICAgICAgIGRpdlN5bWJvbHMucHVzaChwb3dlclswXS5TWU1CT0wgKyAnXicgKyAtcG93ZXJbMV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGl2U3ltYm9scy5wdXNoKHBvd2VyWzBdLlNZTUJPTCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciB2YWx1ZSA9IHVuaXRsZXNzLnF1YW50aXR5IC8gZmFjdG9yO1xuICBpZiAoTWF0aC5hYnModmFsdWUpID4gMWU1IHx8IE1hdGguYWJzKHZhbHVlKSA8IDFlLTUpIHtcbiAgICB2YWx1ZSA9IHZhbHVlLnRvRXhwb25lbnRpYWwoNSk7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSB2YWx1ZS50b1ByZWNpc2lvbig1KTtcbiAgfVxuICB2YXIgbGF0ZXggPSB2YWx1ZSArICdcXFxcICcgKyBtdWxTeW1ib2xzLmpvaW4oJ1xcXFxjZG90ICcpO1xuICBpZiAoZGl2U3ltYm9scy5sZW5ndGgpIHtcbiAgICBpZiAoZGl2U3ltYm9scy5sZW5ndGggPiAxKSB7XG4gICAgICBsYXRleCArPSAnIC8gKCcgKyBkaXZTeW1ib2xzLmpvaW4oJ1xcXFxjZG90ICcpICsgJyknO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXRleCArPSAnIC8gJyArIGRpdlN5bWJvbHNbMF07XG4gICAgfVxuICB9XG4gIHJldHVybiBsYXRleDtcbn07IiwiY29uc3QgUlNWUCA9IHJlcXVpcmUoJ3JzdnAnKTtcbmNvbnN0IERPTSA9IHJlcXVpcmUoJy4vZG9tJyk7XG5jb25zdCBTZXJ2ZXIgPSByZXF1aXJlKCcuL3NlcnZlcicpO1xuY29uc3QgYXBwID0gcmVxdWlyZSgnLi9hcHAnKTtcbmNvbnN0IEFwcCA9IHJlcXVpcmUoJy4vYXBwL2NvbnN0cnVjdG9yJyk7XG5jb25zdCBVbml0ID0gcmVxdWlyZSgnLi91bml0Jyk7XG5jb25zdCB7ZXh0ZW5kfSA9ICQ7XG5cbi8vIHNldCBnbG9iYWwgcHJvbWlzZSBlcnJvciBoYW5kbGVyXG5SU1ZQLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgY29uc29sZS5hc3NlcnQoZmFsc2UsIHJlYXNvbik7XG59KTtcblxuZXh0ZW5kKHRydWUsIGFwcCwgbmV3IEFwcCgpKTtcblxuVW5pdC5yZWdpc3RlcigpO1xuXG5leHRlbmQodHJ1ZSwgd2luZG93LCB7XG4gIG1haW46IERPTS5zZXR1cE1haW5cbn0pOyIsImNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uL2FwcC9pbmRleCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGxhdGV4ID0+IHtcbiAgY29uc3QgdW5pdENsYXNzZXMgPSBhcHAuZ2V0VW5pdENsYXNzZXMoKTtcbiAgbGF0ZXggPSBsYXRleC5yZXBsYWNlKC9cXFxcIC9nLCAnJyk7XG4gIGxhdGV4ID0gbGF0ZXgucmVwbGFjZSgvXFxcXGxlZnRcXCgvZywgJygnKTtcbiAgbGF0ZXggPSBsYXRleC5yZXBsYWNlKC9cXFxccmlnaHRcXCkvZywgJyknKTtcbiAgdmFyIHJlcGxhY2VkID0gbnVsbDtcbiAgd2hpbGUgKHJlcGxhY2VkICE9IGxhdGV4KSB7XG4gICAgbGF0ZXggPSByZXBsYWNlZCB8fCBsYXRleDtcbiAgICByZXBsYWNlZCA9IGxhdGV4O1xuICAgIHJlcGxhY2VkID0gaW5maW5pdGVSZXBsYWNlKHJlcGxhY2VkLCAvXFxeeyhbXnt9XSspfS9nLCAnXigkMSknKTtcbiAgICByZXBsYWNlZCA9IGluZmluaXRlUmVwbGFjZShyZXBsYWNlZCwgL1xcXFxmcmFjeyhbXnt9XSspfXsoW157fV0rKX0vZywgJygkMSkvKCQyKScpO1xuICB9XG4gIGxhdGV4ID0gbGF0ZXgucmVwbGFjZSgvXFxcXGNkb3QvZywgJyonKTtcbiAgbGF0ZXggPSBsYXRleC5yZXBsYWNlKC8oXFxcXHwgKS9nLCAnJyk7XG4gIGxhdGV4ID0gbGF0ZXgucmVwbGFjZSgvKC18KD8hYS16QS1azqnCsMK1KSgoPzpbYS16QS1aXXzOqXzCsHzCtSkrKSg/IWEtekEtWs6pwrDCtSl8KFswLTldKlxcLj9bMC05XSsoPzpbZUVdWy0rXT9bMC05XSspPykpL2csIChtYXRjaCwgdmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gJy0nKSB7XG4gICAgICByZXR1cm4gJyskJCcgKyBKU09OLnN0cmluZ2lmeSh7dHlwZXM6IHt9LCBxdWFudGl0eTogLTF9KSArICckJConXG4gICAgfSBlbHNlIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICAgIGlmICh2YWx1ZS50b0xvd2VyQ2FzZSgpID09ICdlJykgcmV0dXJuIHZhbHVlO1xuICAgICAgcmV0dXJuICckJCcgKyBKU09OLnN0cmluZ2lmeSh1bml0Q2xhc3Nlc1t2YWx1ZV0uVU5JVExFU1MpICsgJyQkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICckJCcgKyBKU09OLnN0cmluZ2lmeSh7dHlwZXM6IHt9LCBxdWFudGl0eTogTnVtYmVyKHZhbHVlKX0pICsgJyQkJztcbiAgICB9XG4gIH0pO1xuICBsYXRleCA9IGluZmluaXRlUmVwbGFjZShsYXRleCwgLyg/OlxcKHxeKShbXigpXSspKD86XFwpfCQpL2csXG4gICAgKG1hdGNoLCBjb250ZW50KSA9PiB7XG4gICAgICBjb250ZW50ID0gaW5maW5pdGVSZXBsYWNlKGNvbnRlbnQsIC9cXCRcXCQoW14oJCQpXSspXFwkXFwkXFxeXFwkXFwkKFteKCQkKV0rKVxcJFxcJC9nLCAobWF0Y2gsIHVuaXRsZXNzMSwgdW5pdGxlc3MyKSA9PiB7XG4gICAgICAgIHJldHVybiBwb3dlclVuaXRsZXNzZXMoSlNPTi5wYXJzZSh1bml0bGVzczEpLCBKU09OLnBhcnNlKHVuaXRsZXNzMikpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnRlbnQgPSBpbmZpbml0ZVJlcGxhY2UoY29udGVudCwgL1xcJFxcJChbXigkJCldKylcXCRcXCQoXFwqfFxcL3wpXFwkXFwkKFteKCQkKV0rKVxcJFxcJC8sIChtYXRjaCwgdW5pdGxlc3MxLCBzaWduLCB1bml0bGVzczIpPT4ge1xuICAgICAgICByZXR1cm4gbXVsdGlwbHlEaXZpZGVVbml0bGVzc2VzKEpTT04ucGFyc2UodW5pdGxlc3MxKSwgc2lnbiwgSlNPTi5wYXJzZSh1bml0bGVzczIpKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb250ZW50ID0gaW5maW5pdGVSZXBsYWNlKGNvbnRlbnQsIC9cXCs/XFwkXFwkKFteKCQkKV0rKVxcJFxcJFxcK1xcJFxcJChbXigkJCldKylcXCRcXCQvZywgKG1hdGNoLCB1bml0bGVzczEsIHVuaXRsZXNzMik9PiB7XG4gICAgICAgIHJldHVybiBwbHVzVW5pdGxlc3NlcyhKU09OLnBhcnNlKHVuaXRsZXNzMSksIEpTT04ucGFyc2UodW5pdGxlc3MyKSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGNvbnRlbnRbMF0gPT0gJysnKSBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMSk7XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KTtcblxuICByZXR1cm4gSlNPTi5wYXJzZShsYXRleC5zcGxpdCgnJCQnKVsxXSk7XG59O1xuXG5jb25zdCBwb3dlclVuaXRsZXNzZXMgPSAodW5pdGxlc3MxLCB1bml0bGVzczIpID0+IHtcbiAgaWYgKE9iamVjdC5rZXlzKHVuaXRsZXNzMi50eXBlcykubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgcG93ZXIgPSB1bml0bGVzczIucXVhbnRpdHk7XG4gIHVuaXRsZXNzMS5xdWFudGl0eSA9IE1hdGgucG93KHVuaXRsZXNzMS5xdWFudGl0eSwgcG93ZXIpO1xuICBmb3IgKGNvbnN0IHR5cGUgaW4gdW5pdGxlc3MxLnR5cGVzKSB7XG4gICAgdW5pdGxlc3MxLnR5cGVzW3R5cGVdICo9IHBvd2VyO1xuICAgIGlmICh1bml0bGVzczEudHlwZXNbdHlwZV0gPT0gMCkge1xuICAgICAgZGVsZXRlIHVuaXRsZXNzMS50eXBlc1t0eXBlXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICckJCcgKyBKU09OLnN0cmluZ2lmeSh1bml0bGVzczEpICsgJyQkJztcbn07XG5cbmNvbnN0IG11bHRpcGx5RGl2aWRlVW5pdGxlc3NlcyA9ICh1bml0bGVzczEsIHNpZ24sIHVuaXRsZXNzMikgPT4ge1xuICBpZiAoc2lnbiA9PSAnLycpIHtcbiAgICB1bml0bGVzczEucXVhbnRpdHkgLz0gdW5pdGxlc3MyLnF1YW50aXR5O1xuICB9IGVsc2Uge1xuICAgIHVuaXRsZXNzMS5xdWFudGl0eSAqPSB1bml0bGVzczIucXVhbnRpdHk7XG4gIH1cbiAgZm9yIChjb25zdCB0eXBlIGluIHVuaXRsZXNzMi50eXBlcykge1xuICAgIGlmICghdW5pdGxlc3MxLnR5cGVzLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICB1bml0bGVzczEudHlwZXNbdHlwZV0gPSAoc2lnbiA9PSAnLycgPyAtMSA6IDEpICogdW5pdGxlc3MyLnR5cGVzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bml0bGVzczEudHlwZXNbdHlwZV0gKz0gKHNpZ24gPT0gJy8nID8gLTEgOiAxKSAqIHVuaXRsZXNzMi50eXBlc1t0eXBlXTtcbiAgICB9XG4gICAgaWYgKHVuaXRsZXNzMS50eXBlc1t0eXBlXSA9PSAwKSB7XG4gICAgICBkZWxldGUgdW5pdGxlc3MxLnR5cGVzW3R5cGVdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyQkJyArIEpTT04uc3RyaW5naWZ5KHVuaXRsZXNzMSkgKyAnJCQnO1xufTtcblxuY29uc3QgcGx1c1VuaXRsZXNzZXMgPSAodW5pdGxlc3MxLCB1bml0bGVzczIpID0+IHtcbiAgaWYgKE9iamVjdC5rZXlzKHVuaXRsZXNzMS50eXBlcykubGVuZ3RoICE9IE9iamVjdC5rZXlzKHVuaXRsZXNzMi50eXBlcykubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgZm9yIChjb25zdCB0eXBlIGluIHVuaXRsZXNzMi50eXBlcykge1xuICAgIGlmICh1bml0bGVzczIudHlwZXNbdHlwZV0gIT0gdW5pdGxlc3MxLnR5cGVzW3R5cGVdKSByZXR1cm4gbnVsbDtcbiAgfVxuICB1bml0bGVzczEucXVhbnRpdHkgKz0gdW5pdGxlc3MyLnF1YW50aXR5O1xuICByZXR1cm4gJyskJCcgKyBKU09OLnN0cmluZ2lmeSh1bml0bGVzczEpICsgJyQkJztcbn07XG5cbmNvbnN0IGluZmluaXRlUmVwbGFjZSA9IChzdHIsIHNyYywgZHN0KSA9PiB7XG4gIHZhciByZXBsYWNlZCA9IG51bGw7XG4gIHdoaWxlIChyZXBsYWNlZCAhPSBzdHIpIHtcbiAgICBzdHIgPSByZXBsYWNlZCB8fCBzdHI7XG4gICAgcmVwbGFjZWQgPSBzdHIucmVwbGFjZShzcmMsIGRzdCk7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07IiwiY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vYXBwL2luZGV4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKG11bFBhaXJzLCBkaXZQYWlycykgPT4ge1xuICBjb25zdCBtdWxDbGFzc2VzID0gW107XG4gIGNvbnN0IGRpdkNsYXNzZXMgPSBbXTtcblxuICBjb25zdCBxdWV1ZSA9IFtdO1xuICBtdWxQYWlycy5mb3JFYWNoKG11bFBhaXIgPT4ge1xuICAgIGNvbnN0IHR5cGUgPSBtdWxQYWlyWzBdO1xuICAgIGNvbnN0IHN5bWJvbCA9IG11bFBhaXJbMV07XG4gICAgcXVldWUucHVzaCh7XG4gICAgICBjbHM6IGFwcC5nZXRVbml0Q2xhc3ModHlwZSwgc3ltYm9sKSxcbiAgICAgIGludmVyc2U6IGZhbHNlXG4gICAgfSk7XG4gIH0pO1xuICBkaXZQYWlycy5mb3JFYWNoKGRpdlBhaXIgPT4ge1xuICAgIGNvbnN0IHR5cGUgPSBkaXZQYWlyWzBdO1xuICAgIGNvbnN0IHN5bWJvbCA9IGRpdlBhaXJbMV07XG4gICAgcXVldWUucHVzaCh7XG4gICAgICBjbHM6IGFwcC5nZXRVbml0Q2xhc3ModHlwZSwgc3ltYm9sKSxcbiAgICAgIGludmVyc2U6IHRydWVcbiAgICB9KTtcbiAgfSk7XG5cbiAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBlID0gcXVldWUuc2hpZnQoKTtcbiAgICBpZiAoZS5jbHMuQkFTRSkge1xuICAgICAgKGUuaW52ZXJzZSA/IGRpdkNsYXNzZXMgOiBtdWxDbGFzc2VzKS5wdXNoKGUuY2xzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZS5jbHMuTVVMUy5mb3JFYWNoKG11bENsYXNzID0+IHtcbiAgICAgICAgcXVldWUucHVzaCh7XG4gICAgICAgICAgY2xzOiBtdWxDbGFzcyxcbiAgICAgICAgICBpbnZlcnNlOiBlLmludmVyc2VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGUuY2xzLkRJVlMuZm9yRWFjaChkaXZDbGFzcyA9PiB7XG4gICAgICAgIHF1ZXVlLnB1c2goe1xuICAgICAgICAgIGNsczogZGl2Q2xhc3MsXG4gICAgICAgICAgaW52ZXJzZTogIWUuaW52ZXJzZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7bXVsQ2xhc3NlcywgZGl2Q2xhc3Nlc31cbn07IiwibW9kdWxlLmV4cG9ydHMgPSAobXVsQ2xhc3NlcywgZGl2Q2xhc3NlcykgPT4ge1xuICB2YXIgcXVhbnRpdHkgPSAxO1xuICBjb25zdCB0eXBlcyA9IHt9O1xuICBtdWxDbGFzc2VzLmZvckVhY2gobXVsQ2xhc3MgPT4ge1xuICAgIHF1YW50aXR5ICo9IG11bENsYXNzLlFVQU5USVRZO1xuICAgIGlmICh0eXBlcy5oYXNPd25Qcm9wZXJ0eShtdWxDbGFzcy5UWVBFKSkge1xuICAgICAgdHlwZXNbbXVsQ2xhc3MuVFlQRV0rKztcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZXNbbXVsQ2xhc3MuVFlQRV0gPSAxO1xuICAgIH1cbiAgfSk7XG4gIGRpdkNsYXNzZXMuZm9yRWFjaChkaXZDbGFzcyA9PiB7XG4gICAgcXVhbnRpdHkgLz0gZGl2Q2xhc3MuUVVBTlRJVFk7XG4gICAgaWYgKHR5cGVzLmhhc093blByb3BlcnR5KGRpdkNsYXNzLlRZUEUpKSB7XG4gICAgICB0eXBlc1tkaXZDbGFzcy5UWVBFXS0tO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlc1tkaXZDbGFzcy5UWVBFXSA9IC0xO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHJlZmluZWRUeXBlcyA9IHt9O1xuICBmb3IgKGNvbnN0IHR5cGUgaW4gdHlwZXMpIHtcbiAgICBjb25zdCBuID0gdHlwZXNbdHlwZV07XG4gICAgaWYgKG4gIT0gMCkgcmVmaW5lZFR5cGVzW3R5cGVdID0gbjtcbiAgfVxuXG4gIHJldHVybiB7dHlwZXMsIHF1YW50aXR5fTtcbn07IiwiY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vYXBwL2luZGV4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKHN5bWJvbCkgPT4ge1xuICBjb25zdCB1bml0Q2xhc3NlcyA9IGFwcC5nZXRVbml0Q2xhc3NlcygpO1xuICBmb3IgKGNvbnN0IHVuaXRTeW1ib2wgaW4gdW5pdENsYXNzZXMpIHtcbiAgICBjb25zdCB1bml0Q2xhc3MgPSB1bml0Q2xhc3Nlc1t1bml0U3ltYm9sXTtcbiAgICBpZiAodW5pdENsYXNzLlNZTUJPTCA9PSBzeW1ib2wpIHJldHVybiB1bml0Q2xhc3M7XG4gIH1cbn07IiwiY29uc3QgZ2V0TXVsQW5kRGl2Q2xhc3NlcyA9IHJlcXVpcmUoJy4vZ2V0X211bF9hbmRfZGl2X2NsYXNzZXMnKTtcbmNvbnN0IGlkZW50aWZ5VW5pdCA9IHJlcXVpcmUoJy4vaWRlbnRpZnlfdW5pdCcpO1xuY29uc3QgZ2V0VW5pdGxlc3MgPSByZXF1aXJlKCcuL2dldF91bml0bGVzcycpO1xuY29uc3QgZXZhbExhVGVYID0gcmVxdWlyZSgnLi9ldmFsX2xhdGV4Jyk7XG5jb25zdCBzZWFyY2ggPSByZXF1aXJlKCcuL3NlYXJjaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0TXVsQW5kRGl2Q2xhc3NlcyxcbiAgaWRlbnRpZnlVbml0LFxuICBnZXRVbml0bGVzcyxcbiAgZXZhbExhVGVYLFxuICBzZWFyY2hcbn07IiwiY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vYXBwJyk7XG5cbmNvbnN0IHtleHRlbmR9ID0gJDtcblxuY2xhc3MgQ29tYmluYXRpb24ge1xuICBjb25zdHJ1Y3RvcihkZXJpdmVkUXVhbnRpdGllcywgYmFzZVF1YW50aXRpZXMsIGxhc3RRdWFudGl0eSwgY291bnRDYWxjdWxhdGlvbiA9IHRydWUpIHtcbiAgICB0aGlzLmRlcml2ZWRRdWFudGl0aWVzID0gZGVyaXZlZFF1YW50aXRpZXM7XG4gICAgdGhpcy5iYXNlUXVhbnRpdGllcyA9IGJhc2VRdWFudGl0aWVzO1xuICAgIHRoaXMubGFzdFF1YW50aXR5ID0gbGFzdFF1YW50aXR5O1xuICAgIGlmIChjb3VudENhbGN1bGF0aW9uKSB0aGlzLmNhbGN1bGF0ZUNvdW50KCk7XG4gIH1cblxuICBjYWxjdWxhdGVDb3VudCgpIHtcbiAgICB2YXIgY291bnQgPSAwO1xuICAgIGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLmRlcml2ZWRRdWFudGl0aWVzKSB7XG4gICAgICBjb3VudCArPSBNYXRoLmFicyh0aGlzLmRlcml2ZWRRdWFudGl0aWVzW3R5cGVdKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB0eXBlIGluIHRoaXMuYmFzZVF1YW50aXRpZXMpIHtcbiAgICAgIGNvdW50ICs9IE1hdGguYWJzKHRoaXMuYmFzZVF1YW50aXRpZXNbdHlwZV0pO1xuICAgIH1cbiAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gIH1cblxuICBjb3VudERlcml2ZWRVbml0cygpIHtcbiAgICB2YXIgY291bnQgPSAwO1xuICAgIGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLmRlcml2ZWRRdWFudGl0aWVzKSB7XG4gICAgICBjb3VudCArPSBNYXRoLmFicyh0aGlzLmRlcml2ZWRRdWFudGl0aWVzW3R5cGVdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xuICB9XG5cbiAgY3JlYXRlKHF1YW50aXR5LCBpbnZlcnNlKSB7XG4gICAgY29uc3QgZmFjdG9yID0gaW52ZXJzZSA/IC0xIDogMTtcbiAgICBjb25zdCBuZXdfID0gbmV3IENvbWJpbmF0aW9uKGV4dGVuZCh0cnVlLCB7fSwgdGhpcy5kZXJpdmVkUXVhbnRpdGllcyksIGV4dGVuZCh0cnVlLCB7fSwgdGhpcy5iYXNlUXVhbnRpdGllcyksIHF1YW50aXR5Lm5hbWUsIGZhbHNlKTtcblxuICAgIGNvbnN0IHR5cGUgPSBxdWFudGl0eS5uYW1lO1xuICAgIGlmICghbmV3Xy5kZXJpdmVkUXVhbnRpdGllcy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkge1xuICAgICAgbmV3Xy5kZXJpdmVkUXVhbnRpdGllc1t0eXBlXSA9IGZhY3RvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5ld18uZGVyaXZlZFF1YW50aXRpZXNbdHlwZV0gLyBmYWN0b3IgPCAwKSByZXR1cm4gbnVsbDtcbiAgICAgIG5ld18uZGVyaXZlZFF1YW50aXRpZXNbdHlwZV0gKz0gZmFjdG9yO1xuICAgIH1cblxuICAgIGNvbnN0IHR5cGVzID0gcXVhbnRpdHkudHlwZXM7XG4gICAgZm9yIChjb25zdCB0eXBlIGluIHR5cGVzKSB7XG4gICAgICBpZiAoIW5ld18uYmFzZVF1YW50aXRpZXMuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgICAgbmV3Xy5iYXNlUXVhbnRpdGllc1t0eXBlXSA9IC1mYWN0b3IgKiB0eXBlc1t0eXBlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld18uYmFzZVF1YW50aXRpZXNbdHlwZV0gLT0gZmFjdG9yICogdHlwZXNbdHlwZV07XG4gICAgICB9XG4gICAgICBpZiAobmV3Xy5iYXNlUXVhbnRpdGllc1t0eXBlXSA9PSAwKSB7XG4gICAgICAgIGRlbGV0ZSBuZXdfLmJhc2VRdWFudGl0aWVzW3R5cGVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIG5ld18uY2FsY3VsYXRlQ291bnQoKTtcbiAgICByZXR1cm4gbmV3XztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9ICh1bml0bGVzcykgPT4ge1xuICBjb25zdCBNQVhfQ09NQklOQVRJT04gPSAxMDtcbiAgY29uc3QgcXVldWUgPSBbbmV3IENvbWJpbmF0aW9uKHt9LCB1bml0bGVzcy50eXBlcywgbnVsbCldO1xuICBjb25zdCBxdWFudGl0aWVzID0gYXBwLmdldERlcml2ZWRRdWFudGl0aWVzKCk7XG4gIHZhciBjb21iaW5hdGlvbnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBNQVhfQ09NQklOQVRJT047IGkrKykge1xuICAgIGNvbWJpbmF0aW9ucy5wdXNoKFtdKTtcbiAgfVxuICB3aGlsZSAocXVldWUubGVuZ3RoKSB7XG4gICAgY29uc3QgZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgaWYgKGUgPT0gbnVsbCkgY29udGludWU7XG4gICAgaWYgKGUuY291bnQgPCBNQVhfQ09NQklOQVRJT04pIHtcbiAgICAgIGNvbWJpbmF0aW9uc1tlLmNvdW50XS5wdXNoKGUpO1xuICAgIH1cbiAgICBpZiAoZS5jb3VudERlcml2ZWRVbml0cygpIDwgNCkge1xuICAgICAgdmFyIHN0YXJ0ID0gZS5sYXN0UXVhbnRpdHkgPT0gbnVsbDtcbiAgICAgIGZvciAoY29uc3QgcXVhbnRpdHlOYW1lIGluIHF1YW50aXRpZXMpIHtcbiAgICAgICAgaWYgKHF1YW50aXR5TmFtZSA9PSBlLmxhc3RRdWFudGl0eSkgc3RhcnQgPSB0cnVlO1xuICAgICAgICBpZiAoIXN0YXJ0KSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgcXVhbnRpdHkgPSBxdWFudGl0aWVzW3F1YW50aXR5TmFtZV07XG4gICAgICAgIHF1ZXVlLnB1c2goZS5jcmVhdGUocXVhbnRpdHksIGZhbHNlKSk7XG4gICAgICAgIHF1ZXVlLnB1c2goZS5jcmVhdGUocXVhbnRpdHksIHRydWUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFyIHBsYWluID0gW107XG4gIGZvciAoY29uc3QgY3Mgb2YgY29tYmluYXRpb25zKSB7XG4gICAgZm9yIChjb25zdCBjIG9mIGNzKSB7XG4gICAgICBwbGFpbi5wdXNoKGMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGxhaW47XG59OyIsImNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uL2FwcCcpO1xuXG5jbGFzcyBCYXNlVW5pdCB7XG4gIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG59XG5cbkJhc2VVbml0LkJBU0UgPSBCYXNlVW5pdC5wcm90b3R5cGUuYmFzZSA9IHRydWU7XG5CYXNlVW5pdC5RVUFOVElUWSA9IEJhc2VVbml0LnByb3RvdHlwZS5xdWFudGl0eSA9IDE7XG5cbkJhc2VVbml0LnJlZ2lzdGVyID0gKHR5cGUsIG5hbWUsIHN5bWJvbCwgcXVhbnRpdHkgPSAxLCBwYXJlbnRTeW1ib2wgPSBudWxsKSA9PiB7XG4gIGNvbnN0IFBhcmVudFVuaXQgPSBwYXJlbnRTeW1ib2wgPyBhcHAuZ2V0VW5pdENsYXNzKHR5cGUsIHBhcmVudFN5bWJvbCkgOiBCYXNlVW5pdDtcbiAgcXVhbnRpdHkgKj0gUGFyZW50VW5pdC5RVUFOVElUWTtcblxuICBjbGFzcyBVbml0IGV4dGVuZHMgUGFyZW50VW5pdCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgIHN1cGVyKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBVbml0LlRZUEUgPSBVbml0LnByb3RvdHlwZS50eXBlID0gdHlwZTtcbiAgVW5pdC5OQU1FID0gVW5pdC5wcm90b3R5cGUubmFtZSA9IG5hbWU7XG4gIFVuaXQuU1lNQk9MID0gVW5pdC5wcm90b3R5cGUuc3ltYm9sID0gc3ltYm9sO1xuICBVbml0LlFVQU5USVRZID0gVW5pdC5wcm90b3R5cGUucXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgVW5pdC5VTklUTEVTUyA9IHt0eXBlczoge30sIHF1YW50aXR5OiBxdWFudGl0eX07XG4gIFVuaXQuVU5JVExFU1MudHlwZXNbdHlwZV0gPSAxO1xuXG4gIGFwcC5hZGRVbml0Q2xhc3MoVW5pdCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VVbml0OyIsImNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uL2FwcCcpO1xuY29uc3QgU2VydmVyID0gcmVxdWlyZSgnLi4vc2VydmVyJyk7XG5cbmNsYXNzIERlcml2ZWRVbml0IHtcbiAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbn1cblxuRGVyaXZlZFVuaXQuQkFTRSA9IERlcml2ZWRVbml0LnByb3RvdHlwZS5iYXNlID0gZmFsc2U7XG5EZXJpdmVkVW5pdC5RVUFOVElUWSA9IERlcml2ZWRVbml0LnByb3RvdHlwZS5xdWFudGl0eSA9IDE7XG5EZXJpdmVkVW5pdC5NVUxTID0gRGVyaXZlZFVuaXQucHJvdG90eXBlLm11bHMgPSBbXTtcbkRlcml2ZWRVbml0LkRJVlMgPSBEZXJpdmVkVW5pdC5wcm90b3R5cGUuZGl2cyA9IFtdO1xuXG5EZXJpdmVkVW5pdC5yZWdpc3RlciA9ICh0eXBlLCBuYW1lLCBzeW1ib2wsIG11bFBhaXJzLCBkaXZQYWlycywgcXVhbnRpdHkgPSAxLCBwYXJlbnRTeW1ib2wgPSBudWxsKSA9PiB7XG4gIHZhciB7bXVsQ2xhc3NlcywgZGl2Q2xhc3Nlc30gPSBTZXJ2ZXIuZ2V0TXVsQW5kRGl2Q2xhc3NlcyhtdWxQYWlycywgZGl2UGFpcnMpO1xuXG4gIGNvbnN0IFBhcmVudFVuaXQgPSBwYXJlbnRTeW1ib2wgPyBhcHAuZ2V0VW5pdENsYXNzKHR5cGUsIHBhcmVudFN5bWJvbCkgOiBEZXJpdmVkVW5pdDtcbiAgcXVhbnRpdHkgKj0gUGFyZW50VW5pdC5RVUFOVElUWTtcbiAgZm9yIChjb25zdCBtdWxDbGFzcyBvZiBtdWxDbGFzc2VzKSBxdWFudGl0eSAqPSBtdWxDbGFzcy5RVUFOVElUWTtcbiAgZm9yIChjb25zdCBkaXZDbGFzcyBvZiBkaXZDbGFzc2VzKSBxdWFudGl0eSAvPSBkaXZDbGFzcy5RVUFOVElUWTtcbiAgbXVsQ2xhc3NlcyA9IFBhcmVudFVuaXQuTVVMUy5jb25jYXQobXVsQ2xhc3Nlcyk7XG4gIGRpdkNsYXNzZXMgPSBQYXJlbnRVbml0LkRJVlMuY29uY2F0KGRpdkNsYXNzZXMpO1xuXG4gIGNsYXNzIFVuaXQgZXh0ZW5kcyBQYXJlbnRVbml0IHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgc3VwZXIodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIFVuaXQuVFlQRSA9IFVuaXQucHJvdG90eXBlLnR5cGUgPSB0eXBlO1xuICBVbml0Lk5BTUUgPSBVbml0LnByb3RvdHlwZS5uYW1lID0gbmFtZTtcbiAgVW5pdC5TWU1CT0wgPSBVbml0LnByb3RvdHlwZS5zeW1ib2wgPSBzeW1ib2w7XG4gIFVuaXQuTVVMUyA9IFVuaXQucHJvdG90eXBlLm11bHMgPSBtdWxDbGFzc2VzO1xuICBVbml0LkRJVlMgPSBVbml0LnByb3RvdHlwZS5kaXZzID0gZGl2Q2xhc3NlcztcbiAgVW5pdC5RVUFOVElUWSA9IFVuaXQucHJvdG90eXBlLnF1YW50aXR5ID0gcXVhbnRpdHk7XG4gIFVuaXQuVU5JVExFU1MgPSBTZXJ2ZXIuZ2V0VW5pdGxlc3MobXVsQ2xhc3NlcywgZGl2Q2xhc3Nlcyk7XG4gIFVuaXQuVU5JVExFU1MucXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgVW5pdC5QQVJFTlQgPSBQYXJlbnRVbml0O1xuXG4gIGFwcC5hZGRVbml0Q2xhc3MoVW5pdCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlcml2ZWRVbml0OyIsImNvbnN0IEJhc2VVbml0ID0gcmVxdWlyZSgnLi9iYXNlX3VuaXQnKTtcbmNvbnN0IERlcml2ZWRVbml0ID0gcmVxdWlyZSgnLi9kZXJpdmVkX3VuaXQnKTtcbmNvbnN0IHJlZ2lzdGVyID0gcmVxdWlyZSgnLi9yZWdpc3RlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQmFzZVVuaXQsXG4gIERlcml2ZWRVbml0LFxuICByZWdpc3RlclxufTsiLCJjb25zdCBCYXNlVW5pdCA9IHJlcXVpcmUoJy4uL2Jhc2VfdW5pdCcpO1xuXG5jb25zdCB0eXBlID0gJ2FuZ2xlJztcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdyYWRpYW4nLCAnJywgMSk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdyYWRpYW4nLCAncmFkJywgMSk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdkZWdyZWUnLCAnwrAnLCA1Ny4yOTU4LCAnJyk7XG59OyIsImNvbnN0IERlcml2ZWRVbml0ID0gcmVxdWlyZSgnLi4vZGVyaXZlZF91bml0Jyk7XG5cbmNvbnN0IHR5cGUgPSAnYXJlYSc7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnYWNyZScsICdhY3JlJywgW1snbGVuZ3RoJywgJ20nXSwgWydsZW5ndGgnLCAnbSddXSwgW10sIDQwNDYuODYpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnaGVjdGFyZScsICdoYScsIFtbJ2xlbmd0aCcsICdtJ10sIFsnbGVuZ3RoJywgJ20nXV0sIFtdLCAxMDAwMCk7XG59OyIsImNvbnN0IERlcml2ZWRVbml0ID0gcmVxdWlyZSgnLi4vZGVyaXZlZF91bml0Jyk7XG5cbmNvbnN0IHR5cGUgPSAnY291bG9tYic7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnY291bG9tYicsICdDJywgW1snY3VycmVudCcsICdBJ10sIFsndGltZScsICdzJ11dLCBbXSk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdraWxvIGNvdWxvbWInLCAnS0MnLCBbXSwgW10sIDFlMywgJ0MnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ01lZ2EgY291bG9tYicsICdNQycsIFtdLCBbXSwgMWU2LCAnQycpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnR2lnYSBjb3Vsb21iJywgJ0dDJywgW10sIFtdLCAxZTksICdDJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWxsaSBjb3Vsb21iJywgJ21DJywgW10sIFtdLCAxZS0zLCAnQycpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWljcm8gY291bG9tYicsICfOvEMnLCBbXSwgW10sIDFlLTYsICdDJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICduYW5vIGNvdWxvbWInLCAnbkMnLCBbXSwgW10sIDFlLTksICdDJyk7XG59OyIsImNvbnN0IEJhc2VVbml0ID0gcmVxdWlyZSgnLi4vYmFzZV91bml0Jyk7XG5cbmNvbnN0IHR5cGUgPSAnY3VycmVudCc7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnQW1wZXJlJywgJ0EnLCAxKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ2NlbnRpIEFtcGVyZScsICdjQScsIDFlLTIsICdBJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdLaWxvIEFtcGVyZScsICdLQScsIDFlMywgJ0EnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ21pbGxpIEFtcGVyZScsICdtQScsIDFlLTMsICdBJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWNybyBBbXBlcmUnLCAnwrVBJywgMWUtNiwgJ0EnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ25hbm8gQW1wZXJlJywgJ25BJywgMWUtOSwgJ0EnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ3BpY28gQW1wZXJlJywgJ3BBJywgMWUtMTIsICdBJyk7XG59OyIsImNvbnN0IERlcml2ZWRVbml0ID0gcmVxdWlyZSgnLi4vZGVyaXZlZF91bml0Jyk7XG5cbmNvbnN0IHR5cGUgPSAnZW5lcmd5JztcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdqb3VsZScsICdKJywgW1snbWFzcycsICdLZyddLCBbJ2xlbmd0aCcsICdtJ10sIFsnbGVuZ3RoJywgJ20nXV0sIFtbJ3RpbWUnLCAncyddLCBbJ3RpbWUnLCAncyddXSk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdLaWxvIGpvdWxlJywgJ0tKJywgW10sIFtdLCAxZTMsICdKJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdNZWdhIGpvdWxlJywgJ01KJywgW10sIFtdLCAxZTYsICdKJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdHaWdhIGpvdWxlJywgJ0dKJywgW10sIFtdLCAxZTksICdKJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWxsaSBqb3VsZScsICdtSicsIFtdLCBbXSwgMWUtMywgJ0onKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pY3JvIGpvdWxlJywgJ868SicsIFtdLCBbXSwgMWUtNiwgJ0onKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ25hbm8gam91bGUnLCAnbkonLCBbXSwgW10sIDFlLTksICdKJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdmb290IHBvdW5kcycsICdmdC1sYicsIFtdLCBbXSwgMC43Mzc1NjIsICdKJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdlbGVjdHJvbiB2b2x0JywgJ2VWJywgW10sIFtdLCA4LjQ2MmUrMTgsICdmdC1sYicpO1xuXG59OyIsImNvbnN0IERlcml2ZWRVbml0ID0gcmVxdWlyZSgnLi4vZGVyaXZlZF91bml0Jyk7XG5cbmNvbnN0IHR5cGUgPSAnZmFyYWQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ2ZhcmFkJywgJ0YnLCBbWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWydjdXJyZW50JywgJ0EnXSwgWydjdXJyZW50JywgJ0EnXV0sIFtbJ21hc3MnLCAnS2cnXSwgWydsZW5ndGgnLCAnbSddLCBbJ2xlbmd0aCcsICdtJ11dKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0tpbG8gZmFyYWQnLCAnS0YnLCBbXSwgW10sIDFlMywgJ0YnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ01lZ2EgZmFyYWQnLCAnTUYnLCBbXSwgW10sIDFlNiwgJ0YnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0dpZ2EgZmFyYWQnLCAnR0YnLCBbXSwgW10sIDFlOSwgJ0YnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pbGxpIGZhcmFkJywgJ21GJywgW10sIFtdLCAxZS0zLCAnRicpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWljcm8gZmFyYWQnLCAnzrxGJywgW10sIFtdLCAxZS02LCAnRicpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbmFubyBmYXJhZCcsICduRicsIFtdLCBbXSwgMWUtOSwgJ0YnKTtcbn07IiwiY29uc3QgRGVyaXZlZFVuaXQgPSByZXF1aXJlKCcuLi9kZXJpdmVkX3VuaXQnKTtcblxuY29uc3QgdHlwZSA9ICdmb3JjZSc7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnTmV3dG9ucycsICdOJywgW1snbWFzcycsICdLZyddLCBbJ2xlbmd0aCcsICdtJ11dLCBbWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXV0pO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnS2lsbyBOZXd0b25zJywgJ0tOJywgW10sIFtdLCAxZTMsICdOJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdNZWdhIE5ld3RvbnMnLCAnTU4nLCBbXSwgW10sIDFlNiwgJ04nKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0dpZ2EgTmV3dG9ucycsICdHTicsIFtdLCBbXSwgMWU5LCAnTicpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWlsbGkgTmV3dG9ucycsICdtTicsIFtdLCBbXSwgMWUtMywgJ04nKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pY3JvIE5ld3RvbnMnLCAnzrxOJywgW10sIFtdLCAxZS02LCAnTicpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbmFubyBOZXd0b25zJywgJ25OJywgW10sIFtdLCAxZS05LCAnTicpO1xuXG59OyIsImNvbnN0IERlcml2ZWRVbml0ID0gcmVxdWlyZSgnLi4vZGVyaXZlZF91bml0Jyk7XG5cbmNvbnN0IHR5cGUgPSAnaGVucnknO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ2hlbnJ5JywgJ0gnLCBbWydtYXNzJywgJ0tnJ10sIFsnbGVuZ3RoJywgJ20nXSwgWydsZW5ndGgnLCAnbSddXSwgW1sndGltZScsICdzJ10sIFsndGltZScsICdzJ10sIFsnY3VycmVudCcsICdBJ10sIFsnY3VycmVudCcsICdBJ11dKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0tpbG8gaGVucnknLCAnS0gnLCBbXSwgW10sIDFlMywgJ0gnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ01lZ2EgaGVucnknLCAnTUgnLCBbXSwgW10sIDFlNiwgJ0gnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0dpZ2EgaGVucnknLCAnR0gnLCBbXSwgW10sIDFlOSwgJ0gnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pbGxpIGhlbnJ5JywgJ21IJywgW10sIFtdLCAxZS0zLCAnSCcpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWljcm8gaGVucnknLCAnzrxIJywgW10sIFtdLCAxZS02LCAnSCcpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbmFubyBoZW5yeScsICduSCcsIFtdLCBbXSwgMWUtOSwgJ0gnKTtcbn07IiwiY29uc3QgRGVyaXZlZFVuaXQgPSByZXF1aXJlKCcuLi9kZXJpdmVkX3VuaXQnKTtcblxuY29uc3QgdHlwZSA9ICdoZXJ0eic7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnaGVydHonLCAnSHonLCBbXSwgW1sndGltZScsICdzJ11dKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0tpbG8gaGVydHonLCAnS0h6JywgW10sIFtdLCAxZTMsICdIeicpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnTWVnYSBoZXJ0eicsICdNSHonLCBbXSwgW10sIDFlNiwgJ0h6Jyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdHaWdhIGhlcnR6JywgJ0dIeicsIFtdLCBbXSwgMWU5LCAnSHonKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pbGxpIGhlcnR6JywgJ21IeicsIFtdLCBbXSwgMWUtMywgJ0h6Jyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWNybyBoZXJ0eicsICfOvEh6JywgW10sIFtdLCAxZS02LCAnSHonKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ25hbm8gaGVydHonLCAnbkh6JywgW10sIFtdLCAxZS05LCAnSHonKTtcbn07IiwiY29uc3QgbGVuZ3RoID0gcmVxdWlyZSgnLi9sZW5ndGgnKTtcbmNvbnN0IG1hc3MgPSByZXF1aXJlKCcuL21hc3MnKTtcbmNvbnN0IHRpbWUgPSByZXF1aXJlKCcuL3RpbWUnKTtcbmNvbnN0IGFuZ2xlID0gcmVxdWlyZSgnLi9hbmdsZScpO1xuY29uc3QgY3VycmVudCA9IHJlcXVpcmUoJy4vY3VycmVudCcpO1xuY29uc3QgdGVtcCA9IHJlcXVpcmUoJy4vdGVtcCcpO1xuY29uc3QgbWF0dGVyID0gcmVxdWlyZSgnLi9tYXR0ZXInKTtcbmNvbnN0IGludGVuc2l0eSA9IHJlcXVpcmUoJy4vaW50ZW5zaXR5Jyk7XG5jb25zdCBzdG9yYWdlID0gcmVxdWlyZSgnLi9zdG9yYWdlJyk7XG5jb25zdCBlbmVyZ3kgPSByZXF1aXJlKCcuL2VuZXJneScpO1xuY29uc3QgcHJlc3N1cmUgPSByZXF1aXJlKCcuL3ByZXNzdXJlJyk7XG5jb25zdCBmb3JjZSA9IHJlcXVpcmUoJy4vZm9yY2UnKTtcbmNvbnN0IGhlcnR6ID0gcmVxdWlyZSgnLi9oZXJ0eicpO1xuY29uc3Qgd2F0dCA9IHJlcXVpcmUoJy4vd2F0dCcpO1xuY29uc3QgY291bG9tYiA9IHJlcXVpcmUoJy4vY291bG9tYicpO1xuY29uc3Qgdm9sdCA9IHJlcXVpcmUoJy4vdm9sdCcpO1xuY29uc3QgZmFyYWQgPSByZXF1aXJlKCcuL2ZhcmFkJyk7XG5jb25zdCBvaG0gPSByZXF1aXJlKCcuL29obScpO1xuY29uc3Qgc2llbWVucyA9IHJlcXVpcmUoJy4vc2llbWVucycpO1xuY29uc3Qgd2ViZXIgPSByZXF1aXJlKCcuL3dlYmVyJyk7XG5jb25zdCB0ZXNsYSA9IHJlcXVpcmUoJy4vdGVzbGEnKTtcbmNvbnN0IGhlbnJ5ID0gcmVxdWlyZSgnLi9oZW5yeScpO1xuY29uc3QgbHV4ID0gcmVxdWlyZSgnLi9sdXgnKTtcbmNvbnN0IHZvbHVtZSA9IHJlcXVpcmUoJy4vdm9sdW1lJyk7XG5jb25zdCBhcmVhID0gcmVxdWlyZSgnLi9hcmVhJyk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIGxlbmd0aCgpO1xuICBtYXNzKCk7XG4gIHRpbWUoKTtcbiAgYW5nbGUoKTtcbiAgY3VycmVudCgpO1xuICB0ZW1wKCk7XG4gIG1hdHRlcigpO1xuICBpbnRlbnNpdHkoKTtcbiAgc3RvcmFnZSgpO1xuICBlbmVyZ3koKTtcbiAgcHJlc3N1cmUoKTtcbiAgZm9yY2UoKTtcbiAgaGVydHooKTtcbiAgd2F0dCgpO1xuICBjb3Vsb21iKCk7XG4gIHZvbHQoKTtcbiAgZmFyYWQoKTtcbiAgb2htKCk7XG4gIHNpZW1lbnMoKTtcbiAgd2ViZXIoKTtcbiAgdGVzbGEoKTtcbiAgaGVucnkoKTtcbiAgbHV4KCk7XG4gIHZvbHVtZSgpO1xuICBhcmVhKCk7XG59O1xuIiwiY29uc3QgQmFzZVVuaXQgPSByZXF1aXJlKCcuLi9iYXNlX3VuaXQnKTtcblxuY29uc3QgdHlwZSA9ICdpbnRlbnNpdHknO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ2NhbmRlbGEnLCAnY2QnLCAxKTtcbn07IiwiY29uc3QgQmFzZVVuaXQgPSByZXF1aXJlKCcuLi9iYXNlX3VuaXQnKTtcblxuY29uc3QgdHlwZSA9ICdsZW5ndGgnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ21ldGVyJywgJ20nLCAxKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ2NlbnRpIG1ldGVyJywgJ2NtJywgMWUtMiwgJ20nKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ0tpbG8gbWV0ZXInLCAnS20nLCAxZTMsICdtJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWxsaSBtZXRlcicsICdtbScsIDFlLTMsICdtJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWNybyBtZXRlcicsICfCtW0nLCAxZS02LCAnbScpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnbmFubyBtZXRlcicsICdubScsIDFlLTksICdtJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdwaWNvIG1ldGVyJywgJ3BtJywgMWUtMTIsICdtJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdmZWV0JywgJ2Z0JywgMC4zMDQ4LCAnbScpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAneWFyZCcsICd5ZCcsIDMuMDAwLCAnZnQnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ21pbGUnLCAnbWknLCAxNzYwLCAneWQnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ2luY2gnLCAnaW4nLCAxLjU3ODNlLTUsICdtaScpO1xufTsiLCJjb25zdCBEZXJpdmVkVW5pdCA9IHJlcXVpcmUoJy4uL2Rlcml2ZWRfdW5pdCcpO1xuXG5jb25zdCB0eXBlID0gJ2x1eCc7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbHV4JywgJ2x4JywgW1snaW50ZW5zaXR5JywgJ2NkJ11dLCBbWydsZW5ndGgnLCAnbSddLCBbJ2xlbmd0aCcsICdtJ11dKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0tpbG8gbHV4JywgJ0tseCcsIFtdLCBbXSwgMWUzLCAnbHgnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ01lZ2EgbHV4JywgJ01seCcsIFtdLCBbXSwgMWU2LCAnbHgnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0dpZ2EgbHV4JywgJ0dseCcsIFtdLCBbXSwgMWU5LCAnbHgnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pbGxpIGx1eCcsICdtbHgnLCBbXSwgW10sIDFlLTMsICdseCcpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWljcm8gbHV4JywgJ868bHgnLCBbXSwgW10sIDFlLTYsICdseCcpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbmFubyBsdXgnLCAnbmx4JywgW10sIFtdLCAxZS05LCAnbHgnKTtcbn07IiwiY29uc3QgQmFzZVVuaXQgPSByZXF1aXJlKCcuLi9iYXNlX3VuaXQnKTtcblxuY29uc3QgdHlwZSA9ICdtYXNzJztcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdncmFtcycsICdnJywgMSk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdkZWNpIGdyYW1zJywgJ2RnJywgMWUtMSwgJ2cnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ2NlbnRpIGdyYW1zJywgJ2NnJywgMWUtMiwgJ2cnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ2tpbG8gZ3JhbXMnLCAnS2cnLCAxZTMsICdnJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWxsaSBncmFtcycsICdtZycsIDFlLTMsICdnJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICduYW5vIGdyYW1zJywgJ25nJywgMWUtOSwgJ2cnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ3BpY28gZ3JhbXMnLCAncGcnLCAxZS0xMiwgJ2cnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ3BvdW5kcycsICdsYicsIDQ1My41OTIzNywgJ2cnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ291bmNlcycsICdveicsIDAuMDYyNSwgJ2xiJyk7XG59OyIsImNvbnN0IEJhc2VVbml0ID0gcmVxdWlyZSgnLi4vYmFzZV91bml0Jyk7XG5cbmNvbnN0IHR5cGUgPSAnbWF0dGVyJztcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdhdG9tcycsICdhdG9tJywgMSk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdtb2xlcycsICdtb2wnLCA2LjAyMjE0MDg1N2UyMywgJ2F0b20nKTtcbn07IiwiY29uc3QgRGVyaXZlZFVuaXQgPSByZXF1aXJlKCcuLi9kZXJpdmVkX3VuaXQnKTtcblxuY29uc3QgdHlwZSA9ICdvaG0nO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ29obScsICfOqScsIFtbJ21hc3MnLCAnS2cnXSwgWydsZW5ndGgnLCAnbSddLCBbJ2xlbmd0aCcsICdtJ11dLCBbWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWydjdXJyZW50JywgJ0EnXSwgWydjdXJyZW50JywgJ0EnXV0pO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnS2lsbyBvaG0nLCAnS86pJywgW10sIFtdLCAxZTMsICfOqScpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnTWVnYSBvaG0nLCAnTc6pJywgW10sIFtdLCAxZTYsICfOqScpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnR2lnYSBvaG0nLCAnR86pJywgW10sIFtdLCAxZTksICfOqScpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWlsbGkgb2htJywgJ23OqScsIFtdLCBbXSwgMWUtMywgJ86pJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWNybyBvaG0nLCAnzrzOqScsIFtdLCBbXSwgMWUtNiwgJ86pJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICduYW5vIG9obScsICduzqknLCBbXSwgW10sIDFlLTksICfOqScpO1xufTsiLCJjb25zdCBEZXJpdmVkVW5pdCA9IHJlcXVpcmUoJy4uL2Rlcml2ZWRfdW5pdCcpO1xuXG5jb25zdCB0eXBlID0gJ3ByZXNzdXJlJztcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdwYXNjYWwnLCAnUGEnLCBbWydtYXNzJywgJ0tnJ11dLCBbWydsZW5ndGgnLCAnbSddLCBbJ3RpbWUnLCAncyddLCBbJ3RpbWUnLCAncyddXSk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdLaWxvIHBhc2NhbCcsICdLUGEnLCBbXSwgW10sIDFlMywgJ1BhJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdiYXInLCAnYmFyJywgW10sIFtdLCAxZTUsICdQYScpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnTWVnYSBwYXNjYWwnLCAnTVBhJywgW10sIFtdLCAxZTYsICdQYScpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnR2lnYSBwYXNjYWwnLCAnR1BhJywgW10sIFtdLCAxZTksICdQYScpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWlsbGkgcGFzY2FsJywgJ21QYScsIFtdLCBbXSwgMWUtMywgJ1BhJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWNybyBwYXNjYWwnLCAnzrxQYScsIFtdLCBbXSwgMWUtNiwgJ1BhJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICduYW5vIHBhc2NhbCcsICduUGEnLCBbXSwgW10sIDFlLTksICdQYScpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnYXRtb3NwaGVyZScsICdhdG0nLCBbXSwgW10sIDEwMTMyNSwgJ1BhJyk7XG5cbn07IiwiY29uc3QgRGVyaXZlZFVuaXQgPSByZXF1aXJlKCcuLi9kZXJpdmVkX3VuaXQnKTtcblxuY29uc3QgdHlwZSA9ICdzaWVtZW5zJztcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdzaWVtZW5zJywgJ1MnLCBbWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWydjdXJyZW50JywgJ0EnXSwgWydjdXJyZW50JywgJ0EnXV0sIFtbJ21hc3MnLCAnS2cnXSwgWydsZW5ndGgnLCAnbSddLCBbJ2xlbmd0aCcsICdtJ11dKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0tpbG8gc2llbWVucycsICdLUycsIFtdLCBbXSwgMWUzLCAnUycpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnTWVnYSBzaWVtZW5zJywgJ01TJywgW10sIFtdLCAxZTYsICdTJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdHaWdhIHNpZW1lbnMnLCAnR1MnLCBbXSwgW10sIDFlOSwgJ1MnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pbGxpIHNpZW1lbnMnLCAnbVMnLCBbXSwgW10sIDFlLTMsICdTJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWNybyBzaWVtZW5zJywgJ868UycsIFtdLCBbXSwgMWUtNiwgJ1MnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ25hbm8gc2llbWVucycsICduUycsIFtdLCBbXSwgMWUtOSwgJ1MnKTtcbn07XG5cbiIsImNvbnN0IEJhc2VVbml0ID0gcmVxdWlyZSgnLi4vYmFzZV91bml0Jyk7XG5cbmNvbnN0IHR5cGUgPSAnc3RvcmFnZSc7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnYml0JywgJ2JpdCcsIDEpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnYnl0ZScsICdieXRlJywgMC4xMjUsICdiaXQnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ0tpbG8gYnl0ZScsICdLYnl0ZScsIDFlMywgJ2J5dGUnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ01lZ2EgYnl0ZScsICdNYnl0ZScsIDFlNiwgJ2J5dGUnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ0dpZ2EgYnl0ZScsICdHYnl0ZScsIDFlOSwgJ2J5dGUnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ1RlcmEgYnl0ZScsICdUYnl0ZScsIDFlMTIsICdieXRlJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdQZXRhIGJ5dGUnLCAnUG0nLCAxZTE1LCAnYnl0ZScpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnRXhhIGJ5dGUnLCAnRWJ5dGUnLCAxZTE4LCAnYnl0ZScpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnWmV0dGEgYnl0ZScsICdaYnl0ZScsIDFlMjEsICdieXRlJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdZb3R0YSBieXRlJywgJ1lieXRlJywgMWUyNCwgJ2J5dGUnKTtcbn07IiwiY29uc3QgQmFzZVVuaXQgPSByZXF1aXJlKCcuLi9iYXNlX3VuaXQnKTtcblxuY29uc3QgdHlwZSA9ICd0ZW1wJztcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdLZWx2aW4nLCAnSycsIDEpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnQ2Vsc2l1cycsICfCsEMnLCAxLCAnSycpOyAvLyBUT0RPXG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdGYWhyZW5oZWl0ICcsICfCsEYnLCA5IC8gNSwgJ8KwQycpO1xuXG59OyIsImNvbnN0IERlcml2ZWRVbml0ID0gcmVxdWlyZSgnLi4vZGVyaXZlZF91bml0Jyk7XG5cbmNvbnN0IHR5cGUgPSAndGVsc2EnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ3RlbHNhJywgJ1QnLCBbWydtYXNzJywgJ0tnJ11dLCBbWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWydjdXJyZW50JywgJ0EnXV0pO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnS2lsbyB0ZWxzYScsICdLVCcsIFtdLCBbXSwgMWUzLCAnVCcpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnTWVnYSB0ZWxzYScsICdNVCcsIFtdLCBbXSwgMWU2LCAnVCcpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnR2lnYSB0ZWxzYScsICdHVCcsIFtdLCBbXSwgMWU5LCAnVCcpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWlsbGkgdGVsc2EnLCAnbVQnLCBbXSwgW10sIDFlLTMsICdUJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWNybyB0ZWxzYScsICfOvFQnLCBbXSwgW10sIDFlLTYsICdUJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICduYW5vIHRlbHNhJywgJ25UJywgW10sIFtdLCAxZS05LCAnVCcpO1xufTsiLCJjb25zdCBCYXNlVW5pdCA9IHJlcXVpcmUoJy4uL2Jhc2VfdW5pdCcpO1xuXG5jb25zdCB0eXBlID0gJ3RpbWUnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ3NlY29uZHMnLCAncycsIDEpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnZGVjaSBzZWNvbmRzJywgJ2RzJywgMWUtMSwgJ3MnKTtcbiAgQmFzZVVuaXQucmVnaXN0ZXIodHlwZSwgJ2NlbnRpIHNlY29uZHMnLCAnY3MnLCAxZS0yLCAncycpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnS2lsbyBzZWNvbmRzJywgJ0tzJywgMWUzLCAncycpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWlsbGkgc2Vjb25kcycsICdtcycsIDFlLTMsICdzJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdtaWNybyBzZWNvbmRzJywgJ8K1cycsIDFlLTYsICdzJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICduYW5vIHNlY29uZHMnLCAnbnMnLCAxZS05LCAncycpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAncGljbyBzZWNvbmRzJywgJ3BzJywgMWUtMTIsICdzJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdtaW51dGVzJywgJ21pbicsIDYwLCAncycpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnaG91cnMnLCAnaHInLCA2MCwgJ21pbicpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnZGF5cycsICdkJywgMjQsICdocicpO1xuICBCYXNlVW5pdC5yZWdpc3Rlcih0eXBlLCAnd2Vla3MnLCAndycsIDcsICdkJyk7XG4gIEJhc2VVbml0LnJlZ2lzdGVyKHR5cGUsICdtb250aCcsICdtb24nLCA0LCAndycpO1xufTsiLCJjb25zdCBEZXJpdmVkVW5pdCA9IHJlcXVpcmUoJy4uL2Rlcml2ZWRfdW5pdCcpO1xuXG5jb25zdCB0eXBlID0gJ3ZvbHQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ3ZvbHQnLCAnVicsIFtbJ21hc3MnLCAnS2cnXSwgWydsZW5ndGgnLCAnbSddLCBbJ2xlbmd0aCcsICdtJ11dLCBbWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWydjdXJyZW50JywgJ0EnXV0pO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnS2lsbyB2b2x0JywgJ0tWJywgW10sIFtdLCAxZTMsICdWJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdNZWdhIHZvbHQnLCAnTVYnLCBbXSwgW10sIDFlNiwgJ1YnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0dpZ2Egdm9sdCcsICdHVicsIFtdLCBbXSwgMWU5LCAnVicpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWlsbGkgdm9sdCcsICdtVicsIFtdLCBbXSwgMWUtMywgJ1YnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pY3JvIHZvbHQnLCAnzrxWJywgW10sIFtdLCAxZS02LCAnVicpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbmFubyB2b2x0JywgJ25WJywgW10sIFtdLCAxZS05LCAnVicpO1xufTsiLCJjb25zdCBEZXJpdmVkVW5pdCA9IHJlcXVpcmUoJy4uL2Rlcml2ZWRfdW5pdCcpO1xuXG5jb25zdCB0eXBlID0gJ3ZvbHVtZSc7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbGl0ZXJzJywgJ0wnLCBbWydsZW5ndGgnLCAnbSddLCBbJ2xlbmd0aCcsICdtJ10sIFsnbGVuZ3RoJywgJ20nXV0sIFtdKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0tpbG8gbGl0ZXJzJywgJ0tMJywgW10sIFtdLCAxZTMsICdMJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdNZWdhIGxpdGVycycsICdNTCcsIFtdLCBbXSwgMWU2LCAnTCcpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnR2lnYSBsaXRlcnMnLCAnR0wnLCBbXSwgW10sIDFlOSwgJ0wnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pbGxpIGxpdGVycycsICdtTCcsIFtdLCBbXSwgMWUtMywgJ0wnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pY3JvIGxpdGVycycsICfOvEwnLCBbXSwgW10sIDFlLTYsICdMJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICduYW5vIGxpdGVycycsICduTCcsIFtdLCBbXSwgMWUtOSwgJ0wnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ1VTIGdhbGxvbicsICdVUyBnYWxsb24nLCBbXSwgW10sIDAuMjY0MTcyLCAnTCcpO1xufTsiLCJjb25zdCBEZXJpdmVkVW5pdCA9IHJlcXVpcmUoJy4uL2Rlcml2ZWRfdW5pdCcpO1xuXG5jb25zdCB0eXBlID0gJ3dhdHQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ3dhdHQnLCAnVycsIFtbJ21hc3MnLCAnS2cnXSwgWydsZW5ndGgnLCAnbSddLCBbJ2xlbmd0aCcsICdtJ11dLCBbWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXV0pO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnS2lsbyB3YXR0JywgJ0tXJywgW10sIFtdLCAxZTMsICdXJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdNZWdhIHdhdHQnLCAnTVcnLCBbXSwgW10sIDFlNiwgJ1cnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0dpZ2Egd2F0dCcsICdHVycsIFtdLCBbXSwgMWU5LCAnVycpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWlsbGkgd2F0dCcsICdtVycsIFtdLCBbXSwgMWUtMywgJ1cnKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pY3JvIHdhdHQnLCAnzrxXJywgW10sIFtdLCAxZS02LCAnVycpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbmFubyB3YXR0JywgJ25XJywgW10sIFtdLCAxZS05LCAnVycpO1xufTsiLCJjb25zdCBEZXJpdmVkVW5pdCA9IHJlcXVpcmUoJy4uL2Rlcml2ZWRfdW5pdCcpO1xuXG5jb25zdCB0eXBlID0gJ3dlYmVyJztcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICd3ZWJlcicsICdXYicsIFtbJ21hc3MnLCAnS2cnXSwgWydsZW5ndGgnLCAnbSddLCBbJ2xlbmd0aCcsICdtJ11dLCBbWyd0aW1lJywgJ3MnXSwgWyd0aW1lJywgJ3MnXSwgWydjdXJyZW50JywgJ0EnXV0pO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnS2lsbyB3ZWJlcicsICdLV2InLCBbXSwgW10sIDFlMywgJ1diJyk7XG4gIERlcml2ZWRVbml0LnJlZ2lzdGVyKHR5cGUsICdNZWdhIHdlYmVyJywgJ01XYicsIFtdLCBbXSwgMWU2LCAnV2InKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ0dpZ2Egd2ViZXInLCAnR1diJywgW10sIFtdLCAxZTksICdXYicpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbWlsbGkgd2ViZXInLCAnbVdiJywgW10sIFtdLCAxZS0zLCAnV2InKTtcbiAgRGVyaXZlZFVuaXQucmVnaXN0ZXIodHlwZSwgJ21pY3JvIHdlYmVyJywgJ868V2InLCBbXSwgW10sIDFlLTYsICdXYicpO1xuICBEZXJpdmVkVW5pdC5yZWdpc3Rlcih0eXBlLCAnbmFubyB3ZWJlcicsICduV2InLCBbXSwgW10sIDFlLTksICdXYicpO1xufTsiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyohXG4gKiBAb3ZlcnZpZXcgUlNWUCAtIGEgdGlueSBpbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlcy9BKy5cbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE2IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiAgICAgICAgICAgIFNlZSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vdGlsZGVpby9yc3ZwLmpzL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIDMuMy4zXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuICAoZmFjdG9yeSgoZ2xvYmFsLlJTVlAgPSBnbG9iYWwuUlNWUCB8fCB7fSkpKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gaW5kZXhPZihjYWxsYmFja3MsIGNhbGxiYWNrKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChjYWxsYmFja3NbaV0gPT09IGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGNhbGxiYWNrc0ZvcihvYmplY3QpIHtcbiAgdmFyIGNhbGxiYWNrcyA9IG9iamVjdC5fcHJvbWlzZUNhbGxiYWNrcztcblxuICBpZiAoIWNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IG9iamVjdC5fcHJvbWlzZUNhbGxiYWNrcyA9IHt9O1xuICB9XG5cbiAgcmV0dXJuIGNhbGxiYWNrcztcbn1cblxuLyoqXG4gIEBjbGFzcyBSU1ZQLkV2ZW50VGFyZ2V0XG4qL1xudmFyIEV2ZW50VGFyZ2V0ID0ge1xuXG4gIC8qKlxuICAgIGBSU1ZQLkV2ZW50VGFyZ2V0Lm1peGluYCBleHRlbmRzIGFuIG9iamVjdCB3aXRoIEV2ZW50VGFyZ2V0IG1ldGhvZHMuIEZvclxuICAgIEV4YW1wbGU6XG4gICAgIGBgYGphdmFzY3JpcHRcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgIFJTVlAuRXZlbnRUYXJnZXQubWl4aW4ob2JqZWN0KTtcbiAgICAgb2JqZWN0Lm9uKCdmaW5pc2hlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAvLyBoYW5kbGUgZXZlbnRcbiAgICB9KTtcbiAgICAgb2JqZWN0LnRyaWdnZXIoJ2ZpbmlzaGVkJywgeyBkZXRhaWw6IHZhbHVlIH0pO1xuICAgIGBgYFxuICAgICBgRXZlbnRUYXJnZXQubWl4aW5gIGFsc28gd29ya3Mgd2l0aCBwcm90b3R5cGVzOlxuICAgICBgYGBqYXZhc2NyaXB0XG4gICAgbGV0IFBlcnNvbiA9IGZ1bmN0aW9uKCkge307XG4gICAgUlNWUC5FdmVudFRhcmdldC5taXhpbihQZXJzb24ucHJvdG90eXBlKTtcbiAgICAgbGV0IHllaHVkYSA9IG5ldyBQZXJzb24oKTtcbiAgICBsZXQgdG9tID0gbmV3IFBlcnNvbigpO1xuICAgICB5ZWh1ZGEub24oJ3Bva2UnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgY29uc29sZS5sb2coJ1llaHVkYSBzYXlzIE9XJyk7XG4gICAgfSk7XG4gICAgIHRvbS5vbigncG9rZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBjb25zb2xlLmxvZygnVG9tIHNheXMgT1cnKTtcbiAgICB9KTtcbiAgICAgeWVodWRhLnRyaWdnZXIoJ3Bva2UnKTtcbiAgICB0b20udHJpZ2dlcigncG9rZScpO1xuICAgIGBgYFxuICAgICBAbWV0aG9kIG1peGluXG4gICAgQGZvciBSU1ZQLkV2ZW50VGFyZ2V0XG4gICAgQHByaXZhdGVcbiAgICBAcGFyYW0ge09iamVjdH0gb2JqZWN0IG9iamVjdCB0byBleHRlbmQgd2l0aCBFdmVudFRhcmdldCBtZXRob2RzXG4gICovXG4gIG1peGluOiBmdW5jdGlvbiBtaXhpbihvYmplY3QpIHtcbiAgICBvYmplY3RbJ29uJ10gPSB0aGlzWydvbiddO1xuICAgIG9iamVjdFsnb2ZmJ10gPSB0aGlzWydvZmYnXTtcbiAgICBvYmplY3RbJ3RyaWdnZXInXSA9IHRoaXNbJ3RyaWdnZXInXTtcbiAgICBvYmplY3QuX3Byb21pc2VDYWxsYmFja3MgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSxcblxuICAvKipcbiAgICBSZWdpc3RlcnMgYSBjYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuIGBldmVudE5hbWVgIGlzIHRyaWdnZXJlZFxuICAgICBgYGBqYXZhc2NyaXB0XG4gICAgb2JqZWN0Lm9uKCdldmVudCcsIGZ1bmN0aW9uKGV2ZW50SW5mbyl7XG4gICAgICAvLyBoYW5kbGUgdGhlIGV2ZW50XG4gICAgfSk7XG4gICAgIG9iamVjdC50cmlnZ2VyKCdldmVudCcpO1xuICAgIGBgYFxuICAgICBAbWV0aG9kIG9uXG4gICAgQGZvciBSU1ZQLkV2ZW50VGFyZ2V0XG4gICAgQHByaXZhdGVcbiAgICBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGxpc3RlbiBmb3JcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAqL1xuICBvbjogZnVuY3Rpb24gb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHZhciBhbGxDYWxsYmFja3MgPSBjYWxsYmFja3NGb3IodGhpcyksXG4gICAgICAgIGNhbGxiYWNrcyA9IHVuZGVmaW5lZDtcblxuICAgIGNhbGxiYWNrcyA9IGFsbENhbGxiYWNrc1tldmVudE5hbWVdO1xuXG4gICAgaWYgKCFjYWxsYmFja3MpIHtcbiAgICAgIGNhbGxiYWNrcyA9IGFsbENhbGxiYWNrc1tldmVudE5hbWVdID0gW107XG4gICAgfVxuXG4gICAgaWYgKGluZGV4T2YoY2FsbGJhY2tzLCBjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgIFlvdSBjYW4gdXNlIGBvZmZgIHRvIHN0b3AgZmlyaW5nIGEgcGFydGljdWxhciBjYWxsYmFjayBmb3IgYW4gZXZlbnQ6XG4gICAgIGBgYGphdmFzY3JpcHRcbiAgICBmdW5jdGlvbiBkb1N0dWZmKCkgeyAvLyBkbyBzdHVmZiEgfVxuICAgIG9iamVjdC5vbignc3R1ZmYnLCBkb1N0dWZmKTtcbiAgICAgb2JqZWN0LnRyaWdnZXIoJ3N0dWZmJyk7IC8vIGRvU3R1ZmYgd2lsbCBiZSBjYWxsZWRcbiAgICAgLy8gVW5yZWdpc3RlciBPTkxZIHRoZSBkb1N0dWZmIGNhbGxiYWNrXG4gICAgb2JqZWN0Lm9mZignc3R1ZmYnLCBkb1N0dWZmKTtcbiAgICBvYmplY3QudHJpZ2dlcignc3R1ZmYnKTsgLy8gZG9TdHVmZiB3aWxsIE5PVCBiZSBjYWxsZWRcbiAgICBgYGBcbiAgICAgSWYgeW91IGRvbid0IHBhc3MgYSBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGBvZmZgLCBBTEwgY2FsbGJhY2tzIGZvciB0aGVcbiAgICBldmVudCB3aWxsIG5vdCBiZSBleGVjdXRlZCB3aGVuIHRoZSBldmVudCBmaXJlcy4gRm9yIGV4YW1wbGU6XG4gICAgIGBgYGphdmFzY3JpcHRcbiAgICBsZXQgY2FsbGJhY2sxID0gZnVuY3Rpb24oKXt9O1xuICAgIGxldCBjYWxsYmFjazIgPSBmdW5jdGlvbigpe307XG4gICAgIG9iamVjdC5vbignc3R1ZmYnLCBjYWxsYmFjazEpO1xuICAgIG9iamVjdC5vbignc3R1ZmYnLCBjYWxsYmFjazIpO1xuICAgICBvYmplY3QudHJpZ2dlcignc3R1ZmYnKTsgLy8gY2FsbGJhY2sxIGFuZCBjYWxsYmFjazIgd2lsbCBiZSBleGVjdXRlZC5cbiAgICAgb2JqZWN0Lm9mZignc3R1ZmYnKTtcbiAgICBvYmplY3QudHJpZ2dlcignc3R1ZmYnKTsgLy8gY2FsbGJhY2sxIGFuZCBjYWxsYmFjazIgd2lsbCBub3QgYmUgZXhlY3V0ZWQhXG4gICAgYGBgXG4gICAgIEBtZXRob2Qgb2ZmXG4gICAgQGZvciBSU1ZQLkV2ZW50VGFyZ2V0XG4gICAgQHByaXZhdGVcbiAgICBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIGV2ZW50IHRvIHN0b3AgbGlzdGVuaW5nIHRvXG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgb3B0aW9uYWwgYXJndW1lbnQuIElmIGdpdmVuLCBvbmx5IHRoZSBmdW5jdGlvblxuICAgIGdpdmVuIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBldmVudCdzIGNhbGxiYWNrIHF1ZXVlLiBJZiBubyBgY2FsbGJhY2tgXG4gICAgYXJndW1lbnQgaXMgZ2l2ZW4sIGFsbCBjYWxsYmFja3Mgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGV2ZW50J3MgY2FsbGJhY2tcbiAgICBxdWV1ZS5cbiAgKi9cbiAgb2ZmOiBmdW5jdGlvbiBvZmYoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBhbGxDYWxsYmFja3MgPSBjYWxsYmFja3NGb3IodGhpcyksXG4gICAgICAgIGNhbGxiYWNrcyA9IHVuZGVmaW5lZCxcbiAgICAgICAgaW5kZXggPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICBhbGxDYWxsYmFja3NbZXZlbnROYW1lXSA9IFtdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbGxiYWNrcyA9IGFsbENhbGxiYWNrc1tldmVudE5hbWVdO1xuXG4gICAgaW5kZXggPSBpbmRleE9mKGNhbGxiYWNrcywgY2FsbGJhY2spO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgIFVzZSBgdHJpZ2dlcmAgdG8gZmlyZSBjdXN0b20gZXZlbnRzLiBGb3IgZXhhbXBsZTpcbiAgICAgYGBgamF2YXNjcmlwdFxuICAgIG9iamVjdC5vbignZm9vJywgZnVuY3Rpb24oKXtcbiAgICAgIGNvbnNvbGUubG9nKCdmb28gZXZlbnQgaGFwcGVuZWQhJyk7XG4gICAgfSk7XG4gICAgb2JqZWN0LnRyaWdnZXIoJ2ZvbycpO1xuICAgIC8vICdmb28gZXZlbnQgaGFwcGVuZWQhJyBsb2dnZWQgdG8gdGhlIGNvbnNvbGVcbiAgICBgYGBcbiAgICAgWW91IGNhbiBhbHNvIHBhc3MgYSB2YWx1ZSBhcyBhIHNlY29uZCBhcmd1bWVudCB0byBgdHJpZ2dlcmAgdGhhdCB3aWxsIGJlXG4gICAgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIGFsbCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBldmVudDpcbiAgICAgYGBgamF2YXNjcmlwdFxuICAgIG9iamVjdC5vbignZm9vJywgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgY29uc29sZS5sb2codmFsdWUubmFtZSk7XG4gICAgfSk7XG4gICAgIG9iamVjdC50cmlnZ2VyKCdmb28nLCB7IG5hbWU6ICdiYXInIH0pO1xuICAgIC8vICdiYXInIGxvZ2dlZCB0byB0aGUgY29uc29sZVxuICAgIGBgYFxuICAgICBAbWV0aG9kIHRyaWdnZXJcbiAgICBAZm9yIFJTVlAuRXZlbnRUYXJnZXRcbiAgICBAcHJpdmF0ZVxuICAgIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gYmUgdHJpZ2dlcmVkXG4gICAgQHBhcmFtIHsqfSBvcHRpb25zIG9wdGlvbmFsIHZhbHVlIHRvIGJlIHBhc3NlZCB0byBhbnkgZXZlbnQgaGFuZGxlcnMgZm9yXG4gICAgdGhlIGdpdmVuIGBldmVudE5hbWVgXG4gICovXG4gIHRyaWdnZXI6IGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnROYW1lLCBvcHRpb25zLCBsYWJlbCkge1xuICAgIHZhciBhbGxDYWxsYmFja3MgPSBjYWxsYmFja3NGb3IodGhpcyksXG4gICAgICAgIGNhbGxiYWNrcyA9IHVuZGVmaW5lZCxcbiAgICAgICAgY2FsbGJhY2sgPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoY2FsbGJhY2tzID0gYWxsQ2FsbGJhY2tzW2V2ZW50TmFtZV0pIHtcbiAgICAgIC8vIERvbid0IGNhY2hlIHRoZSBjYWxsYmFja3MubGVuZ3RoIHNpbmNlIGl0IG1heSBncm93XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXTtcblxuICAgICAgICBjYWxsYmFjayhvcHRpb25zLCBsYWJlbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG52YXIgY29uZmlnID0ge1xuICBpbnN0cnVtZW50OiBmYWxzZVxufTtcblxuRXZlbnRUYXJnZXRbJ21peGluJ10oY29uZmlnKTtcblxuZnVuY3Rpb24gY29uZmlndXJlKG5hbWUsIHZhbHVlKSB7XG4gIGlmIChuYW1lID09PSAnb25lcnJvcicpIHtcbiAgICAvLyBoYW5kbGUgZm9yIGxlZ2FjeSB1c2VycyB0aGF0IGV4cGVjdCB0aGUgYWN0dWFsXG4gICAgLy8gZXJyb3IgdG8gYmUgcGFzc2VkIHRvIHRoZWlyIGZ1bmN0aW9uIGFkZGVkIHZpYVxuICAgIC8vIGBSU1ZQLmNvbmZpZ3VyZSgnb25lcnJvcicsIHNvbWVGdW5jdGlvbkhlcmUpO2BcbiAgICBjb25maWdbJ29uJ10oJ2Vycm9yJywgdmFsdWUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgY29uZmlnW25hbWVdID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbmZpZ1tuYW1lXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc01heWJlVGhlbmFibGUoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGw7XG59XG5cbnZhciBfaXNBcnJheSA9IHVuZGVmaW5lZDtcbmlmICghQXJyYXkuaXNBcnJheSkge1xuICBfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcbn0gZWxzZSB7XG4gIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbn1cblxudmFyIGlzQXJyYXkgPSBfaXNBcnJheTtcblxuLy8gRGF0ZS5ub3cgaXMgbm90IGF2YWlsYWJsZSBpbiBicm93c2VycyA8IElFOVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZS9ub3cjQ29tcGF0aWJpbGl0eVxudmFyIG5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufTtcblxuZnVuY3Rpb24gRigpIHt9XG5cbnZhciBvX2NyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gKG8pIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZWNvbmQgYXJndW1lbnQgbm90IHN1cHBvcnRlZCcpO1xuICB9XG4gIGlmICh0eXBlb2YgbyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG4gIEYucHJvdG90eXBlID0gbztcbiAgcmV0dXJuIG5ldyBGKCk7XG59O1xuXG52YXIgcXVldWUgPSBbXTtcblxuZnVuY3Rpb24gc2NoZWR1bGVGbHVzaCgpIHtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVudHJ5ID0gcXVldWVbaV07XG5cbiAgICAgIHZhciBwYXlsb2FkID0gZW50cnkucGF5bG9hZDtcblxuICAgICAgcGF5bG9hZC5ndWlkID0gcGF5bG9hZC5rZXkgKyBwYXlsb2FkLmlkO1xuICAgICAgcGF5bG9hZC5jaGlsZEd1aWQgPSBwYXlsb2FkLmtleSArIHBheWxvYWQuY2hpbGRJZDtcbiAgICAgIGlmIChwYXlsb2FkLmVycm9yKSB7XG4gICAgICAgIHBheWxvYWQuc3RhY2sgPSBwYXlsb2FkLmVycm9yLnN0YWNrO1xuICAgICAgfVxuXG4gICAgICBjb25maWdbJ3RyaWdnZXInXShlbnRyeS5uYW1lLCBlbnRyeS5wYXlsb2FkKTtcbiAgICB9XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgfSwgNTApO1xufVxuZnVuY3Rpb24gaW5zdHJ1bWVudChldmVudE5hbWUsIHByb21pc2UsIGNoaWxkKSB7XG4gIGlmICgxID09PSBxdWV1ZS5wdXNoKHtcbiAgICBuYW1lOiBldmVudE5hbWUsXG4gICAgcGF5bG9hZDoge1xuICAgICAga2V5OiBwcm9taXNlLl9ndWlkS2V5LFxuICAgICAgaWQ6IHByb21pc2UuX2lkLFxuICAgICAgZXZlbnROYW1lOiBldmVudE5hbWUsXG4gICAgICBkZXRhaWw6IHByb21pc2UuX3Jlc3VsdCxcbiAgICAgIGNoaWxkSWQ6IGNoaWxkICYmIGNoaWxkLl9pZCxcbiAgICAgIGxhYmVsOiBwcm9taXNlLl9sYWJlbCxcbiAgICAgIHRpbWVTdGFtcDogbm93KCksXG4gICAgICBlcnJvcjogY29uZmlnW1wiaW5zdHJ1bWVudC13aXRoLXN0YWNrXCJdID8gbmV3IEVycm9yKHByb21pc2UuX2xhYmVsKSA6IG51bGxcbiAgICB9IH0pKSB7XG4gICAgc2NoZWR1bGVGbHVzaCgpO1xuICB9XG59XG5cbi8qKlxuICBgUlNWUC5Qcm9taXNlLnJlc29sdmVgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgcmVzb2x2ZWQgd2l0aCB0aGVcbiAgcGFzc2VkIGB2YWx1ZWAuIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUlNWUC5Qcm9taXNlLnJlc29sdmUoMSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZXNvbHZlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHsqfSBvYmplY3QgdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIHdpdGhcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgaWRlbnRpZnlpbmcgdGhlIHJldHVybmVkIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgZnVsZmlsbGVkIHdpdGggdGhlIGdpdmVuXG4gIGB2YWx1ZWBcbiovXG5mdW5jdGlvbiByZXNvbHZlJDEob2JqZWN0LCBsYWJlbCkge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wLCBsYWJlbCk7XG4gIHJlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHdpdGhPd25Qcm9taXNlKCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIFBFTkRJTkcgPSB2b2lkIDA7XG52YXIgRlVMRklMTEVEID0gMTtcbnZhciBSRUpFQ1RFRCA9IDI7XG5cbnZhciBHRVRfVEhFTl9FUlJPUiA9IG5ldyBFcnJvck9iamVjdCgpO1xuXG5mdW5jdGlvbiBnZXRUaGVuKHByb21pc2UpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIEdFVF9USEVOX0VSUk9SLmVycm9yID0gZXJyb3I7XG4gICAgcmV0dXJuIEdFVF9USEVOX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeVRoZW4odGhlbiwgdmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcikge1xuICB0cnkge1xuICAgIHRoZW4uY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSwgdGhlbikge1xuICBjb25maWcuYXN5bmMoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUsIHVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICBpZiAoIXNlYWxlZCAmJiBlcnJvcikge1xuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfVxuICB9LCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgdGhlbmFibGUuX29uRXJyb3IgPSBudWxsO1xuICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUsIHVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQpIHtcbiAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IgJiYgdGhlbiQkID09PSB0aGVuICYmIHByb21pc2UuY29uc3RydWN0b3IucmVzb2x2ZSA9PT0gcmVzb2x2ZSQxKSB7XG4gICAgaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoZW4kJCA9PT0gR0VUX1RIRU5fRVJST1IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBHRVRfVEhFTl9FUlJPUi5lcnJvcik7XG4gICAgfSBlbHNlIGlmICh0aGVuJCQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odGhlbiQkKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlLCBnZXRUaGVuKHZhbHVlKSk7XG4gIH0gZWxzZSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaFJlamVjdGlvbihwcm9taXNlKSB7XG4gIGlmIChwcm9taXNlLl9vbkVycm9yKSB7XG4gICAgcHJvbWlzZS5fb25FcnJvcihwcm9taXNlLl9yZXN1bHQpO1xuICB9XG5cbiAgcHVibGlzaChwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkge1xuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9taXNlLl9yZXN1bHQgPSB2YWx1ZTtcbiAgcHJvbWlzZS5fc3RhdGUgPSBGVUxGSUxMRUQ7XG5cbiAgaWYgKHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChjb25maWcuaW5zdHJ1bWVudCkge1xuICAgICAgaW5zdHJ1bWVudCgnZnVsZmlsbGVkJywgcHJvbWlzZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbmZpZy5hc3luYyhwdWJsaXNoLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3QocHJvbWlzZSwgcmVhc29uKSB7XG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHJldHVybjtcbiAgfVxuICBwcm9taXNlLl9zdGF0ZSA9IFJFSkVDVEVEO1xuICBwcm9taXNlLl9yZXN1bHQgPSByZWFzb247XG4gIGNvbmZpZy5hc3luYyhwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBzdWJzY3JpYmVycy5sZW5ndGg7XG5cbiAgcGFyZW50Ll9vbkVycm9yID0gbnVsbDtcblxuICBzdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7XG4gIHN1YnNjcmliZXJzW2xlbmd0aCArIEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICBzdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBjb25maWcuYXN5bmMocHVibGlzaCwgcGFyZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoKHByb21pc2UpIHtcbiAgdmFyIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnM7XG4gIHZhciBzZXR0bGVkID0gcHJvbWlzZS5fc3RhdGU7XG5cbiAgaWYgKGNvbmZpZy5pbnN0cnVtZW50KSB7XG4gICAgaW5zdHJ1bWVudChzZXR0bGVkID09PSBGVUxGSUxMRUQgPyAnZnVsZmlsbGVkJyA6ICdyZWplY3RlZCcsIHByb21pc2UpO1xuICB9XG5cbiAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjaGlsZCA9IHVuZGVmaW5lZCxcbiAgICAgIGNhbGxiYWNrID0gdW5kZWZpbmVkLFxuICAgICAgZGV0YWlsID0gcHJvbWlzZS5fcmVzdWx0O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICBjaGlsZCA9IHN1YnNjcmliZXJzW2ldO1xuICAgIGNhbGxiYWNrID0gc3Vic2NyaWJlcnNbaSArIHNldHRsZWRdO1xuXG4gICAgaWYgKGNoaWxkKSB7XG4gICAgICBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgfVxuICB9XG5cbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoID0gMDtcbn1cblxuZnVuY3Rpb24gRXJyb3JPYmplY3QoKSB7XG4gIHRoaXMuZXJyb3IgPSBudWxsO1xufVxuXG52YXIgVFJZX0NBVENIX0VSUk9SID0gbmV3IEVycm9yT2JqZWN0KCk7XG5cbmZ1bmN0aW9uIHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gY2FsbGJhY2soZGV0YWlsKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIFRSWV9DQVRDSF9FUlJPUi5lcnJvciA9IGU7XG4gICAgcmV0dXJuIFRSWV9DQVRDSF9FUlJPUjtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gIHZhciBoYXNDYWxsYmFjayA9IGlzRnVuY3Rpb24oY2FsbGJhY2spLFxuICAgICAgdmFsdWUgPSB1bmRlZmluZWQsXG4gICAgICBlcnJvciA9IHVuZGVmaW5lZCxcbiAgICAgIHN1Y2NlZWRlZCA9IHVuZGVmaW5lZCxcbiAgICAgIGZhaWxlZCA9IHVuZGVmaW5lZDtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB2YWx1ZSA9IHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpO1xuXG4gICAgaWYgKHZhbHVlID09PSBUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICBlcnJvciA9IHZhbHVlLmVycm9yO1xuICAgICAgdmFsdWUgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIHdpdGhPd25Qcm9taXNlKCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IGRldGFpbDtcbiAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgLy8gbm9vcFxuICB9IGVsc2UgaWYgKGhhc0NhbGxiYWNrICYmIHN1Y2NlZWRlZCkge1xuICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBGVUxGSUxMRUQpIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCByZXNvbHZlcikge1xuICB2YXIgcmVzb2x2ZWQgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICByZXNvbHZlcihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3QocHJvbWlzZSwgZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbiwgbGFiZWwpIHtcbiAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHM7XG5cbiAgdmFyIHBhcmVudCA9IHRoaXM7XG4gIHZhciBzdGF0ZSA9IHBhcmVudC5fc3RhdGU7XG5cbiAgaWYgKHN0YXRlID09PSBGVUxGSUxMRUQgJiYgIW9uRnVsZmlsbG1lbnQgfHwgc3RhdGUgPT09IFJFSkVDVEVEICYmICFvblJlamVjdGlvbikge1xuICAgIGNvbmZpZy5pbnN0cnVtZW50ICYmIGluc3RydW1lbnQoJ2NoYWluZWQnLCBwYXJlbnQsIHBhcmVudCk7XG4gICAgcmV0dXJuIHBhcmVudDtcbiAgfVxuXG4gIHBhcmVudC5fb25FcnJvciA9IG51bGw7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHBhcmVudC5jb25zdHJ1Y3Rvcihub29wLCBsYWJlbCk7XG4gIHZhciByZXN1bHQgPSBwYXJlbnQuX3Jlc3VsdDtcblxuICBjb25maWcuaW5zdHJ1bWVudCAmJiBpbnN0cnVtZW50KCdjaGFpbmVkJywgcGFyZW50LCBjaGlsZCk7XG5cbiAgaWYgKHN0YXRlKSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IF9hcmd1bWVudHNbc3RhdGUgLSAxXTtcbiAgICAgIGNvbmZpZy5hc3luYyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpbnZva2VDYWxsYmFjayhzdGF0ZSwgY2hpbGQsIGNhbGxiYWNrLCByZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfSkoKTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufVxuXG5mdW5jdGlvbiBtYWtlU2V0dGxlZFJlc3VsdChzdGF0ZSwgcG9zaXRpb24sIHZhbHVlKSB7XG4gIGlmIChzdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiAnZnVsZmlsbGVkJyxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiAncmVqZWN0ZWQnLFxuICAgICAgcmVhc29uOiB2YWx1ZVxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gRW51bWVyYXRvcihDb25zdHJ1Y3RvciwgaW5wdXQsIGFib3J0T25SZWplY3QsIGxhYmVsKSB7XG4gIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgdGhpcy5wcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3AsIGxhYmVsKTtcbiAgdGhpcy5fYWJvcnRPblJlamVjdCA9IGFib3J0T25SZWplY3Q7XG5cbiAgaWYgKHRoaXMuX3ZhbGlkYXRlSW5wdXQoaW5wdXQpKSB7XG4gICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcbiAgICB0aGlzLmxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICB0aGlzLl9yZW1haW5pbmcgPSBpbnB1dC5sZW5ndGg7XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICB0aGlzLl9lbnVtZXJhdGUoKTtcbiAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlamVjdCh0aGlzLnByb21pc2UsIHRoaXMuX3ZhbGlkYXRpb25FcnJvcigpKTtcbiAgfVxufVxuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fdmFsaWRhdGVJbnB1dCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICByZXR1cm4gaXNBcnJheShpbnB1dCk7XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fdmFsaWRhdGlvbkVycm9yID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn07XG5cbkVudW1lcmF0b3IucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcbiAgdmFyIGlucHV0ID0gdGhpcy5faW5wdXQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IHByb21pc2UuX3N0YXRlID09PSBQRU5ESU5HICYmIGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHRoaXMuX2VhY2hFbnRyeShpbnB1dFtpXSwgaSk7XG4gIH1cbn07XG5cbkVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVNYXliZVRoZW5hYmxlID0gZnVuY3Rpb24gKGVudHJ5LCBpKSB7XG4gIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgdmFyIHJlc29sdmUgPSBjLnJlc29sdmU7XG5cbiAgaWYgKHJlc29sdmUgPT09IHJlc29sdmUkMSkge1xuICAgIHZhciB0aGVuJCQgPSBnZXRUaGVuKGVudHJ5KTtcblxuICAgIGlmICh0aGVuJCQgPT09IHRoZW4gJiYgZW50cnkuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgICBlbnRyeS5fb25FcnJvciA9IG51bGw7XG4gICAgICB0aGlzLl9zZXR0bGVkQXQoZW50cnkuX3N0YXRlLCBpLCBlbnRyeS5fcmVzdWx0KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGVuJCQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuICAgICAgdGhpcy5fcmVzdWx0W2ldID0gdGhpcy5fbWFrZVJlc3VsdChGVUxGSUxMRUQsIGksIGVudHJ5KTtcbiAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UpIHtcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IGMobm9vcCk7XG4gICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCB0aGVuJCQpO1xuICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoZW50cnkpO1xuICAgICAgfSksIGkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLl93aWxsU2V0dGxlQXQocmVzb2x2ZShlbnRyeSksIGkpO1xuICB9XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gKGVudHJ5LCBpKSB7XG4gIGlmIChpc01heWJlVGhlbmFibGUoZW50cnkpKSB7XG4gICAgdGhpcy5fc2V0dGxlTWF5YmVUaGVuYWJsZShlbnRyeSwgaSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fcmVtYWluaW5nLS07XG4gICAgdGhpcy5fcmVzdWx0W2ldID0gdGhpcy5fbWFrZVJlc3VsdChGVUxGSUxMRUQsIGksIGVudHJ5KTtcbiAgfVxufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uIChzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2U7XG5cbiAgaWYgKHByb21pc2UuX3N0YXRlID09PSBQRU5ESU5HKSB7XG4gICAgdGhpcy5fcmVtYWluaW5nLS07XG5cbiAgICBpZiAodGhpcy5fYWJvcnRPblJlamVjdCAmJiBzdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IHRoaXMuX21ha2VSZXN1bHQoc3RhdGUsIGksIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICB9XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fbWFrZVJlc3VsdCA9IGZ1bmN0aW9uIChzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdCA9IGZ1bmN0aW9uIChwcm9taXNlLCBpKSB7XG4gIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICBzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KEZVTEZJTExFRCwgaSwgdmFsdWUpO1xuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgfSk7XG59O1xuXG4vKipcbiAgYFJTVlAuUHJvbWlzZS5hbGxgIGFjY2VwdHMgYW4gYXJyYXkgb2YgcHJvbWlzZXMsIGFuZCByZXR1cm5zIGEgbmV3IHByb21pc2Ugd2hpY2hcbiAgaXMgZnVsZmlsbGVkIHdpdGggYW4gYXJyYXkgb2YgZnVsZmlsbG1lbnQgdmFsdWVzIGZvciB0aGUgcGFzc2VkIHByb21pc2VzLCBvclxuICByZWplY3RlZCB3aXRoIHRoZSByZWFzb24gb2YgdGhlIGZpcnN0IHBhc3NlZCBwcm9taXNlIHRvIGJlIHJlamVjdGVkLiBJdCBjYXN0cyBhbGxcbiAgZWxlbWVudHMgb2YgdGhlIHBhc3NlZCBpdGVyYWJsZSB0byBwcm9taXNlcyBhcyBpdCBydW5zIHRoaXMgYWxnb3JpdGhtLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IFJTVlAucmVzb2x2ZSgyKTtcbiAgbGV0IHByb21pc2UzID0gUlNWUC5yZXNvbHZlKDMpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBSU1ZQLlByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgUlNWUC5hbGxgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSByZXR1cm5lZCBwcm9taXNlcydzXG4gIHJlamVjdGlvbiBoYW5kbGVyLiBGb3IgZXhhbXBsZTpcblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gUlNWUC5yZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gUlNWUC5yZWplY3QobmV3IEVycm9yKFwiM1wiKSk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFJTVlAuUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgIC8vIGVycm9yLm1lc3NhZ2UgPT09IFwiMlwiXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIGFsbFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXMgYXJyYXkgb2YgcHJvbWlzZXNcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBgcHJvbWlzZXNgIGhhdmUgYmVlblxuICBmdWxmaWxsZWQsIG9yIHJlamVjdGVkIGlmIGFueSBvZiB0aGVtIGJlY29tZSByZWplY3RlZC5cbiAgQHN0YXRpY1xuKi9cbmZ1bmN0aW9uIGFsbChlbnRyaWVzLCBsYWJlbCkge1xuICByZXR1cm4gbmV3IEVudW1lcmF0b3IodGhpcywgZW50cmllcywgdHJ1ZSwgLyogYWJvcnQgb24gcmVqZWN0ICovbGFiZWwpLnByb21pc2U7XG59XG5cbi8qKlxuICBgUlNWUC5Qcm9taXNlLnJhY2VgIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaCBpcyBzZXR0bGVkIGluIHRoZSBzYW1lIHdheSBhcyB0aGVcbiAgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gc2V0dGxlLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBuZXcgUlNWUC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMicpO1xuICAgIH0sIDEwMCk7XG4gIH0pO1xuXG4gIFJTVlAuUHJvbWlzZS5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gcmVzdWx0ID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIGl0IHdhcyByZXNvbHZlZCBiZWZvcmUgcHJvbWlzZTFcbiAgICAvLyB3YXMgcmVzb2x2ZWQuXG4gIH0pO1xuICBgYGBcblxuICBgUlNWUC5Qcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMScpO1xuICAgIH0sIDIwMCk7XG4gIH0pO1xuXG4gIGxldCBwcm9taXNlMiA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdwcm9taXNlIDInKSk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgUlNWUC5Qcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBSU1ZQLlByb21pc2UucmFjZShbYWpheCgnZm9vLmpzb24nKSwgdGltZW91dCg1MDAwKV0pXG4gIGBgYFxuXG4gIEBtZXRob2QgcmFjZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXMgYXJyYXkgb2YgcHJvbWlzZXMgdG8gb2JzZXJ2ZVxuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBkZXNjcmliaW5nIHRoZSBwcm9taXNlIHJldHVybmVkLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB3aGljaCBzZXR0bGVzIGluIHRoZSBzYW1lIHdheSBhcyB0aGUgZmlyc3QgcGFzc2VkXG4gIHByb21pc2UgdG8gc2V0dGxlLlxuKi9cbmZ1bmN0aW9uIHJhY2UoZW50cmllcywgbGFiZWwpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wLCBsYWJlbCk7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgcHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGVudHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBzdWJzY3JpYmUoQ29uc3RydWN0b3IucmVzb2x2ZShlbnRyaWVzW2ldKSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLyoqXG4gIGBSU1ZQLlByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUlNWUC5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIENvZGUgaGVyZSBkb2Vzbid0IHJ1biBiZWNhdXNlIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZWplY3RcbiAgQHN0YXRpY1xuICBAcGFyYW0geyp9IHJlYXNvbiB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aC5cbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgaWRlbnRpZnlpbmcgdGhlIHJldHVybmVkIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmZ1bmN0aW9uIHJlamVjdCQxKHJlYXNvbiwgbGFiZWwpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCwgbGFiZWwpO1xuICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbnZhciBndWlkS2V5ID0gJ3JzdnBfJyArIG5vdygpICsgJy0nO1xudmFyIGNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBuZWVkc1Jlc29sdmVyKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG59XG5cbmZ1bmN0aW9uIG5lZWRzTmV3KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xufVxuXG4vKipcbiAgUHJvbWlzZSBvYmplY3RzIHJlcHJlc2VudCB0aGUgZXZlbnR1YWwgcmVzdWx0IG9mIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uIFRoZVxuICBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLCB3aGljaFxuICByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZeKAmXMgZXZlbnR1YWwgdmFsdWUgb3IgdGhlIHJlYXNvblxuICB3aHkgdGhlIHByb21pc2UgY2Fubm90IGJlIGZ1bGZpbGxlZC5cblxuICBUZXJtaW5vbG9neVxuICAtLS0tLS0tLS0tLVxuXG4gIC0gYHByb21pc2VgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB3aXRoIGEgYHRoZW5gIG1ldGhvZCB3aG9zZSBiZWhhdmlvciBjb25mb3JtcyB0byB0aGlzIHNwZWNpZmljYXRpb24uXG4gIC0gYHRoZW5hYmxlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gdGhhdCBkZWZpbmVzIGEgYHRoZW5gIG1ldGhvZC5cbiAgLSBgdmFsdWVgIGlzIGFueSBsZWdhbCBKYXZhU2NyaXB0IHZhbHVlIChpbmNsdWRpbmcgdW5kZWZpbmVkLCBhIHRoZW5hYmxlLCBvciBhIHByb21pc2UpLlxuICAtIGBleGNlcHRpb25gIGlzIGEgdmFsdWUgdGhhdCBpcyB0aHJvd24gdXNpbmcgdGhlIHRocm93IHN0YXRlbWVudC5cbiAgLSBgcmVhc29uYCBpcyBhIHZhbHVlIHRoYXQgaW5kaWNhdGVzIHdoeSBhIHByb21pc2Ugd2FzIHJlamVjdGVkLlxuICAtIGBzZXR0bGVkYCB0aGUgZmluYWwgcmVzdGluZyBzdGF0ZSBvZiBhIHByb21pc2UsIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cblxuICBBIHByb21pc2UgY2FuIGJlIGluIG9uZSBvZiB0aHJlZSBzdGF0ZXM6IHBlbmRpbmcsIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQuXG5cbiAgUHJvbWlzZXMgdGhhdCBhcmUgZnVsZmlsbGVkIGhhdmUgYSBmdWxmaWxsbWVudCB2YWx1ZSBhbmQgYXJlIGluIHRoZSBmdWxmaWxsZWRcbiAgc3RhdGUuICBQcm9taXNlcyB0aGF0IGFyZSByZWplY3RlZCBoYXZlIGEgcmVqZWN0aW9uIHJlYXNvbiBhbmQgYXJlIGluIHRoZVxuICByZWplY3RlZCBzdGF0ZS4gIEEgZnVsZmlsbG1lbnQgdmFsdWUgaXMgbmV2ZXIgYSB0aGVuYWJsZS5cblxuICBQcm9taXNlcyBjYW4gYWxzbyBiZSBzYWlkIHRvICpyZXNvbHZlKiBhIHZhbHVlLiAgSWYgdGhpcyB2YWx1ZSBpcyBhbHNvIGFcbiAgcHJvbWlzZSwgdGhlbiB0aGUgb3JpZ2luYWwgcHJvbWlzZSdzIHNldHRsZWQgc3RhdGUgd2lsbCBtYXRjaCB0aGUgdmFsdWUnc1xuICBzZXR0bGVkIHN0YXRlLiAgU28gYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCByZWplY3RzIHdpbGxcbiAgaXRzZWxmIHJlamVjdCwgYW5kIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgZnVsZmlsbHMgd2lsbFxuICBpdHNlbGYgZnVsZmlsbC5cblxuXG4gIEJhc2ljIFVzYWdlOlxuICAtLS0tLS0tLS0tLS1cblxuICBgYGBqc1xuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIC8vIG9uIHN1Y2Nlc3NcbiAgICByZXNvbHZlKHZhbHVlKTtcblxuICAgIC8vIG9uIGZhaWx1cmVcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gb24gcmVqZWN0aW9uXG4gIH0pO1xuICBgYGBcblxuICBBZHZhbmNlZCBVc2FnZTpcbiAgLS0tLS0tLS0tLS0tLS0tXG5cbiAgUHJvbWlzZXMgc2hpbmUgd2hlbiBhYnN0cmFjdGluZyBhd2F5IGFzeW5jaHJvbm91cyBpbnRlcmFjdGlvbnMgc3VjaCBhc1xuICBgWE1MSHR0cFJlcXVlc3Rgcy5cblxuICBgYGBqc1xuICBmdW5jdGlvbiBnZXRKU09OKHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBoYW5kbGVyO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5ET05FKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ2dldEpTT046IGAnICsgdXJsICsgJ2AgZmFpbGVkIHdpdGggc3RhdHVzOiBbJyArIHRoaXMuc3RhdHVzICsgJ10nKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0SlNPTignL3Bvc3RzLmpzb24nKS50aGVuKGZ1bmN0aW9uKGpzb24pIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIFVubGlrZSBjYWxsYmFja3MsIHByb21pc2VzIGFyZSBncmVhdCBjb21wb3NhYmxlIHByaW1pdGl2ZXMuXG5cbiAgYGBganNcbiAgUHJvbWlzZS5hbGwoW1xuICAgIGdldEpTT04oJy9wb3N0cycpLFxuICAgIGdldEpTT04oJy9jb21tZW50cycpXG4gIF0pLnRoZW4oZnVuY3Rpb24odmFsdWVzKXtcbiAgICB2YWx1ZXNbMF0gLy8gPT4gcG9zdHNKU09OXG4gICAgdmFsdWVzWzFdIC8vID0+IGNvbW1lbnRzSlNPTlxuXG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfSk7XG4gIGBgYFxuXG4gIEBjbGFzcyBSU1ZQLlByb21pc2VcbiAgQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZXJcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQGNvbnN0cnVjdG9yXG4qL1xuZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlciwgbGFiZWwpIHtcbiAgdGhpcy5faWQgPSBjb3VudGVyKys7XG4gIHRoaXMuX2xhYmVsID0gbGFiZWw7XG4gIHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICB0aGlzLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgY29uZmlnLmluc3RydW1lbnQgJiYgaW5zdHJ1bWVudCgnY3JlYXRlZCcsIHRoaXMpO1xuXG4gIGlmIChub29wICE9PSByZXNvbHZlcikge1xuICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBuZWVkc1Jlc29sdmVyKCk7XG4gICAgdGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPyBpbml0aWFsaXplUHJvbWlzZSh0aGlzLCByZXNvbHZlcikgOiBuZWVkc05ldygpO1xuICB9XG59XG5cblByb21pc2UuY2FzdCA9IHJlc29sdmUkMTsgLy8gZGVwcmVjYXRlZFxuUHJvbWlzZS5hbGwgPSBhbGw7XG5Qcm9taXNlLnJhY2UgPSByYWNlO1xuUHJvbWlzZS5yZXNvbHZlID0gcmVzb2x2ZSQxO1xuUHJvbWlzZS5yZWplY3QgPSByZWplY3QkMTtcblxuUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gIF9ndWlkS2V5OiBndWlkS2V5LFxuXG4gIF9vbkVycm9yOiBmdW5jdGlvbiBfb25FcnJvcihyZWFzb24pIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgY29uZmlnLmFmdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9taXNlLl9vbkVycm9yKSB7XG4gICAgICAgIGNvbmZpZ1sndHJpZ2dlciddKCdlcnJvcicsIHJlYXNvbiwgcHJvbWlzZS5fbGFiZWwpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICAgIHdoaWNoIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlXG4gICAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbih1c2VyKXtcbiAgICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgIC8vIHVzZXIgaXMgdW5hdmFpbGFibGUsIGFuZCB5b3UgYXJlIGdpdmVuIHRoZSByZWFzb24gd2h5XG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIENoYWluaW5nXG4gICAgLS0tLS0tLS1cbiAgXG4gICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgICBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmlyc3QgcHJvbWlzZSdzIGZ1bGZpbGxtZW50XG4gICAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICByZXR1cm4gdXNlci5uYW1lO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiAnZGVmYXVsdCBuYW1lJztcbiAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgICAgLy8gd2lsbCBiZSBgJ2RlZmF1bHQgbmFtZSdgXG4gICAgfSk7XG4gIFxuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2VcXCdyZSB1bmhhcHB5Jyk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAvLyBpZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHJlYXNvbmAgd2lsbCBiZSAnRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknLlxuICAgICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2VcXCdyZSB1bmhhcHB5Jy5cbiAgICB9KTtcbiAgICBgYGBcbiAgICBJZiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIGRvZXMgbm90IHNwZWNpZnkgYSByZWplY3Rpb24gaGFuZGxlciwgcmVqZWN0aW9uIHJlYXNvbnMgd2lsbCBiZSBwcm9wYWdhdGVkIGZ1cnRoZXIgZG93bnN0cmVhbS5cbiAgXG4gICAgYGBganNcbiAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBQZWRhZ29naWNhbEV4Y2VwdGlvbignVXBzdHJlYW0gZXJyb3InKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgLy8gVGhlIGBQZWRnYWdvY2lhbEV4Y2VwdGlvbmAgaXMgcHJvcGFnYXRlZCBhbGwgdGhlIHdheSBkb3duIHRvIGhlcmVcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQXNzaW1pbGF0aW9uXG4gICAgLS0tLS0tLS0tLS0tXG4gIFxuICAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gICAgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5LiBUaGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXR1cm5pbmcgYSBwcm9taXNlIGluIHRoZVxuICAgIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBoYW5kbGVyLiBUaGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgdGhlbiBiZSBwZW5kaW5nXG4gICAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAgIC8vIFRoZSB1c2VyJ3MgY29tbWVudHMgYXJlIG5vdyBhdmFpbGFibGVcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgSWYgdGhlIGFzc2ltbGlhdGVkIHByb21pc2UgcmVqZWN0cywgdGhlbiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgYWxzbyByZWplY3QuXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgZnVsZmlsbHMsIHdlJ2xsIGhhdmUgdGhlIHZhbHVlIGhlcmVcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIFNpbXBsZSBFeGFtcGxlXG4gICAgLS0tLS0tLS0tLS0tLS1cbiAgXG4gICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICBcbiAgICBgYGBqYXZhc2NyaXB0XG4gICAgbGV0IHJlc3VsdDtcbiAgXG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgRXJyYmFjayBFeGFtcGxlXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFJlc3VsdChmdW5jdGlvbihyZXN1bHQsIGVycil7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIC8vIGZhaWx1cmVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgIH1cbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgUHJvbWlzZSBFeGFtcGxlO1xuICBcbiAgICBgYGBqYXZhc2NyaXB0XG4gICAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBBZHZhbmNlZCBFeGFtcGxlXG4gICAgLS0tLS0tLS0tLS0tLS1cbiAgXG4gICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICBcbiAgICBgYGBqYXZhc2NyaXB0XG4gICAgbGV0IGF1dGhvciwgYm9va3M7XG4gIFxuICAgIHRyeSB7XG4gICAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgICBib29rcyAgPSBmaW5kQm9va3NCeUF1dGhvcihhdXRob3IpO1xuICAgICAgLy8gc3VjY2Vzc1xuICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfVxuICAgIGBgYFxuICBcbiAgICBFcnJiYWNrIEV4YW1wbGVcbiAgXG4gICAgYGBganNcbiAgXG4gICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuICBcbiAgICB9XG4gIFxuICAgIGZ1bmN0aW9uIGZhaWx1cmUocmVhc29uKSB7XG4gIFxuICAgIH1cbiAgXG4gICAgZmluZEF1dGhvcihmdW5jdGlvbihhdXRob3IsIGVycil7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmaW5kQm9vb2tzQnlBdXRob3IoYXV0aG9yLCBmdW5jdGlvbihib29rcywgZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZShyZWFzb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBQcm9taXNlIEV4YW1wbGU7XG4gIFxuICAgIGBgYGphdmFzY3JpcHRcbiAgICBmaW5kQXV0aG9yKCkuXG4gICAgICB0aGVuKGZpbmRCb29rc0J5QXV0aG9yKS5cbiAgICAgIHRoZW4oZnVuY3Rpb24oYm9va3Mpe1xuICAgICAgICAvLyBmb3VuZCBib29rc1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIHRoZW5cbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxtZW50XG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cbiAgdGhlbjogdGhlbixcblxuICAvKipcbiAgICBgY2F0Y2hgIGlzIHNpbXBseSBzdWdhciBmb3IgYHRoZW4odW5kZWZpbmVkLCBvblJlamVjdGlvbilgIHdoaWNoIG1ha2VzIGl0IHRoZSBzYW1lXG4gICAgYXMgdGhlIGNhdGNoIGJsb2NrIG9mIGEgdHJ5L2NhdGNoIHN0YXRlbWVudC5cbiAgXG4gICAgYGBganNcbiAgICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkblxcJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICAgIH1cbiAgXG4gICAgLy8gc3luY2hyb25vdXNcbiAgICB0cnkge1xuICAgICAgZmluZEF1dGhvcigpO1xuICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgIH1cbiAgXG4gICAgLy8gYXN5bmMgd2l0aCBwcm9taXNlc1xuICAgIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQG1ldGhvZCBjYXRjaFxuICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gICAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG4gICdjYXRjaCc6IGZ1bmN0aW9uIF9jYXRjaChvblJlamVjdGlvbiwgbGFiZWwpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24sIGxhYmVsKTtcbiAgfSxcblxuICAvKipcbiAgICBgZmluYWxseWAgd2lsbCBiZSBpbnZva2VkIHJlZ2FyZGxlc3Mgb2YgdGhlIHByb21pc2UncyBmYXRlIGp1c3QgYXMgbmF0aXZlXG4gICAgdHJ5L2NhdGNoL2ZpbmFsbHkgYmVoYXZlc1xuICBcbiAgICBTeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKSB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQXV0aG9yKCk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBhbHdheXMgcnVuc1xuICAgICAgLy8gZG9lc24ndCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGZpbmFsbHlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuICAnZmluYWxseSc6IGZ1bmN0aW9uIF9maW5hbGx5KGNhbGxiYWNrLCBsYWJlbCkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICB2YXIgY29uc3RydWN0b3IgPSBwcm9taXNlLmNvbnN0cnVjdG9yO1xuXG4gICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgfSk7XG4gICAgfSwgbGFiZWwpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBSZXN1bHQoKSB7XG4gIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG59XG5cbnZhciBFUlJPUiA9IG5ldyBSZXN1bHQoKTtcbnZhciBHRVRfVEhFTl9FUlJPUiQxID0gbmV3IFJlc3VsdCgpO1xuXG5mdW5jdGlvbiBnZXRUaGVuJDEob2JqKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG9iai50aGVuO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIEVSUk9SLnZhbHVlID0gZXJyb3I7XG4gICAgcmV0dXJuIEVSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeUFwcGx5KGYsIHMsIGEpIHtcbiAgdHJ5IHtcbiAgICBmLmFwcGx5KHMsIGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIEVSUk9SLnZhbHVlID0gZXJyb3I7XG4gICAgcmV0dXJuIEVSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VPYmplY3QoXywgYXJndW1lbnROYW1lcykge1xuICB2YXIgb2JqID0ge307XG4gIHZhciBsZW5ndGggPSBfLmxlbmd0aDtcbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkobGVuZ3RoKTtcblxuICBmb3IgKHZhciB4ID0gMDsgeCA8IGxlbmd0aDsgeCsrKSB7XG4gICAgYXJnc1t4XSA9IF9beF07XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgX25hbWUgPSBhcmd1bWVudE5hbWVzW2ldO1xuICAgIG9ialtfbmFtZV0gPSBhcmdzW2kgKyAxXTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIGFycmF5UmVzdWx0KF8pIHtcbiAgdmFyIGxlbmd0aCA9IF8ubGVuZ3RoO1xuICB2YXIgYXJncyA9IG5ldyBBcnJheShsZW5ndGggLSAxKTtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYXJnc1tpIC0gMV0gPSBfW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFyZ3M7XG59XG5cbmZ1bmN0aW9uIHdyYXBUaGVuYWJsZShfdGhlbiwgcHJvbWlzZSkge1xuICByZXR1cm4ge1xuICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxGaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgIHJldHVybiBfdGhlbi5jYWxsKHByb21pc2UsIG9uRnVsRmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICBgUlNWUC5kZW5vZGVpZnlgIHRha2VzIGEgJ25vZGUtc3R5bGUnIGZ1bmN0aW9uIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdFxuICB3aWxsIHJldHVybiBhbiBgUlNWUC5Qcm9taXNlYC4gWW91IGNhbiB1c2UgYGRlbm9kZWlmeWAgaW4gTm9kZS5qcyBvciB0aGVcbiAgYnJvd3NlciB3aGVuIHlvdSdkIHByZWZlciB0byB1c2UgcHJvbWlzZXMgb3ZlciB1c2luZyBjYWxsYmFja3MuIEZvciBleGFtcGxlLFxuICBgZGVub2RlaWZ5YCB0cmFuc2Zvcm1zIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgZnMgPSByZXF1aXJlKCdmcycpO1xuXG4gIGZzLnJlYWRGaWxlKCdteWZpbGUudHh0JywgZnVuY3Rpb24oZXJyLCBkYXRhKXtcbiAgICBpZiAoZXJyKSByZXR1cm4gaGFuZGxlRXJyb3IoZXJyKTtcbiAgICBoYW5kbGVEYXRhKGRhdGEpO1xuICB9KTtcbiAgYGBgXG5cbiAgaW50bzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gIGxldCByZWFkRmlsZSA9IFJTVlAuZGVub2RlaWZ5KGZzLnJlYWRGaWxlKTtcblxuICByZWFkRmlsZSgnbXlmaWxlLnR4dCcpLnRoZW4oaGFuZGxlRGF0YSwgaGFuZGxlRXJyb3IpO1xuICBgYGBcblxuICBJZiB0aGUgbm9kZSBmdW5jdGlvbiBoYXMgbXVsdGlwbGUgc3VjY2VzcyBwYXJhbWV0ZXJzLCB0aGVuIGBkZW5vZGVpZnlgXG4gIGp1c3QgcmV0dXJucyB0aGUgZmlyc3Qgb25lOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHJlcXVlc3QgPSBSU1ZQLmRlbm9kZWlmeShyZXF1aXJlKCdyZXF1ZXN0JykpO1xuXG4gIHJlcXVlc3QoJ2h0dHA6Ly9leGFtcGxlLmNvbScpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgLy8gLi4uXG4gIH0pO1xuICBgYGBcblxuICBIb3dldmVyLCBpZiB5b3UgbmVlZCBhbGwgc3VjY2VzcyBwYXJhbWV0ZXJzLCBzZXR0aW5nIGBkZW5vZGVpZnlgJ3NcbiAgc2Vjb25kIHBhcmFtZXRlciB0byBgdHJ1ZWAgY2F1c2VzIGl0IHRvIHJldHVybiBhbGwgc3VjY2VzcyBwYXJhbWV0ZXJzXG4gIGFzIGFuIGFycmF5OlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHJlcXVlc3QgPSBSU1ZQLmRlbm9kZWlmeShyZXF1aXJlKCdyZXF1ZXN0JyksIHRydWUpO1xuXG4gIHJlcXVlc3QoJ2h0dHA6Ly9leGFtcGxlLmNvbScpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgLy8gcmVzdWx0WzBdIC0+IHJlc1xuICAgIC8vIHJlc3VsdFsxXSAtPiBib2R5XG4gIH0pO1xuICBgYGBcblxuICBPciBpZiB5b3UgcGFzcyBpdCBhbiBhcnJheSB3aXRoIG5hbWVzIGl0IHJldHVybnMgdGhlIHBhcmFtZXRlcnMgYXMgYSBoYXNoOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHJlcXVlc3QgPSBSU1ZQLmRlbm9kZWlmeShyZXF1aXJlKCdyZXF1ZXN0JyksIFsncmVzJywgJ2JvZHknXSk7XG5cbiAgcmVxdWVzdCgnaHR0cDovL2V4YW1wbGUuY29tJykudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAvLyByZXN1bHQucmVzXG4gICAgLy8gcmVzdWx0LmJvZHlcbiAgfSk7XG4gIGBgYFxuXG4gIFNvbWV0aW1lcyB5b3UgbmVlZCB0byByZXRhaW4gdGhlIGB0aGlzYDpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhcHAgPSByZXF1aXJlKCdleHByZXNzJykoKTtcbiAgbGV0IHJlbmRlciA9IFJTVlAuZGVub2RlaWZ5KGFwcC5yZW5kZXIuYmluZChhcHApKTtcbiAgYGBgXG5cbiAgVGhlIGRlbm9kaWZpZWQgZnVuY3Rpb24gaW5oZXJpdHMgZnJvbSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uIEl0IHdvcmtzIGluIGFsbFxuICBlbnZpcm9ubWVudHMsIGV4Y2VwdCBJRSAxMCBhbmQgYmVsb3cuIENvbnNlcXVlbnRseSBhbGwgcHJvcGVydGllcyBvZiB0aGUgb3JpZ2luYWxcbiAgZnVuY3Rpb24gYXJlIGF2YWlsYWJsZSB0byB5b3UuIEhvd2V2ZXIsIGFueSBwcm9wZXJ0aWVzIHlvdSBjaGFuZ2Ugb24gdGhlXG4gIGRlbm9kZWlmaWVkIGZ1bmN0aW9uIHdvbid0IGJlIGNoYW5nZWQgb24gdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLiBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHJlcXVlc3QgPSBSU1ZQLmRlbm9kZWlmeShyZXF1aXJlKCdyZXF1ZXN0JykpLFxuICAgICAgY29va2llSmFyID0gcmVxdWVzdC5qYXIoKTsgLy8gPC0gSW5oZXJpdGFuY2UgaXMgdXNlZCBoZXJlXG5cbiAgcmVxdWVzdCgnaHR0cDovL2V4YW1wbGUuY29tJywge2phcjogY29va2llSmFyfSkudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAvLyBjb29raWVKYXIuY29va2llcyBob2xkcyBub3cgdGhlIGNvb2tpZXMgcmV0dXJuZWQgYnkgZXhhbXBsZS5jb21cbiAgfSk7XG4gIGBgYFxuXG4gIFVzaW5nIGBkZW5vZGVpZnlgIG1ha2VzIGl0IGVhc2llciB0byBjb21wb3NlIGFzeW5jaHJvbm91cyBvcGVyYXRpb25zIGluc3RlYWRcbiAgb2YgdXNpbmcgY2FsbGJhY2tzLiBGb3IgZXhhbXBsZSwgaW5zdGVhZCBvZjpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbiAgZnMucmVhZEZpbGUoJ215ZmlsZS50eHQnLCBmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgIGlmIChlcnIpIHsgLi4uIH0gLy8gSGFuZGxlIGVycm9yXG4gICAgZnMud3JpdGVGaWxlKCdteWZpbGUyLnR4dCcsIGRhdGEsIGZ1bmN0aW9uKGVycil7XG4gICAgICBpZiAoZXJyKSB7IC4uLiB9IC8vIEhhbmRsZSBlcnJvclxuICAgICAgY29uc29sZS5sb2coJ2RvbmUnKVxuICAgIH0pO1xuICB9KTtcbiAgYGBgXG5cbiAgeW91IGNhbiBjaGFpbiB0aGUgb3BlcmF0aW9ucyB0b2dldGhlciB1c2luZyBgdGhlbmAgZnJvbSB0aGUgcmV0dXJuZWQgcHJvbWlzZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gIGxldCByZWFkRmlsZSA9IFJTVlAuZGVub2RlaWZ5KGZzLnJlYWRGaWxlKTtcbiAgbGV0IHdyaXRlRmlsZSA9IFJTVlAuZGVub2RlaWZ5KGZzLndyaXRlRmlsZSk7XG5cbiAgcmVhZEZpbGUoJ215ZmlsZS50eHQnKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgIHJldHVybiB3cml0ZUZpbGUoJ215ZmlsZTIudHh0JywgZGF0YSk7XG4gIH0pLnRoZW4oZnVuY3Rpb24oKXtcbiAgICBjb25zb2xlLmxvZygnZG9uZScpXG4gIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXtcbiAgICAvLyBIYW5kbGUgZXJyb3JcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgZGVub2RlaWZ5XG4gIEBzdGF0aWNcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7RnVuY3Rpb259IG5vZGVGdW5jIGEgJ25vZGUtc3R5bGUnIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBjYWxsYmFjayBhc1xuICBpdHMgbGFzdCBhcmd1bWVudC4gVGhlIGNhbGxiYWNrIGV4cGVjdHMgYW4gZXJyb3IgdG8gYmUgcGFzc2VkIGFzIGl0cyBmaXJzdFxuICBhcmd1bWVudCAoaWYgYW4gZXJyb3Igb2NjdXJyZWQsIG90aGVyd2lzZSBudWxsKSwgYW5kIHRoZSB2YWx1ZSBmcm9tIHRoZVxuICBvcGVyYXRpb24gYXMgaXRzIHNlY29uZCBhcmd1bWVudCAoJ2Z1bmN0aW9uKGVyciwgdmFsdWUpeyB9JykuXG4gIEBwYXJhbSB7Qm9vbGVhbnxBcnJheX0gW29wdGlvbnNdIEFuIG9wdGlvbmFsIHBhcmFtdGVyIHRoYXQgaWYgc2V0XG4gIHRvIGB0cnVlYCBjYXVzZXMgdGhlIHByb21pc2UgdG8gZnVsZmlsbCB3aXRoIHRoZSBjYWxsYmFjaydzIHN1Y2Nlc3MgYXJndW1lbnRzXG4gIGFzIGFuIGFycmF5LiBUaGlzIGlzIHVzZWZ1bCBpZiB0aGUgbm9kZSBmdW5jdGlvbiBoYXMgbXVsdGlwbGUgc3VjY2Vzc1xuICBwYXJhbXRlcnMuIElmIHlvdSBzZXQgdGhpcyBwYXJhbXRlciB0byBhbiBhcnJheSB3aXRoIG5hbWVzLCB0aGUgcHJvbWlzZSB3aWxsXG4gIGZ1bGZpbGwgd2l0aCBhIGhhc2ggd2l0aCB0aGVzZSBuYW1lcyBhcyBrZXlzIGFuZCB0aGUgc3VjY2VzcyBwYXJhbWV0ZXJzIGFzXG4gIHZhbHVlcy5cbiAgQHJldHVybiB7RnVuY3Rpb259IGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgbm9kZUZ1bmNgIHRvIHJldHVybiBhblxuICBgUlNWUC5Qcm9taXNlYFxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gZGVub2RlaWZ5KG5vZGVGdW5jLCBvcHRpb25zKSB7XG4gIHZhciBmbiA9IGZ1bmN0aW9uIGZuKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkobCArIDEpO1xuICAgIHZhciBwcm9taXNlSW5wdXQgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICB2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBpZiAoIXByb21pc2VJbnB1dCkge1xuICAgICAgICAvLyBUT0RPOiBjbGVhbiB0aGlzIHVwXG4gICAgICAgIHByb21pc2VJbnB1dCA9IG5lZWRzUHJvbWlzZUlucHV0KGFyZyk7XG4gICAgICAgIGlmIChwcm9taXNlSW5wdXQgPT09IEdFVF9USEVOX0VSUk9SJDEpIHtcbiAgICAgICAgICB2YXIgcCA9IG5ldyBQcm9taXNlKG5vb3ApO1xuICAgICAgICAgIHJlamVjdChwLCBHRVRfVEhFTl9FUlJPUiQxLnZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9taXNlSW5wdXQgJiYgcHJvbWlzZUlucHV0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgYXJnID0gd3JhcFRoZW5hYmxlKHByb21pc2VJbnB1dCwgYXJnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJnc1tpXSA9IGFyZztcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKG5vb3ApO1xuXG4gICAgYXJnc1tsXSA9IGZ1bmN0aW9uIChlcnIsIHZhbCkge1xuICAgICAgaWYgKGVycikgcmVqZWN0KHByb21pc2UsIGVycik7ZWxzZSBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSByZXNvbHZlKHByb21pc2UsIHZhbCk7ZWxzZSBpZiAob3B0aW9ucyA9PT0gdHJ1ZSkgcmVzb2x2ZShwcm9taXNlLCBhcnJheVJlc3VsdChhcmd1bWVudHMpKTtlbHNlIGlmIChpc0FycmF5KG9wdGlvbnMpKSByZXNvbHZlKHByb21pc2UsIG1ha2VPYmplY3QoYXJndW1lbnRzLCBvcHRpb25zKSk7ZWxzZSByZXNvbHZlKHByb21pc2UsIHZhbCk7XG4gICAgfTtcblxuICAgIGlmIChwcm9taXNlSW5wdXQpIHtcbiAgICAgIHJldHVybiBoYW5kbGVQcm9taXNlSW5wdXQocHJvbWlzZSwgYXJncywgbm9kZUZ1bmMsIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGFuZGxlVmFsdWVJbnB1dChwcm9taXNlLCBhcmdzLCBub2RlRnVuYywgc2VsZik7XG4gICAgfVxuICB9O1xuXG4gIGZuLl9fcHJvdG9fXyA9IG5vZGVGdW5jO1xuXG4gIHJldHVybiBmbjtcbn1cblxuZnVuY3Rpb24gaGFuZGxlVmFsdWVJbnB1dChwcm9taXNlLCBhcmdzLCBub2RlRnVuYywgc2VsZikge1xuICB2YXIgcmVzdWx0ID0gdHJ5QXBwbHkobm9kZUZ1bmMsIHNlbGYsIGFyZ3MpO1xuICBpZiAocmVzdWx0ID09PSBFUlJPUikge1xuICAgIHJlamVjdChwcm9taXNlLCByZXN1bHQudmFsdWUpO1xuICB9XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQcm9taXNlSW5wdXQocHJvbWlzZSwgYXJncywgbm9kZUZ1bmMsIHNlbGYpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGFyZ3MpLnRoZW4oZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgcmVzdWx0ID0gdHJ5QXBwbHkobm9kZUZ1bmMsIHNlbGYsIGFyZ3MpO1xuICAgIGlmIChyZXN1bHQgPT09IEVSUk9SKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVzdWx0LnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBuZWVkc1Byb21pc2VJbnB1dChhcmcpIHtcbiAgaWYgKGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChhcmcuY29uc3RydWN0b3IgPT09IFByb21pc2UpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0VGhlbiQxKGFyZyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAgVGhpcyBpcyBhIGNvbnZlbmllbnQgYWxpYXMgZm9yIGBSU1ZQLlByb21pc2UuYWxsYC5cblxuICBAbWV0aG9kIGFsbFxuICBAc3RhdGljXG4gIEBmb3IgUlNWUFxuICBAcGFyYW0ge0FycmF5fSBhcnJheSBBcnJheSBvZiBwcm9taXNlcy5cbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIEFuIG9wdGlvbmFsIGxhYmVsLiBUaGlzIGlzIHVzZWZ1bFxuICBmb3IgdG9vbGluZy5cbiovXG5mdW5jdGlvbiBhbGwkMShhcnJheSwgbGFiZWwpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGFycmF5LCBsYWJlbCk7XG59XG5cbmZ1bmN0aW9uIEFsbFNldHRsZWQoQ29uc3RydWN0b3IsIGVudHJpZXMsIGxhYmVsKSB7XG4gIHRoaXMuX3N1cGVyQ29uc3RydWN0b3IoQ29uc3RydWN0b3IsIGVudHJpZXMsIGZhbHNlLCAvKiBkb24ndCBhYm9ydCBvbiByZWplY3QgKi9sYWJlbCk7XG59XG5cbkFsbFNldHRsZWQucHJvdG90eXBlID0gb19jcmVhdGUoRW51bWVyYXRvci5wcm90b3R5cGUpO1xuQWxsU2V0dGxlZC5wcm90b3R5cGUuX3N1cGVyQ29uc3RydWN0b3IgPSBFbnVtZXJhdG9yO1xuQWxsU2V0dGxlZC5wcm90b3R5cGUuX21ha2VSZXN1bHQgPSBtYWtlU2V0dGxlZFJlc3VsdDtcbkFsbFNldHRsZWQucHJvdG90eXBlLl92YWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ2FsbFNldHRsZWQgbXVzdCBiZSBjYWxsZWQgd2l0aCBhbiBhcnJheScpO1xufTtcblxuLyoqXG4gIGBSU1ZQLmFsbFNldHRsZWRgIGlzIHNpbWlsYXIgdG8gYFJTVlAuYWxsYCwgYnV0IGluc3RlYWQgb2YgaW1wbGVtZW50aW5nXG4gIGEgZmFpbC1mYXN0IG1ldGhvZCwgaXQgd2FpdHMgdW50aWwgYWxsIHRoZSBwcm9taXNlcyBoYXZlIHJldHVybmVkIGFuZFxuICBzaG93cyB5b3UgYWxsIHRoZSByZXN1bHRzLiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBoYW5kbGUgbXVsdGlwbGVcbiAgcHJvbWlzZXMnIGZhaWx1cmUgc3RhdGVzIHRvZ2V0aGVyIGFzIGEgc2V0LlxuXG4gIFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIHRoZSBnaXZlbiBwcm9taXNlcyBoYXZlIGJlZW5cbiAgc2V0dGxlZC4gVGhlIHJldHVybiBwcm9taXNlIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGFycmF5IG9mIHRoZSBzdGF0ZXMgb2ZcbiAgdGhlIHByb21pc2VzIHBhc3NlZCBpbnRvIHRoZSBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50LlxuXG4gIEVhY2ggc3RhdGUgb2JqZWN0IHdpbGwgZWl0aGVyIGluZGljYXRlIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiwgYW5kXG4gIHByb3ZpZGUgdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb3IgcmVhc29uLiBUaGUgc3RhdGVzIHdpbGwgdGFrZSBvbmUgb2ZcbiAgdGhlIGZvbGxvd2luZyBmb3JtYXRzOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgeyBzdGF0ZTogJ2Z1bGZpbGxlZCcsIHZhbHVlOiB2YWx1ZSB9XG4gICAgb3JcbiAgeyBzdGF0ZTogJ3JlamVjdGVkJywgcmVhc29uOiByZWFzb24gfVxuICBgYGBcblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gUlNWUC5Qcm9taXNlLnJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IFJTVlAuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCcyJykpO1xuICBsZXQgcHJvbWlzZTMgPSBSU1ZQLlByb21pc2UucmVqZWN0KG5ldyBFcnJvcignMycpKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUlNWUC5hbGxTZXR0bGVkKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBhcnJheSA9PSBbXG4gICAgLy8gICB7IHN0YXRlOiAnZnVsZmlsbGVkJywgdmFsdWU6IDEgfSxcbiAgICAvLyAgIHsgc3RhdGU6ICdyZWplY3RlZCcsIHJlYXNvbjogRXJyb3IgfSxcbiAgICAvLyAgIHsgc3RhdGU6ICdyZWplY3RlZCcsIHJlYXNvbjogRXJyb3IgfVxuICAgIC8vIF1cbiAgICAvLyBOb3RlIHRoYXQgZm9yIHRoZSBzZWNvbmQgaXRlbSwgcmVhc29uLm1lc3NhZ2Ugd2lsbCBiZSAnMicsIGFuZCBmb3IgdGhlXG4gICAgLy8gdGhpcmQgaXRlbSwgcmVhc29uLm1lc3NhZ2Ugd2lsbCBiZSAnMycuXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gTm90IHJ1bi4gKFRoaXMgYmxvY2sgd291bGQgb25seSBiZSBjYWxsZWQgaWYgYWxsU2V0dGxlZCBoYWQgZmFpbGVkLFxuICAgIC8vIGZvciBpbnN0YW5jZSBpZiBwYXNzZWQgYW4gaW5jb3JyZWN0IGFyZ3VtZW50IHR5cGUuKVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBhbGxTZXR0bGVkXG4gIEBzdGF0aWNcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXNcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIC0gb3B0aW9uYWwgc3RyaW5nIHRoYXQgZGVzY3JpYmVzIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiB0aGUgc2V0dGxlZFxuICBzdGF0ZXMgb2YgdGhlIGNvbnN0aXR1ZW50IHByb21pc2VzLlxuKi9cbmZ1bmN0aW9uIGFsbFNldHRsZWQoZW50cmllcywgbGFiZWwpIHtcbiAgcmV0dXJuIG5ldyBBbGxTZXR0bGVkKFByb21pc2UsIGVudHJpZXMsIGxhYmVsKS5wcm9taXNlO1xufVxuXG4vKipcbiAgVGhpcyBpcyBhIGNvbnZlbmllbnQgYWxpYXMgZm9yIGBSU1ZQLlByb21pc2UucmFjZWAuXG5cbiAgQG1ldGhvZCByYWNlXG4gIEBzdGF0aWNcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7QXJyYXl9IGFycmF5IEFycmF5IG9mIHByb21pc2VzLlxuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgQW4gb3B0aW9uYWwgbGFiZWwuIFRoaXMgaXMgdXNlZnVsXG4gIGZvciB0b29saW5nLlxuICovXG5mdW5jdGlvbiByYWNlJDEoYXJyYXksIGxhYmVsKSB7XG4gIHJldHVybiBQcm9taXNlLnJhY2UoYXJyYXksIGxhYmVsKTtcbn1cblxuZnVuY3Rpb24gUHJvbWlzZUhhc2goQ29uc3RydWN0b3IsIG9iamVjdCwgbGFiZWwpIHtcbiAgdGhpcy5fc3VwZXJDb25zdHJ1Y3RvcihDb25zdHJ1Y3Rvciwgb2JqZWN0LCB0cnVlLCBsYWJlbCk7XG59XG5cblByb21pc2VIYXNoLnByb3RvdHlwZSA9IG9fY3JlYXRlKEVudW1lcmF0b3IucHJvdG90eXBlKTtcblByb21pc2VIYXNoLnByb3RvdHlwZS5fc3VwZXJDb25zdHJ1Y3RvciA9IEVudW1lcmF0b3I7XG5Qcm9taXNlSGFzaC5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX3Jlc3VsdCA9IHt9O1xufTtcblxuUHJvbWlzZUhhc2gucHJvdG90eXBlLl92YWxpZGF0ZUlucHV0ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dCAmJiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnO1xufTtcblxuUHJvbWlzZUhhc2gucHJvdG90eXBlLl92YWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ1Byb21pc2UuaGFzaCBtdXN0IGJlIGNhbGxlZCB3aXRoIGFuIG9iamVjdCcpO1xufTtcblxuUHJvbWlzZUhhc2gucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBlbnVtZXJhdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBlbnVtZXJhdG9yLnByb21pc2U7XG4gIHZhciBpbnB1dCA9IGVudW1lcmF0b3IuX2lucHV0O1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBpbnB1dCkge1xuICAgIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gUEVORElORyAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5wdXQsIGtleSkpIHtcbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIHBvc2l0aW9uOiBrZXksXG4gICAgICAgIGVudHJ5OiBpbnB1dFtrZXldXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YXIgbGVuZ3RoID0gcmVzdWx0cy5sZW5ndGg7XG4gIGVudW1lcmF0b3IuX3JlbWFpbmluZyA9IGxlbmd0aDtcbiAgdmFyIHJlc3VsdCA9IHVuZGVmaW5lZDtcblxuICBmb3IgKHZhciBpID0gMDsgcHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ID0gcmVzdWx0c1tpXTtcbiAgICBlbnVtZXJhdG9yLl9lYWNoRW50cnkocmVzdWx0LmVudHJ5LCByZXN1bHQucG9zaXRpb24pO1xuICB9XG59O1xuXG4vKipcbiAgYFJTVlAuaGFzaGAgaXMgc2ltaWxhciB0byBgUlNWUC5hbGxgLCBidXQgdGFrZXMgYW4gb2JqZWN0IGluc3RlYWQgb2YgYW4gYXJyYXlcbiAgZm9yIGl0cyBgcHJvbWlzZXNgIGFyZ3VtZW50LlxuXG4gIFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIHRoZSBnaXZlbiBwcm9taXNlcyBoYXZlIGJlZW5cbiAgZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuIFRoZSByZXR1cm5lZCBwcm9taXNlXG4gIGlzIGZ1bGZpbGxlZCB3aXRoIGEgaGFzaCB0aGF0IGhhcyB0aGUgc2FtZSBrZXkgbmFtZXMgYXMgdGhlIGBwcm9taXNlc2Agb2JqZWN0XG4gIGFyZ3VtZW50LiBJZiBhbnkgb2YgdGhlIHZhbHVlcyBpbiB0aGUgb2JqZWN0IGFyZSBub3QgcHJvbWlzZXMsIHRoZXkgd2lsbFxuICBzaW1wbHkgYmUgY29waWVkIG92ZXIgdG8gdGhlIGZ1bGZpbGxlZCBvYmplY3QuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlcyA9IHtcbiAgICBteVByb21pc2U6IFJTVlAucmVzb2x2ZSgxKSxcbiAgICB5b3VyUHJvbWlzZTogUlNWUC5yZXNvbHZlKDIpLFxuICAgIHRoZWlyUHJvbWlzZTogUlNWUC5yZXNvbHZlKDMpLFxuICAgIG5vdEFQcm9taXNlOiA0XG4gIH07XG5cbiAgUlNWUC5oYXNoKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGhhc2gpe1xuICAgIC8vIGhhc2ggaGVyZSBpcyBhbiBvYmplY3QgdGhhdCBsb29rcyBsaWtlOlxuICAgIC8vIHtcbiAgICAvLyAgIG15UHJvbWlzZTogMSxcbiAgICAvLyAgIHlvdXJQcm9taXNlOiAyLFxuICAgIC8vICAgdGhlaXJQcm9taXNlOiAzLFxuICAgIC8vICAgbm90QVByb21pc2U6IDRcbiAgICAvLyB9XG4gIH0pO1xuICBgYGBgXG5cbiAgSWYgYW55IG9mIHRoZSBgcHJvbWlzZXNgIGdpdmVuIHRvIGBSU1ZQLmhhc2hgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIHRoZSByZWFzb24gdG8gdGhlIHJlamVjdGlvbiBoYW5kbGVyLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZXMgPSB7XG4gICAgbXlQcm9taXNlOiBSU1ZQLnJlc29sdmUoMSksXG4gICAgcmVqZWN0ZWRQcm9taXNlOiBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJ3JlamVjdGVkUHJvbWlzZScpKSxcbiAgICBhbm90aGVyUmVqZWN0ZWRQcm9taXNlOiBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJ2Fub3RoZXJSZWplY3RlZFByb21pc2UnKSksXG4gIH07XG5cbiAgUlNWUC5oYXNoKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGhhc2gpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ3JlamVjdGVkUHJvbWlzZSdcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGltcG9ydGFudCBub3RlOiBgUlNWUC5oYXNoYCBpcyBpbnRlbmRlZCBmb3IgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3RzIHRoYXRcbiAgYXJlIGp1c3QgYSBzZXQgb2Yga2V5cyBhbmQgdmFsdWVzLiBgUlNWUC5oYXNoYCB3aWxsIE5PVCBwcmVzZXJ2ZSBwcm90b3R5cGVcbiAgY2hhaW5zLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBmdW5jdGlvbiBNeUNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5leGFtcGxlID0gUlNWUC5yZXNvbHZlKCdFeGFtcGxlJyk7XG4gIH1cblxuICBNeUNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IHtcbiAgICBwcm90b1Byb3BlcnR5OiBSU1ZQLnJlc29sdmUoJ1Byb3RvIFByb3BlcnR5JylcbiAgfTtcblxuICBsZXQgbXlPYmplY3QgPSBuZXcgTXlDb25zdHJ1Y3RvcigpO1xuXG4gIFJTVlAuaGFzaChteU9iamVjdCkudGhlbihmdW5jdGlvbihoYXNoKXtcbiAgICAvLyBwcm90b1Byb3BlcnR5IHdpbGwgbm90IGJlIHByZXNlbnQsIGluc3RlYWQgeW91IHdpbGwganVzdCBoYXZlIGFuXG4gICAgLy8gb2JqZWN0IHRoYXQgbG9va3MgbGlrZTpcbiAgICAvLyB7XG4gICAgLy8gICBleGFtcGxlOiAnRXhhbXBsZSdcbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyBoYXNoLmhhc093blByb3BlcnR5KCdwcm90b1Byb3BlcnR5Jyk7IC8vIGZhbHNlXG4gICAgLy8gJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiBoYXNoLnByb3RvUHJvcGVydHlcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgaGFzaFxuICBAc3RhdGljXG4gIEBmb3IgUlNWUFxuICBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgdGhhdCBkZXNjcmliZXMgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBwcm9wZXJ0aWVzIG9mIGBwcm9taXNlc2BcbiAgaGF2ZSBiZWVuIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuKi9cbmZ1bmN0aW9uIGhhc2gob2JqZWN0LCBsYWJlbCkge1xuICByZXR1cm4gbmV3IFByb21pc2VIYXNoKFByb21pc2UsIG9iamVjdCwgbGFiZWwpLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIEhhc2hTZXR0bGVkKENvbnN0cnVjdG9yLCBvYmplY3QsIGxhYmVsKSB7XG4gIHRoaXMuX3N1cGVyQ29uc3RydWN0b3IoQ29uc3RydWN0b3IsIG9iamVjdCwgZmFsc2UsIGxhYmVsKTtcbn1cblxuSGFzaFNldHRsZWQucHJvdG90eXBlID0gb19jcmVhdGUoUHJvbWlzZUhhc2gucHJvdG90eXBlKTtcbkhhc2hTZXR0bGVkLnByb3RvdHlwZS5fc3VwZXJDb25zdHJ1Y3RvciA9IEVudW1lcmF0b3I7XG5IYXNoU2V0dGxlZC5wcm90b3R5cGUuX21ha2VSZXN1bHQgPSBtYWtlU2V0dGxlZFJlc3VsdDtcblxuSGFzaFNldHRsZWQucHJvdG90eXBlLl92YWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ2hhc2hTZXR0bGVkIG11c3QgYmUgY2FsbGVkIHdpdGggYW4gb2JqZWN0Jyk7XG59O1xuXG4vKipcbiAgYFJTVlAuaGFzaFNldHRsZWRgIGlzIHNpbWlsYXIgdG8gYFJTVlAuYWxsU2V0dGxlZGAsIGJ1dCB0YWtlcyBhbiBvYmplY3RcbiAgaW5zdGVhZCBvZiBhbiBhcnJheSBmb3IgaXRzIGBwcm9taXNlc2AgYXJndW1lbnQuXG5cbiAgVW5saWtlIGBSU1ZQLmFsbGAgb3IgYFJTVlAuaGFzaGAsIHdoaWNoIGltcGxlbWVudCBhIGZhaWwtZmFzdCBtZXRob2QsXG4gIGJ1dCBsaWtlIGBSU1ZQLmFsbFNldHRsZWRgLCBgaGFzaFNldHRsZWRgIHdhaXRzIHVudGlsIGFsbCB0aGVcbiAgY29uc3RpdHVlbnQgcHJvbWlzZXMgaGF2ZSByZXR1cm5lZCBhbmQgdGhlbiBzaG93cyB5b3UgYWxsIHRoZSByZXN1bHRzXG4gIHdpdGggdGhlaXIgc3RhdGVzIGFuZCB2YWx1ZXMvcmVhc29ucy4gVGhpcyBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG9cbiAgaGFuZGxlIG11bHRpcGxlIHByb21pc2VzJyBmYWlsdXJlIHN0YXRlcyB0b2dldGhlciBhcyBhIHNldC5cblxuICBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCB0aGUgZ2l2ZW4gcHJvbWlzZXMgaGF2ZSBiZWVuXG4gIHNldHRsZWQsIG9yIHJlamVjdGVkIGlmIHRoZSBwYXNzZWQgcGFyYW1ldGVycyBhcmUgaW52YWxpZC5cblxuICBUaGUgcmV0dXJuZWQgcHJvbWlzZSBpcyBmdWxmaWxsZWQgd2l0aCBhIGhhc2ggdGhhdCBoYXMgdGhlIHNhbWUga2V5IG5hbWVzIGFzXG4gIHRoZSBgcHJvbWlzZXNgIG9iamVjdCBhcmd1bWVudC4gSWYgYW55IG9mIHRoZSB2YWx1ZXMgaW4gdGhlIG9iamVjdCBhcmUgbm90XG4gIHByb21pc2VzLCB0aGV5IHdpbGwgYmUgY29waWVkIG92ZXIgdG8gdGhlIGZ1bGZpbGxlZCBvYmplY3QgYW5kIG1hcmtlZCB3aXRoIHN0YXRlXG4gICdmdWxmaWxsZWQnLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZXMgPSB7XG4gICAgbXlQcm9taXNlOiBSU1ZQLlByb21pc2UucmVzb2x2ZSgxKSxcbiAgICB5b3VyUHJvbWlzZTogUlNWUC5Qcm9taXNlLnJlc29sdmUoMiksXG4gICAgdGhlaXJQcm9taXNlOiBSU1ZQLlByb21pc2UucmVzb2x2ZSgzKSxcbiAgICBub3RBUHJvbWlzZTogNFxuICB9O1xuXG4gIFJTVlAuaGFzaFNldHRsZWQocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oaGFzaCl7XG4gICAgLy8gaGFzaCBoZXJlIGlzIGFuIG9iamVjdCB0aGF0IGxvb2tzIGxpa2U6XG4gICAgLy8ge1xuICAgIC8vICAgbXlQcm9taXNlOiB7IHN0YXRlOiAnZnVsZmlsbGVkJywgdmFsdWU6IDEgfSxcbiAgICAvLyAgIHlvdXJQcm9taXNlOiB7IHN0YXRlOiAnZnVsZmlsbGVkJywgdmFsdWU6IDIgfSxcbiAgICAvLyAgIHRoZWlyUHJvbWlzZTogeyBzdGF0ZTogJ2Z1bGZpbGxlZCcsIHZhbHVlOiAzIH0sXG4gICAgLy8gICBub3RBUHJvbWlzZTogeyBzdGF0ZTogJ2Z1bGZpbGxlZCcsIHZhbHVlOiA0IH1cbiAgICAvLyB9XG4gIH0pO1xuICBgYGBcblxuICBJZiBhbnkgb2YgdGhlIGBwcm9taXNlc2AgZ2l2ZW4gdG8gYFJTVlAuaGFzaGAgYXJlIHJlamVjdGVkLCB0aGUgc3RhdGUgd2lsbFxuICBiZSBzZXQgdG8gJ3JlamVjdGVkJyBhbmQgdGhlIHJlYXNvbiBmb3IgcmVqZWN0aW9uIHByb3ZpZGVkLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZXMgPSB7XG4gICAgbXlQcm9taXNlOiBSU1ZQLlByb21pc2UucmVzb2x2ZSgxKSxcbiAgICByZWplY3RlZFByb21pc2U6IFJTVlAuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdyZWplY3Rpb24nKSksXG4gICAgYW5vdGhlclJlamVjdGVkUHJvbWlzZTogUlNWUC5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ21vcmUgcmVqZWN0aW9uJykpLFxuICB9O1xuXG4gIFJTVlAuaGFzaFNldHRsZWQocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oaGFzaCl7XG4gICAgLy8gaGFzaCBoZXJlIGlzIGFuIG9iamVjdCB0aGF0IGxvb2tzIGxpa2U6XG4gICAgLy8ge1xuICAgIC8vICAgbXlQcm9taXNlOiAgICAgICAgICAgICAgeyBzdGF0ZTogJ2Z1bGZpbGxlZCcsIHZhbHVlOiAxIH0sXG4gICAgLy8gICByZWplY3RlZFByb21pc2U6ICAgICAgICB7IHN0YXRlOiAncmVqZWN0ZWQnLCByZWFzb246IEVycm9yIH0sXG4gICAgLy8gICBhbm90aGVyUmVqZWN0ZWRQcm9taXNlOiB7IHN0YXRlOiAncmVqZWN0ZWQnLCByZWFzb246IEVycm9yIH0sXG4gICAgLy8gfVxuICAgIC8vIE5vdGUgdGhhdCBmb3IgcmVqZWN0ZWRQcm9taXNlLCByZWFzb24ubWVzc2FnZSA9PSAncmVqZWN0aW9uJyxcbiAgICAvLyBhbmQgZm9yIGFub3RoZXJSZWplY3RlZFByb21pc2UsIHJlYXNvbi5tZXNzYWdlID09ICdtb3JlIHJlamVjdGlvbicuXG4gIH0pO1xuICBgYGBcblxuICBBbiBpbXBvcnRhbnQgbm90ZTogYFJTVlAuaGFzaFNldHRsZWRgIGlzIGludGVuZGVkIGZvciBwbGFpbiBKYXZhU2NyaXB0IG9iamVjdHMgdGhhdFxuICBhcmUganVzdCBhIHNldCBvZiBrZXlzIGFuZCB2YWx1ZXMuIGBSU1ZQLmhhc2hTZXR0bGVkYCB3aWxsIE5PVCBwcmVzZXJ2ZSBwcm90b3R5cGVcbiAgY2hhaW5zLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBmdW5jdGlvbiBNeUNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5leGFtcGxlID0gUlNWUC5Qcm9taXNlLnJlc29sdmUoJ0V4YW1wbGUnKTtcbiAgfVxuXG4gIE15Q29uc3RydWN0b3IucHJvdG90eXBlID0ge1xuICAgIHByb3RvUHJvcGVydHk6IFJTVlAuUHJvbWlzZS5yZXNvbHZlKCdQcm90byBQcm9wZXJ0eScpXG4gIH07XG5cbiAgbGV0IG15T2JqZWN0ID0gbmV3IE15Q29uc3RydWN0b3IoKTtcblxuICBSU1ZQLmhhc2hTZXR0bGVkKG15T2JqZWN0KS50aGVuKGZ1bmN0aW9uKGhhc2gpe1xuICAgIC8vIHByb3RvUHJvcGVydHkgd2lsbCBub3QgYmUgcHJlc2VudCwgaW5zdGVhZCB5b3Ugd2lsbCBqdXN0IGhhdmUgYW5cbiAgICAvLyBvYmplY3QgdGhhdCBsb29rcyBsaWtlOlxuICAgIC8vIHtcbiAgICAvLyAgIGV4YW1wbGU6IHsgc3RhdGU6ICdmdWxmaWxsZWQnLCB2YWx1ZTogJ0V4YW1wbGUnIH1cbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyBoYXNoLmhhc093blByb3BlcnR5KCdwcm90b1Byb3BlcnR5Jyk7IC8vIGZhbHNlXG4gICAgLy8gJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiBoYXNoLnByb3RvUHJvcGVydHlcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgaGFzaFNldHRsZWRcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyB0aGF0IGRlc2NyaWJlcyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gd2hlbiBhbGwgcHJvcGVydGllcyBvZiBgcHJvbWlzZXNgXG4gIGhhdmUgYmVlbiBzZXR0bGVkLlxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gaGFzaFNldHRsZWQob2JqZWN0LCBsYWJlbCkge1xuICByZXR1cm4gbmV3IEhhc2hTZXR0bGVkKFByb21pc2UsIG9iamVjdCwgbGFiZWwpLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHJldGhyb3cocmVhc29uKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHRocm93IHJlYXNvbjtcbiAgfSk7XG4gIHRocm93IHJlYXNvbjtcbn1cblxuLyoqXG4gIGBSU1ZQLmRlZmVyYCByZXR1cm5zIGFuIG9iamVjdCBzaW1pbGFyIHRvIGpRdWVyeSdzIGAkLkRlZmVycmVkYC5cbiAgYFJTVlAuZGVmZXJgIHNob3VsZCBiZSB1c2VkIHdoZW4gcG9ydGluZyBvdmVyIGNvZGUgcmVsaWFudCBvbiBgJC5EZWZlcnJlZGAnc1xuICBpbnRlcmZhY2UuIE5ldyBjb2RlIHNob3VsZCB1c2UgdGhlIGBSU1ZQLlByb21pc2VgIGNvbnN0cnVjdG9yIGluc3RlYWQuXG5cbiAgVGhlIG9iamVjdCByZXR1cm5lZCBmcm9tIGBSU1ZQLmRlZmVyYCBpcyBhIHBsYWluIG9iamVjdCB3aXRoIHRocmVlIHByb3BlcnRpZXM6XG5cbiAgKiBwcm9taXNlIC0gYW4gYFJTVlAuUHJvbWlzZWAuXG4gICogcmVqZWN0IC0gYSBmdW5jdGlvbiB0aGF0IGNhdXNlcyB0aGUgYHByb21pc2VgIHByb3BlcnR5IG9uIHRoaXMgb2JqZWN0IHRvXG4gICAgYmVjb21lIHJlamVjdGVkXG4gICogcmVzb2x2ZSAtIGEgZnVuY3Rpb24gdGhhdCBjYXVzZXMgdGhlIGBwcm9taXNlYCBwcm9wZXJ0eSBvbiB0aGlzIG9iamVjdCB0b1xuICAgIGJlY29tZSBmdWxmaWxsZWQuXG5cbiAgRXhhbXBsZTpcblxuICAgYGBgamF2YXNjcmlwdFxuICAgbGV0IGRlZmVycmVkID0gUlNWUC5kZWZlcigpO1xuXG4gICBkZWZlcnJlZC5yZXNvbHZlKFwiU3VjY2VzcyFcIik7XG5cbiAgIGRlZmVycmVkLnByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgIC8vIHZhbHVlIGhlcmUgaXMgXCJTdWNjZXNzIVwiXG4gICB9KTtcbiAgIGBgYFxuXG4gIEBtZXRob2QgZGVmZXJcbiAgQHN0YXRpY1xuICBAZm9yIFJTVlBcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBkZWZlcihsYWJlbCkge1xuICB2YXIgZGVmZXJyZWQgPSB7IHJlc29sdmU6IHVuZGVmaW5lZCwgcmVqZWN0OiB1bmRlZmluZWQgfTtcblxuICBkZWZlcnJlZC5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGRlZmVycmVkLnJlc29sdmUgPSByZXNvbHZlO1xuICAgIGRlZmVycmVkLnJlamVjdCA9IHJlamVjdDtcbiAgfSwgbGFiZWwpO1xuXG4gIHJldHVybiBkZWZlcnJlZDtcbn1cblxuLyoqXG4gYFJTVlAubWFwYCBpcyBzaW1pbGFyIHRvIEphdmFTY3JpcHQncyBuYXRpdmUgYG1hcGAgbWV0aG9kLCBleGNlcHQgdGhhdCBpdFxuICB3YWl0cyBmb3IgYWxsIHByb21pc2VzIHRvIGJlY29tZSBmdWxmaWxsZWQgYmVmb3JlIHJ1bm5pbmcgdGhlIGBtYXBGbmAgb25cbiAgZWFjaCBpdGVtIGluIGdpdmVuIHRvIGBwcm9taXNlc2AuIGBSU1ZQLm1hcGAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsXG4gIGJlY29tZSBmdWxmaWxsZWQgd2l0aCB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYG1hcEZuYCBvbiB0aGUgdmFsdWVzIHRoZSBwcm9taXNlc1xuICBiZWNvbWUgZnVsZmlsbGVkIHdpdGguXG5cbiAgRm9yIGV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuXG4gIGxldCBwcm9taXNlMSA9IFJTVlAucmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gUlNWUC5yZXNvbHZlKDIpO1xuICBsZXQgcHJvbWlzZTMgPSBSU1ZQLnJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIGxldCBtYXBGbiA9IGZ1bmN0aW9uKGl0ZW0pe1xuICAgIHJldHVybiBpdGVtICsgMTtcbiAgfTtcblxuICBSU1ZQLm1hcChwcm9taXNlcywgbWFwRm4pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgaXMgWyAyLCAzLCA0IF1cbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgUlNWUC5tYXBgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSByZXR1cm5lZCBwcm9taXNlJ3NcbiAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gUlNWUC5yZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJzInKSk7XG4gIGxldCBwcm9taXNlMyA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcignMycpKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgbGV0IG1hcEZuID0gZnVuY3Rpb24oaXRlbSl7XG4gICAgcmV0dXJuIGl0ZW0gKyAxO1xuICB9O1xuXG4gIFJTVlAubWFwKHByb21pc2VzLCBtYXBGbikudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnMidcbiAgfSk7XG4gIGBgYFxuXG4gIGBSU1ZQLm1hcGAgd2lsbCBhbHNvIHdhaXQgaWYgYSBwcm9taXNlIGlzIHJldHVybmVkIGZyb20gYG1hcEZuYC4gRm9yIGV4YW1wbGUsXG4gIHNheSB5b3Ugd2FudCB0byBnZXQgYWxsIGNvbW1lbnRzIGZyb20gYSBzZXQgb2YgYmxvZyBwb3N0cywgYnV0IHlvdSBuZWVkXG4gIHRoZSBibG9nIHBvc3RzIGZpcnN0IGJlY2F1c2UgdGhleSBjb250YWluIGEgdXJsIHRvIHRob3NlIGNvbW1lbnRzLlxuXG4gIGBgYGphdnNjcmlwdFxuXG4gIGxldCBtYXBGbiA9IGZ1bmN0aW9uKGJsb2dQb3N0KXtcbiAgICAvLyBnZXRDb21tZW50cyBkb2VzIHNvbWUgYWpheCBhbmQgcmV0dXJucyBhbiBSU1ZQLlByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWRcbiAgICAvLyB3aXRoIHNvbWUgY29tbWVudHMgZGF0YVxuICAgIHJldHVybiBnZXRDb21tZW50cyhibG9nUG9zdC5jb21tZW50c191cmwpO1xuICB9O1xuXG4gIC8vIGdldEJsb2dQb3N0cyBkb2VzIHNvbWUgYWpheCBhbmQgcmV0dXJucyBhbiBSU1ZQLlByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWRcbiAgLy8gd2l0aCBzb21lIGJsb2cgcG9zdCBkYXRhXG4gIFJTVlAubWFwKGdldEJsb2dQb3N0cygpLCBtYXBGbikudGhlbihmdW5jdGlvbihjb21tZW50cyl7XG4gICAgLy8gY29tbWVudHMgaXMgdGhlIHJlc3VsdCBvZiBhc2tpbmcgdGhlIHNlcnZlciBmb3IgdGhlIGNvbW1lbnRzXG4gICAgLy8gb2YgYWxsIGJsb2cgcG9zdHMgcmV0dXJuZWQgZnJvbSBnZXRCbG9nUG9zdHMoKVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBtYXBcbiAgQHN0YXRpY1xuICBAZm9yIFJTVlBcbiAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXNcbiAgQHBhcmFtIHtGdW5jdGlvbn0gbWFwRm4gZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGVhY2ggZnVsZmlsbGVkIHByb21pc2UuXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgcmVzdWx0IG9mIGNhbGxpbmdcbiAgYG1hcEZuYCBvbiBlYWNoIGZ1bGZpbGxlZCBwcm9taXNlIG9yIHZhbHVlIHdoZW4gdGhleSBiZWNvbWUgZnVsZmlsbGVkLlxuICAgVGhlIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCBpZiBhbnkgb2YgdGhlIGdpdmVuIGBwcm9taXNlc2AgYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gbWFwKHByb21pc2VzLCBtYXBGbiwgbGFiZWwpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzLCBsYWJlbCkudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKG1hcEZuKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHBhc3MgYSBmdW5jdGlvbiBhcyBtYXAncyBzZWNvbmQgYXJndW1lbnQuXCIpO1xuICAgIH1cblxuICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRzW2ldID0gbWFwRm4odmFsdWVzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cywgbGFiZWwpO1xuICB9KTtcbn1cblxuLyoqXG4gIFRoaXMgaXMgYSBjb252ZW5pZW50IGFsaWFzIGZvciBgUlNWUC5Qcm9taXNlLnJlc29sdmVgLlxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBmb3IgUlNWUFxuICBAcGFyYW0geyp9IHZhbHVlIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aXRoXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGlkZW50aWZ5aW5nIHRoZSByZXR1cm5lZCBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZnVuY3Rpb24gcmVzb2x2ZSQyKHZhbHVlLCBsYWJlbCkge1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlLCBsYWJlbCk7XG59XG5cbi8qKlxuICBUaGlzIGlzIGEgY29udmVuaWVudCBhbGlhcyBmb3IgYFJTVlAuUHJvbWlzZS5yZWplY3RgLlxuXG4gIEBtZXRob2QgcmVqZWN0XG4gIEBzdGF0aWNcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7Kn0gcmVhc29uIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCB3aXRoLlxuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBpZGVudGlmeWluZyB0aGUgcmV0dXJuZWQgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgZ2l2ZW4gYHJlYXNvbmAuXG4qL1xuZnVuY3Rpb24gcmVqZWN0JDIocmVhc29uLCBsYWJlbCkge1xuICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uLCBsYWJlbCk7XG59XG5cbi8qKlxuIGBSU1ZQLmZpbHRlcmAgaXMgc2ltaWxhciB0byBKYXZhU2NyaXB0J3MgbmF0aXZlIGBmaWx0ZXJgIG1ldGhvZCwgZXhjZXB0IHRoYXQgaXRcbiAgd2FpdHMgZm9yIGFsbCBwcm9taXNlcyB0byBiZWNvbWUgZnVsZmlsbGVkIGJlZm9yZSBydW5uaW5nIHRoZSBgZmlsdGVyRm5gIG9uXG4gIGVhY2ggaXRlbSBpbiBnaXZlbiB0byBgcHJvbWlzZXNgLiBgUlNWUC5maWx0ZXJgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbFxuICBiZWNvbWUgZnVsZmlsbGVkIHdpdGggdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBmaWx0ZXJGbmAgb24gdGhlIHZhbHVlcyB0aGVcbiAgcHJvbWlzZXMgYmVjb21lIGZ1bGZpbGxlZCB3aXRoLlxuXG4gIEZvciBleGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcblxuICBsZXQgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IFJTVlAucmVzb2x2ZSgyKTtcbiAgbGV0IHByb21pc2UzID0gUlNWUC5yZXNvbHZlKDMpO1xuXG4gIGxldCBwcm9taXNlcyA9IFtwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzXTtcblxuICBsZXQgZmlsdGVyRm4gPSBmdW5jdGlvbihpdGVtKXtcbiAgICByZXR1cm4gaXRlbSA+IDE7XG4gIH07XG5cbiAgUlNWUC5maWx0ZXIocHJvbWlzZXMsIGZpbHRlckZuKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gcmVzdWx0IGlzIFsgMiwgMyBdXG4gIH0pO1xuICBgYGBcblxuICBJZiBhbnkgb2YgdGhlIGBwcm9taXNlc2AgZ2l2ZW4gdG8gYFJTVlAuZmlsdGVyYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZSdzXG4gIHJlamVjdGlvbiBoYW5kbGVyLiBGb3IgZXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IFJTVlAucmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gUlNWUC5yZWplY3QobmV3IEVycm9yKCcyJykpO1xuICBsZXQgcHJvbWlzZTMgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJzMnKSk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIGxldCBmaWx0ZXJGbiA9IGZ1bmN0aW9uKGl0ZW0pe1xuICAgIHJldHVybiBpdGVtID4gMTtcbiAgfTtcblxuICBSU1ZQLmZpbHRlcihwcm9taXNlcywgZmlsdGVyRm4pLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJzInXG4gIH0pO1xuICBgYGBcblxuICBgUlNWUC5maWx0ZXJgIHdpbGwgYWxzbyB3YWl0IGZvciBhbnkgcHJvbWlzZXMgcmV0dXJuZWQgZnJvbSBgZmlsdGVyRm5gLlxuICBGb3IgaW5zdGFuY2UsIHlvdSBtYXkgd2FudCB0byBmZXRjaCBhIGxpc3Qgb2YgdXNlcnMgdGhlbiByZXR1cm4gYSBzdWJzZXRcbiAgb2YgdGhvc2UgdXNlcnMgYmFzZWQgb24gc29tZSBhc3luY2hyb25vdXMgb3BlcmF0aW9uOlxuXG4gIGBgYGphdmFzY3JpcHRcblxuICBsZXQgYWxpY2UgPSB7IG5hbWU6ICdhbGljZScgfTtcbiAgbGV0IGJvYiAgID0geyBuYW1lOiAnYm9iJyB9O1xuICBsZXQgdXNlcnMgPSBbIGFsaWNlLCBib2IgXTtcblxuICBsZXQgcHJvbWlzZXMgPSB1c2Vycy5tYXAoZnVuY3Rpb24odXNlcil7XG4gICAgcmV0dXJuIFJTVlAucmVzb2x2ZSh1c2VyKTtcbiAgfSk7XG5cbiAgbGV0IGZpbHRlckZuID0gZnVuY3Rpb24odXNlcil7XG4gICAgLy8gSGVyZSwgQWxpY2UgaGFzIHBlcm1pc3Npb25zIHRvIGNyZWF0ZSBhIGJsb2cgcG9zdCwgYnV0IEJvYiBkb2VzIG5vdC5cbiAgICByZXR1cm4gZ2V0UHJpdmlsZWdlc0ZvclVzZXIodXNlcikudGhlbihmdW5jdGlvbihwcml2cyl7XG4gICAgICByZXR1cm4gcHJpdnMuY2FuX2NyZWF0ZV9ibG9nX3Bvc3QgPT09IHRydWU7XG4gICAgfSk7XG4gIH07XG4gIFJTVlAuZmlsdGVyKHByb21pc2VzLCBmaWx0ZXJGbikudGhlbihmdW5jdGlvbih1c2Vycyl7XG4gICAgLy8gdHJ1ZSwgYmVjYXVzZSB0aGUgc2VydmVyIHRvbGQgdXMgb25seSBBbGljZSBjYW4gY3JlYXRlIGEgYmxvZyBwb3N0LlxuICAgIHVzZXJzLmxlbmd0aCA9PT0gMTtcbiAgICAvLyBmYWxzZSwgYmVjYXVzZSBBbGljZSBpcyB0aGUgb25seSB1c2VyIHByZXNlbnQgaW4gYHVzZXJzYFxuICAgIHVzZXJzWzBdID09PSBib2I7XG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIGZpbHRlclxuICBAc3RhdGljXG4gIEBmb3IgUlNWUFxuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlc1xuICBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXJGbiAtIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBlYWNoIHJlc29sdmVkIHZhbHVlIHRvXG4gIGZpbHRlciB0aGUgZmluYWwgcmVzdWx0cy5cbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBkZXNjcmliaW5nIHRoZSBwcm9taXNlLiBVc2VmdWwgZm9yXG4gIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9XG4qL1xuXG5mdW5jdGlvbiByZXNvbHZlQWxsKHByb21pc2VzLCBsYWJlbCkge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMsIGxhYmVsKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVNpbmdsZShwcm9taXNlLCBsYWJlbCkge1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb21pc2UsIGxhYmVsKS50aGVuKGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgIHJldHVybiByZXNvbHZlQWxsKHByb21pc2VzLCBsYWJlbCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gZmlsdGVyKHByb21pc2VzLCBmaWx0ZXJGbiwgbGFiZWwpIHtcbiAgdmFyIHByb21pc2UgPSBpc0FycmF5KHByb21pc2VzKSA/IHJlc29sdmVBbGwocHJvbWlzZXMsIGxhYmVsKSA6IHJlc29sdmVTaW5nbGUocHJvbWlzZXMsIGxhYmVsKTtcbiAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGZpbHRlckZuKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHBhc3MgYSBmdW5jdGlvbiBhcyBmaWx0ZXIncyBzZWNvbmQgYXJndW1lbnQuXCIpO1xuICAgIH1cblxuICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgIHZhciBmaWx0ZXJlZCA9IG5ldyBBcnJheShsZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgZmlsdGVyZWRbaV0gPSBmaWx0ZXJGbih2YWx1ZXNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXNvbHZlQWxsKGZpbHRlcmVkLCBsYWJlbCkudGhlbihmdW5jdGlvbiAoZmlsdGVyZWQpIHtcbiAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICB2YXIgbmV3TGVuZ3RoID0gMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZmlsdGVyZWRbaV0pIHtcbiAgICAgICAgICByZXN1bHRzW25ld0xlbmd0aF0gPSB2YWx1ZXNbaV07XG4gICAgICAgICAgbmV3TGVuZ3RoKys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVzdWx0cy5sZW5ndGggPSBuZXdMZW5ndGg7XG5cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0pO1xuICB9KTtcbn1cblxudmFyIGxlbiA9IDA7XG52YXIgdmVydHhOZXh0ID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlJDFbbGVuXSA9IGNhbGxiYWNrO1xuICBxdWV1ZSQxW2xlbiArIDFdID0gYXJnO1xuICBsZW4gKz0gMjtcbiAgaWYgKGxlbiA9PT0gMikge1xuICAgIC8vIElmIGxlbiBpcyAxLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAvLyBJZiBhZGRpdGlvbmFsIGNhbGxiYWNrcyBhcmUgcXVldWVkIGJlZm9yZSB0aGUgcXVldWUgaXMgZmx1c2hlZCwgdGhleVxuICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICBzY2hlZHVsZUZsdXNoJDEoKTtcbiAgfVxufVxuXG52YXIgYnJvd3NlcldpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdW5kZWZpbmVkO1xudmFyIGJyb3dzZXJHbG9iYWwgPSBicm93c2VyV2luZG93IHx8IHt9O1xudmFyIEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gYnJvd3Nlckdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBpc05vZGUgPSB0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICh7fSkudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4vLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxudmFyIGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuLy8gbm9kZVxuZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gIHZhciBuZXh0VGljayA9IHByb2Nlc3MubmV4dFRpY2s7XG4gIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAvLyBzZXRJbW1lZGlhdGUgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBpbnN0ZWFkXG4gIHZhciB2ZXJzaW9uID0gcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLm1hdGNoKC9eKD86KFxcZCspXFwuKT8oPzooXFxkKylcXC4pPyhcXCp8XFxkKykkLyk7XG4gIGlmIChBcnJheS5pc0FycmF5KHZlcnNpb24pICYmIHZlcnNpb25bMV0gPT09ICcwJyAmJiB2ZXJzaW9uWzJdID09PSAnMTAnKSB7XG4gICAgbmV4dFRpY2sgPSBzZXRJbW1lZGlhdGU7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV4dFRpY2soZmx1c2gpO1xuICB9O1xufVxuXG4vLyB2ZXJ0eFxuZnVuY3Rpb24gdXNlVmVydHhUaW1lcigpIHtcbiAgaWYgKHR5cGVvZiB2ZXJ0eE5leHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZlcnR4TmV4dChmbHVzaCk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBub2RlLmRhdGEgPSBpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMjtcbiAgfTtcbn1cblxuLy8gd2ViIHdvcmtlclxuZnVuY3Rpb24gdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZmx1c2g7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVNldFRpbWVvdXQoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUkMSA9IG5ldyBBcnJheSgxMDAwKTtcblxuZnVuY3Rpb24gZmx1c2goKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZSQxW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZSQxW2kgKyAxXTtcblxuICAgIGNhbGxiYWNrKGFyZyk7XG5cbiAgICBxdWV1ZSQxW2ldID0gdW5kZWZpbmVkO1xuICAgIHF1ZXVlJDFbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnRleCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgciA9IHJlcXVpcmU7XG4gICAgdmFyIHZlcnR4ID0gcigndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoJDEgPSB1bmRlZmluZWQ7XG4vLyBEZWNpZGUgd2hhdCBhc3luYyBtZXRob2QgdG8gdXNlIHRvIHRyaWdnZXJpbmcgcHJvY2Vzc2luZyBvZiBxdWV1ZWQgY2FsbGJhY2tzOlxuaWYgKGlzTm9kZSkge1xuICBzY2hlZHVsZUZsdXNoJDEgPSB1c2VOZXh0VGljaygpO1xufSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICBzY2hlZHVsZUZsdXNoJDEgPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2gkMSA9IHVzZU1lc3NhZ2VDaGFubmVsKCk7XG59IGVsc2UgaWYgKGJyb3dzZXJXaW5kb3cgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICBzY2hlZHVsZUZsdXNoJDEgPSBhdHRlbXB0VmVydGV4KCk7XG59IGVsc2Uge1xuICBzY2hlZHVsZUZsdXNoJDEgPSB1c2VTZXRUaW1lb3V0KCk7XG59XG5cbnZhciBwbGF0Zm9ybSA9IHVuZGVmaW5lZDtcblxuLyogZ2xvYmFsIHNlbGYgKi9cbmlmICh0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcpIHtcbiAgcGxhdGZvcm0gPSBzZWxmO1xuXG4gIC8qIGdsb2JhbCBnbG9iYWwgKi9cbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcpIHtcbiAgICBwbGF0Zm9ybSA9IGdsb2JhbDtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGdsb2JhbDogYHNlbGZgIG9yIGBnbG9iYWxgIGZvdW5kJyk7XG4gIH1cblxudmFyIF9hc3luYyRmaWx0ZXI7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8vIGRlZmF1bHRzXG5cbi8vIHRoZSBkZWZhdWx0IGV4cG9ydCBoZXJlIGlzIGZvciBiYWNrd2FyZHMgY29tcGF0OlxuLy8gICBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2lzc3Vlcy80MzRcbmNvbmZpZy5hc3luYyA9IGFzYXA7XG5jb25maWcuYWZ0ZXIgPSBmdW5jdGlvbiAoY2IpIHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoY2IsIDApO1xufTtcbnZhciBjYXN0ID0gcmVzb2x2ZSQyO1xuXG52YXIgYXN5bmMgPSBmdW5jdGlvbiBhc3luYyhjYWxsYmFjaywgYXJnKSB7XG4gIHJldHVybiBjb25maWcuYXN5bmMoY2FsbGJhY2ssIGFyZyk7XG59O1xuXG5mdW5jdGlvbiBvbigpIHtcbiAgY29uZmlnWydvbiddLmFwcGx5KGNvbmZpZywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gb2ZmKCkge1xuICBjb25maWdbJ29mZiddLmFwcGx5KGNvbmZpZywgYXJndW1lbnRzKTtcbn1cblxuLy8gU2V0IHVwIGluc3RydW1lbnRhdGlvbiB0aHJvdWdoIGB3aW5kb3cuX19QUk9NSVNFX0lOVFJVTUVOVEFUSU9OX19gXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvd1snX19QUk9NSVNFX0lOU1RSVU1FTlRBVElPTl9fJ10gPT09ICdvYmplY3QnKSB7XG4gIHZhciBjYWxsYmFja3MgPSB3aW5kb3dbJ19fUFJPTUlTRV9JTlNUUlVNRU5UQVRJT05fXyddO1xuICBjb25maWd1cmUoJ2luc3RydW1lbnQnLCB0cnVlKTtcbiAgZm9yICh2YXIgZXZlbnROYW1lIGluIGNhbGxiYWNrcykge1xuICAgIGlmIChjYWxsYmFja3MuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKSkge1xuICAgICAgb24oZXZlbnROYW1lLCBjYWxsYmFja3NbZXZlbnROYW1lXSk7XG4gICAgfVxuICB9XG59dmFyIHJzdnAgPSAoX2FzeW5jJGZpbHRlciA9IHtcbiAgY2FzdDogY2FzdCxcbiAgUHJvbWlzZTogUHJvbWlzZSxcbiAgRXZlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0LFxuICBhbGw6IGFsbCQxLFxuICBhbGxTZXR0bGVkOiBhbGxTZXR0bGVkLFxuICByYWNlOiByYWNlJDEsXG4gIGhhc2g6IGhhc2gsXG4gIGhhc2hTZXR0bGVkOiBoYXNoU2V0dGxlZCxcbiAgcmV0aHJvdzogcmV0aHJvdyxcbiAgZGVmZXI6IGRlZmVyLFxuICBkZW5vZGVpZnk6IGRlbm9kZWlmeSxcbiAgY29uZmlndXJlOiBjb25maWd1cmUsXG4gIG9uOiBvbixcbiAgb2ZmOiBvZmYsXG4gIHJlc29sdmU6IHJlc29sdmUkMixcbiAgcmVqZWN0OiByZWplY3QkMixcbiAgbWFwOiBtYXBcbn0sIF9kZWZpbmVQcm9wZXJ0eShfYXN5bmMkZmlsdGVyLCAnYXN5bmMnLCBhc3luYyksIF9kZWZpbmVQcm9wZXJ0eShfYXN5bmMkZmlsdGVyLCAnZmlsdGVyJywgLy8gYmFiZWwgc2VlbXMgdG8gZXJyb3IgaWYgYXN5bmMgaXNuJ3QgYSBjb21wdXRlZCBwcm9wIGhlcmUuLi5cbmZpbHRlciksIF9hc3luYyRmaWx0ZXIpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSByc3ZwO1xuZXhwb3J0cy5jYXN0ID0gY2FzdDtcbmV4cG9ydHMuUHJvbWlzZSA9IFByb21pc2U7XG5leHBvcnRzLkV2ZW50VGFyZ2V0ID0gRXZlbnRUYXJnZXQ7XG5leHBvcnRzLmFsbCA9IGFsbCQxO1xuZXhwb3J0cy5hbGxTZXR0bGVkID0gYWxsU2V0dGxlZDtcbmV4cG9ydHMucmFjZSA9IHJhY2UkMTtcbmV4cG9ydHMuaGFzaCA9IGhhc2g7XG5leHBvcnRzLmhhc2hTZXR0bGVkID0gaGFzaFNldHRsZWQ7XG5leHBvcnRzLnJldGhyb3cgPSByZXRocm93O1xuZXhwb3J0cy5kZWZlciA9IGRlZmVyO1xuZXhwb3J0cy5kZW5vZGVpZnkgPSBkZW5vZGVpZnk7XG5leHBvcnRzLmNvbmZpZ3VyZSA9IGNvbmZpZ3VyZTtcbmV4cG9ydHMub24gPSBvbjtcbmV4cG9ydHMub2ZmID0gb2ZmO1xuZXhwb3J0cy5yZXNvbHZlID0gcmVzb2x2ZSQyO1xuZXhwb3J0cy5yZWplY3QgPSByZWplY3QkMjtcbmV4cG9ydHMubWFwID0gbWFwO1xuZXhwb3J0cy5hc3luYyA9IGFzeW5jO1xuZXhwb3J0cy5maWx0ZXIgPSBmaWx0ZXI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yc3ZwLm1hcCJdfQ==\n"]}